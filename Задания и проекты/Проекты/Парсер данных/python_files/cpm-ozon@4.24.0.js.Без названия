!function(){"use strict";var e={};!function(e){var t,i,r,n,a,s;!function(e){e.IMAGES="images",e.SCRIPTS="scripts",e.CSS="css",e.FONTS="fonts",e.JSON="json",e.VIDEOS="videos",e.XHR="fetches"}(t||(t={})),function(e){e.COMPOSER_ACTION="composerAction"}(i||(i={})),function(e){e.AFTER_PAINT="widgetRenderEnd"}(r||(r={})),function(e){e.START="actionStart",e.END="actionEnd"}(n||(n={})),e.PerformanceEntryType=void 0,(a=e.PerformanceEntryType||(e.PerformanceEntryType={})).MARK="mark",a.MEASURE="measure",a.NAVIGATION="navigation",a.RESOURCE="resource",a.LONGTASK="longtask",a.PAINT="paint",a.ELEMENT="element",a.EVENT="event",a.FID="first-input",a.CLS="layout-shift",a.LCP="largest-contentful-paint",a.LOAF="long-animation-frame",function(e){e.NAVIGATION="navigation",e.CSS="css",e.SCRIPT="script",e.XHR="xmlhttprequest",e.FETCH="fetch",e.BEACON="beacon",e.VIDEO="video",e.AUDIO="audio",e.TRACK="track",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.A="a",e.IFRAME="iframe",e.FRAME="frame",e.OTHER="other",e.BODY="body",e.EARLY_HINT="early-hint",e.EMBED="embed",e.ICON="icon",e.LINK="link",e.OBJECT="object",e.ping="ping"}(s||(s={}));var o=Object.freeze({__proto__:null,get AssetType(){return t},get ComplexActionMarkName(){return n},get PerformanceEntryInitiatorType(){return s},get PerformanceEntryType(){return e.PerformanceEntryType},get RequestType(){return i},get WidgetRenderEndMarkName(){return r}});const c=(e,t=!1)=>{const i=()=>{"hidden"===document.visibilityState&&(e(),t&&window.removeEventListener("visibilitychange",i))};window.addEventListener("visibilitychange",i),window.addEventListener("beforeunload",(()=>e()))};var l;!function(e){e.START="start",e.END="end"}(l||(l={}));class d{constructor(e){Object.defineProperty(this,"heldEntries",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sentEntries",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"capacity",{enumerable:!0,configurable:!0,writable:!0,value:20}),this.capacity=void 0!==e.capacity?e.capacity:20}addHeldEntries(e,t=l.END){t===l.START?this.heldEntries.unshift(...e):this.heldEntries.push(...e)}addSentEntries(e){this.sentEntries.push(...e)}deleteHeldEntry(e){return"object"==typeof this.heldEntries[e]&&(this.heldEntries.splice(e,1),!0)}clearHeldEntries(){this.heldEntries=[]}clearSentEntries(){this.sentEntries=[]}isFull(){return this.heldEntries.length>=this.capacity}}const u={pageCloseEnabled:!0,capacity:20,sendTimeout:3e4,sendMethod:()=>Promise.resolve(!1)};class m{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scheduledSendTimer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isOnUnload",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.add=this.add.bind(this),this.config={...u,...e},this.store=new d({capacity:this.config.capacity}),this.scheduledSendTimer=((e,t)=>{let i;const r={start(){r.cancel(),i=window.setTimeout(e,t)},cancel(){window.clearTimeout(i),i=void 0}};return r})((()=>this.send()),this.config.sendTimeout),setTimeout((()=>{c(this.flush.bind(this),!0)}))}add(e,{forceSend:t=!1}={}){if(this.isOnUnload)return this.scheduledSendTimer.cancel(),void this.store.addHeldEntries([e]);this.store.addHeldEntries([e]),this.store.isFull()||t?this.flush():this.scheduledSendTimer.start()}flush(){this.scheduledSendTimer.cancel(),this.send()}async send(){const e=this.store.heldEntries.slice();e.length&&(this.config.sendMethod(e),this.store.clearHeldEntries(),this.store.addSentEntries(e))}}function h(e,t){return new Promise((i=>setTimeout((()=>i(t)),e)))}function p(e){const t=e&&e.serverTiming,i=t&&t.find((({name:e})=>"RequestID"===e));return i&&i.description||""}async function f(e,{timeout:t=50,attempts:i=10}={}){let r=e();for(i-=1;!r&&i>0;)await h(t),r=e(),i-=1;return r}const E=()=>window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone;class v{constructor(e,t,i){Object.defineProperty(this,"observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"entriesBuffer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"entryList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"resourceObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"collectMarks",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=e.getEntries();this.entryList=this.entryList.concat(t);const i=t.filter((e=>"paginationEnd"===e.name));i.forEach((e=>{const t=this.createPaginationEvent(e);t&&this.entriesBuffer.add(t)}))}}),Object.defineProperty(this,"stopCollectMarks",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.observer.disconnect()}}),this.resourceObserver=t,this.config=i,this.entriesBuffer=new m({sendTimeout:5e3,sendMethod:e}),this.observer=new PerformanceObserver(this.collectMarks),document.addEventListener("pagehide",this.stopCollectMarks)}createPaginationEvent(e){const t=e.detail?.queryUrl||"";if(t){const i=this.entryList.filter((e=>"paginationStart"===e.name)).find((e=>e.detail?.queryUrl===t));if(i?.startTime)return this.createPaginationEntry(t,i,e)}}createPaginationEntry(e,t,i){const r=this.resourceObserver.localFetchEntriesStore.find((t=>t.name.includes(e))),n=t.startTime,a=i.startTime-n,s=i.detail.loaderVisibleTime,o=s?s.end-s.start:0,c=t.detail;if(r){return{pageRequestId:this.config.htmlRequestId,requestId:p(r),layoutContainer:c.layoutContainer||"",stateId:c.stateId||"",index:c.paginationIndex,totalTime:a,networkTiming:r,loaderVisibleTime:o}}}startCollectMarks(){this.observer.observe({type:"mark",buffered:!0})}}var g;!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.EMPTY_ENTRY_LIST=1]="EMPTY_ENTRY_LIST",e[e.PAGE_OPENED_IN_BACKGROUND=2]="PAGE_OPENED_IN_BACKGROUND",e[e.PAGE_MOVED_TO_BACKGROUND=3]="PAGE_MOVED_TO_BACKGROUND",e[e.LCP_IS_GREATER_THAN_NAV_TOTAL_TIME=4]="LCP_IS_GREATER_THAN_NAV_TOTAL_TIME",e[e.LCP_ENTRY_TIME_PROPS_MISSING=5]="LCP_ENTRY_TIME_PROPS_MISSING",e[e.TAB_CLOSING=6]="TAB_CLOSING",e[e.SEND_FULL_DATA_AFTER_BEFORE_UNLOAD=7]="SEND_FULL_DATA_AFTER_BEFORE_UNLOAD"}(g||(g={}));const b=new class{get firstHiddenTime(){return this._firstHiddenTime}constructor(){if(Object.defineProperty(this,"_firstHiddenTime",{enumerable:!0,configurable:!0,writable:!0,value:-1}),this._firstHiddenTime=this.initHiddenTime(),this._firstHiddenTime>0){const e=t=>{"hidden"===document.visibilityState&&(this._firstHiddenTime=t.timeStamp,window.removeEventListener("visibilitychange",e,!0))};window.addEventListener("visibilitychange",e,!0)}}initHiddenTime(){let e=1/0;return"hidden"!==document.visibilityState||document.prerendering||(e=0),e}},T=()=>performance.getEntriesByType(e.PerformanceEntryType.NAVIGATION)[0]||{},y=e=>e.renderTime||e.loadTime,_=e=>{if(!e)return[];const t=[];let i=e;for(;i.parentNode&&"BODY"!==i.nodeName;){const e=i.getAttribute("data-widget");e&&t.push(e),i=i.parentNode}return t},w=()=>T().loadEventEnd,A={prerendering:!1,trackLcpAspects:!1,waitLcpTimeout:1e3};class I{constructor(t){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"LCP",{enumerable:!0,configurable:!0,writable:!0,value:{entries:[]}}),Object.defineProperty(this,"CLS",{enumerable:!0,configurable:!0,writable:!0,value:{entries:[]}}),Object.defineProperty(this,"FID",{enumerable:!0,configurable:!0,writable:!0,value:{entries:[]}}),Object.defineProperty(this,"LT",{enumerable:!0,configurable:!0,writable:!0,value:{entries:[]}}),Object.defineProperty(this,"clsObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lcpObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fidObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ltObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lcpAspects",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastLcpEntry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"zeroLcpReason",{enumerable:!0,configurable:!0,writable:!0,value:g.UNSPECIFIED}),this.config={...A,...t},this.lcpObserver=new PerformanceObserver((e=>{this.collectEntries(e,"LCP")})),this.clsObserver=new PerformanceObserver((e=>{this.collectEntries(e,"CLS")})),this.fidObserver=new PerformanceObserver((e=>{this.collectEntries(e,"FID")})),this.ltObserver=new PerformanceObserver((e=>{this.collectEntries(e,"LT")})),this.lcpObserver.observe({type:e.PerformanceEntryType.LCP,buffered:!0}),this.clsObserver.observe({type:e.PerformanceEntryType.CLS,buffered:!0}),this.fidObserver.observe({type:e.PerformanceEntryType.FID,buffered:!0}),this.ltObserver.observe({type:e.PerformanceEntryType.LONGTASK,buffered:!0})}stopCollecting(){this.lcpObserver.disconnect(),this.clsObserver.disconnect(),this.fidObserver.disconnect(),this.ltObserver.disconnect()}collectEntries(e,t){e.getEntries().forEach((e=>{this[t].entries.push(e)}))}calculateLCP(){if(this.zeroLcpReason=g.UNSPECIFIED,0===b.firstHiddenTime)return this.zeroLcpReason=g.PAGE_OPENED_IN_BACKGROUND,0;let e=this.LCP.entries;0===e.length&&(this.zeroLcpReason=g.EMPTY_ENTRY_LIST),e=e.filter((e=>e.startTime<b.firstHiddenTime)),0===e.length&&b.firstHiddenTime!==1/0&&(this.zeroLcpReason=g.PAGE_MOVED_TO_BACKGROUND);const t=w();if(!this.config.prerendering){const i=e.filter((e=>y(e)<=t+this.config.waitLcpTimeout));this.zeroLcpReason===g.UNSPECIFIED&&0===i.length&&(this.zeroLcpReason=g.LCP_IS_GREATER_THAN_NAV_TOTAL_TIME)}this.lastLcpEntry=e[e.length-1];const i=this.lastLcpEntry?y(this.lastLcpEntry):0;return this.zeroLcpReason===g.UNSPECIFIED&&null==i&&(this.zeroLcpReason=g.LCP_ENTRY_TIME_PROPS_MISSING),i}async waitForLCP(){return await f((()=>this.LCP.entries.length>0),{timeout:this.config.waitLcpTimeout/20,attempts:20,label:"LCP"})}async startCalculateLcpAspects(){const e=this.lastLcpEntry?.element,t=e?.localName||"",i=e?.currentSrc||"",r=Array.from(e?.classList||[]).map((e=>"."+e)).join(""),n=Math.round(window.scrollY);if(this.lcpAspects={loadTime:this.lastLcpEntry?.loadTime||0,renderTime:this.lastLcpEntry?.renderTime||0,widgets:e?_(e):[],size:this.lastLcpEntry?.size||0,tag:t,url:i,cssClassName:r,scrollPosition:n,zeroValueReason:this.zeroLcpReason,zeroValueReasonExperiment:this.zeroLcpReason},i){await f((()=>performance.getEntriesByName(i).length>0),{label:"lcpAspects"});const t=performance.getEntriesByName(i)[0];this.lcpAspects.networkTiming=t,this.lcpAspects.widgets=e?_(e):[]}}calculateCLS(){const e=w();return this.CLS.entries.reduce(((t,i)=>i.startTime<=e&&!i.hadRecentInput?t+i.value:t),0)}calculateFID(){const e=this.FID.entries[0];return e?e.processingStart-e.startTime:0}calculateLT(){return this.LT.entries.length}async waitWebVitals(){return this.calculateLCP(),this.lastLcpEntry&&!this.config.prerendering||(await this.waitForLCP(),this.calculateLCP()),this.stopCollecting(),await this.startCalculateLcpAspects(),this.flushWebVitals()}flushWebVitals(e=!1){const t={cls:this.calculateCLS(),lcp:this.calculateLCP(),fid:this.calculateFID(),lt:this.calculateLT(),lcpAspects:void 0};if(this.config.trackLcpAspects){this.lcpAspects||this.startCalculateLcpAspects();const i=[g.PAGE_OPENED_IN_BACKGROUND,g.PAGE_MOVED_TO_BACKGROUND];e&&this.lcpAspects&&!i.includes(this.lcpAspects.zeroValueReason)&&(this.lcpAspects.zeroValueReasonExperiment=g.TAB_CLOSING),t.lcpAspects=this.lcpAspects}return t}}const P=".m3u8",O=".ts",L=".mpd",S=/\.(mp4|m4s)$/i,R=/\.(mp4|m4s|m4v|m4a|avi|webm|mkv|wmv|mpg|mov|flv)$/i,C=/tile\.mp4$/i;var k;function M(e){if(!e)return!1;const t=N(e);return C.test(t)}function N(e){return e.split("?")[0]}function D(e){const t=function(e){const t=N(e.name);if([s.VIDEO,s.OTHER].includes(e.initiatorType)&&R.test(t))return k.MP4;if([s.FETCH,s.XHR].includes(e.initiatorType)){if(t.endsWith(P))return k.HLS_MANIFEST;if(t.endsWith(O))return k.HLS_CHUNK;if(t.endsWith(L))return k.DASH_MANIFEST;if(S.test(t))return k.DASH_CHUNK}return null}(e);return null!==t}function V(e,t,i){const r=M(e);return!(!r||!t)||!(r||!i)}!function(e){e.MP4="mp4",e.HLS_MANIFEST="hls_manifest",e.HLS_CHUNK="hls_chunk",e.DASH_MANIFEST="dash_manifest",e.DASH_CHUNK="dash_chunk"}(k||(k={}));let F=null;function j(){if("boolean"==typeof F)return F;try{F=!!localStorage.getItem("rumTrackerDebug")}catch(e){F=!1}return F||!1}const H=e=>/\.css$/.test(e.name),W=e=>/\.woff2?$/.test(e.name),U=e=>/\.json$/.test(e.name),B=e=>/\.js$/.test(e.name),G=e=>{const t=e.initiatorType===s.IMG,i=e.initiatorType===s.CSS&&/.(jpe?g|png|webp)/i.test(e.name);return t||i},x=e=>D(e);class Y{constructor(e){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabledBuffers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_composerActionsBuffer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"localFetchEntriesStore",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"$debugAllResources",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"stopCollectEntries",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this._observer.disconnect()}}),this._config=e,this._enabledBuffers=(e=>{const i=new Map,r=t=>{i.set(t,new m({sendMethod:i=>e.sendCallback(i,t)}))};return e.trackImages&&r(t.IMAGES),e.trackScripts&&r(t.SCRIPTS),e.trackCss&&r(t.CSS),e.trackFonts&&r(t.FONTS),e.trackJson&&r(t.JSON),(e.trackVideos||e.trackVideosForTile)&&r(t.VIDEOS),e.trackXhr&&r(t.XHR),i})(this._config),e.trackComposerActions&&(this._composerActionsBuffer=new m({sendMethod:t=>e.sendCallback(t,i.COMPOSER_ACTION)}));this._observer=new PerformanceObserver((e=>{this._collectEntries(e)})),document.addEventListener("pagehide",this.stopCollectEntries)}_collectEntry(e){j()&&this.$debugAllResources.push(e);const i=(e=>H(e)?t.CSS:W(e)?t.FONTS:G(e)?t.IMAGES:U(e)?t.JSON:B(e)?t.SCRIPTS:x(e)?t.VIDEOS:e.initiatorType===s.XHR||e.initiatorType===s.FETCH?t.XHR:void 0)(e);if(i){const r=this._enabledBuffers.get(i);if(i===t.VIDEOS&&!V(e.name,!!this._config.trackVideosForTile,!!this._config.trackVideos))return;r?.add(e)}i===t.XHR&&((e=>/\/composer-api.bx\/_action/.test(e.name))(e)?this._composerActionsBuffer?.add(e):this.localFetchEntriesStore.push(e))}_collectEntries(e){e.getEntries().forEach(this._collectEntry.bind(this))}startCollectEntries(){this._observer.observe({type:"resource",buffered:!0})}}const q=["adsense","google_ad"],K=()=>q[Math.floor(Math.random()*q.length)];let $=!1;const z=1,X=2,J=3,Q=4;let Z=0;let ee=0,te=0,ie=0,re=0,ne=0;function ae(){!async function(){try{if(!navigator.permissions)return void(Z=Q);if("undefined"==typeof Notification)return void(Z=Q);const e=await new Promise((e=>{navigator.permissions.query({name:"notifications"}).then((t=>{const i=t.state;e("denied"===Notification.permission&&("prompt"===i||"granted"===i))}))}));Z=e?X:z}catch(e){Z=J,window.reportError(e)}}(),(async()=>{const e=document.createElement("div");e.id=`${K()}`,e.className=`${K()}`,e.style.height="1px",e.style.width="1px",document.body.appendChild(e),$=await f((()=>e&&0===e.offsetHeight||0===e.offsetWidth||0===e.clientHeight||0===e.clientWidth||"hidden"===e.style.display||"none"===e.style.visibility||0===parseFloat(e.style.opacity)),{timeout:100,attempts:20}),document.body.removeChild(e)})(),window.addEventListener("scroll",(()=>{ee++}),!0),window.addEventListener("mousemove",(()=>{te++}),!0),window.addEventListener("touchmove",(()=>{ie++}),!0),window.addEventListener("keydown",(()=>{re++}),!0),window.addEventListener("click",(()=>{ne++}),!0)}function se(){return{blocker:$,permissions:Z,nativeOnly:!navigator.webdriver,history:window.history.length,scroll:ee,move:te,touch:ie,click:ne,key:re,duration:performance.now()}}const oe={html_head_start:"htmlHeadStart",link_preloaded:"linkPreloaded",meta_loaded:"metaLoaded",link_preconnected:"linkPreconnected",fonts_loaded:"fontsLoaded",css_parsed:"cssParsed",head_html_parsed:"headHtmlParsed",body_html_parsed:"bodyHtmlParsed",HYDRATION_TIME:"appInitEnd"},ce=()=>{const e=[];return Object.keys(oe).forEach((t=>{const i=performance.getEntriesByName(t)[0];i&&e.push({name:t,time:i.startTime})})),e};class le{constructor(){Object.defineProperty(this,"startTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"lastFrameTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"totalFrames",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"lastFrameFps",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"minFps",{enumerable:!0,configurable:!0,writable:!0,value:Number.MAX_SAFE_INTEGER}),Object.defineProperty(this,"maxFps",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"continue",{enumerable:!0,configurable:!0,writable:!0,value:!0})}reset(){this.continue=!0;const e=performance.now();this.startTime=e,this.lastFrameTime=e,this.totalFrames=0,this.lastFrameFps=0,this.minFps=Number.MAX_SAFE_INTEGER,this.maxFps=0}start(){this.reset();const e=()=>{this.totalFrames++;const t=performance.now(),i=t-this.lastFrameTime;this.lastFrameFps=1e3/i,this.minFps=Math.min(this.minFps,this.lastFrameFps),this.maxFps=Math.max(this.maxFps,this.lastFrameFps),this.lastFrameTime=t,this.continue&&window.requestAnimationFrame(e)};window.requestAnimationFrame(e)}stop(){this.continue=!1}get avgFps(){return 1e3*this.totalFrames/(this.lastFrameTime-this.startTime)}getResult(){return{last:this.lastFrameFps,min:this.minFps,max:this.maxFps,avg:this.avgFps}}}class de{constructor(){Object.defineProperty(this,"observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"entries",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.observer=new PerformanceObserver((e=>{this.entries=e.getEntries(),this.observer.disconnect()})),this.observer.observe({type:"element",buffered:!0})}async collectData(){if(!document||!document.querySelectorAll("[elementtiming]").length)return[];if(await f((()=>this.entries.length>0)),!this.entries.length)return[];const e=[],t=new Set;let i=0;for(;e.length<=5&&i<this.entries.length;){const r=this.entries[i],n=r.identifier;t.has(n)||(t.add(n),e.push(r)),i++}return e.map((e=>{const t=e.identifier.replace("lcp_eltiming_",""),i=performance.getEntriesByName("lcp_script_"+t)[0];return{name:t,loadTime:e.loadTime,renderTime:e.renderTime,scriptTiming:i&&i.startTime,networkTiming:performance.getEntriesByName(e.url)[0]}}))}}class ue{constructor(e){Object.defineProperty(this,"marksObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startMarks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"networkObservers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"entriesBuffer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"collectMarks",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=e.getEntries(),i=t.filter((e=>e.name===n.START));i.forEach((e=>{const t=e.detail.actionName;this.startMarks.set(t,e),this.startNetworkObserver(t,e.detail.params)}));const r=t.filter((e=>e.name===n.END));r.forEach((e=>{const t=this.createActionEntry(e);t&&this.entriesBuffer.add(t)}))}}),Object.defineProperty(this,"stopCollectMarks",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.marksObserver.disconnect(),this.networkObservers.forEach((({observer:e,autoDestroyTimer:t})=>{e.disconnect(),clearTimeout(t)}))}}),this.marksObserver=new PerformanceObserver(this.collectMarks),this.entriesBuffer=new m({sendTimeout:5e3,sendMethod:e}),document.addEventListener("pagehide",this.stopCollectMarks)}createActionEntry(e){const t=e.detail?.actionName,i=t?this.startMarks.get(t):void 0;if(i&&(this.startMarks.delete(t),i.startTime)){const r=i.startTime;return{name:t,totalTime:e.startTime-r,networkTimings:this.stopNetworkObserver(t,i.detail.params)}}}startNetworkObserver(e,t){if(!t?.composerActionLink)return;const i=this.networkObservers.get(e);if(i){const{observer:e,autoDestroyTimer:t}=i;e.disconnect(),clearTimeout(t)}const r=new PerformanceObserver((i=>{this.saveNetworkEntries(i.getEntries(),e,t)}));r.observe({type:"resource",buffered:!1});const n=window.setTimeout((()=>{r.disconnect(),this.networkObservers.delete(e)}),1e4);this.networkObservers.set(e,{observer:r,autoDestroyTimer:n,entries:[]})}stopNetworkObserver(e,t){const i=this.networkObservers.get(e);if(i){const{observer:r,autoDestroyTimer:n,entries:a}=i;return this.saveNetworkEntries(r.takeRecords(),e,t),r.disconnect(),clearTimeout(n),this.networkObservers.delete(e),a}return[]}saveNetworkEntries(e,t,i){e.forEach((e=>{const r=["fetch","xmlhttprequest"].includes(e.initiatorType),n=!!i&&!!i.composerActionLink&&e.name.includes(`/composer-api.bx/_action/${i.composerActionLink}`);r&&n&&this.networkObservers.get(t)?.entries.push(e)}))}startCollectMarks(){this.marksObserver.observe({type:"mark",buffered:!0})}}let me,he=[];function pe(e){me||function(){let e=new MessageChannel;me=function(){this.postMessage(void 0)}.bind(e.port2),e.port1.onmessage=()=>{const e=he;he=[];const t=performance.now();for(let i=0;i<e.length;i++)e[i](t)},e=null}(),he.push(e),1===he.length&&requestAnimationFrame(me)}var fe,Ee,ve,ge=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},be=function(e){if("loading"===document.readyState)return"loading";var t=ge();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},Te=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},ye=function(e,t){var i="";try{for(;e&&9!==e.nodeType;){var r=e,n=r.id?"#"+r.id:Te(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(i.length+n.length>(t||100)-1)return i||n;if(i=i?n+">"+i:n,r.id)break;e=r.parentNode}}catch(e){}return i},_e=-1,we=function(e,t){var i=ge(),r="navigate";return _e>=0?r="back-forward-cache":i&&(document.prerendering||function(){var e=ge();return e&&e.activationStart||0}()>0?r="prerender":document.wasDiscarded?r="restore":i.type&&(r=i.type.replace(/_/g,"-"))),{name:e,value:-1,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Ae=function(e,t,i){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},i||{})),r}}catch(e){}},Ie=function(e,t,i,r){var n,a;return function(s){t.value>=0&&(s||r)&&((a=t.value-(n||0))||void 0===n)&&(n=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,i),e(t))}},Pe=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},Oe=0,Le=1/0,Se=0,Re=function(e){e.forEach((function(e){e.interactionId&&(Le=Math.min(Le,e.interactionId),Se=Math.max(Se,e.interactionId),Oe=Se?(Se-Le)/7+1:0)}))},Ce=function(){"interactionCount"in performance||fe||(fe=Ae("event",Re,{type:"event",buffered:!0,durationThreshold:0}))},ke=[],Me=new Map,Ne=0,De=function(){return(fe?Oe:performance.interactionCount||0)-Ne},Ve=[],Fe=function(e){if(Ve.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=ke[ke.length-1],i=Me.get(e.interactionId);if(i||ke.length<10||e.duration>t.latency){if(i)e.duration>i.latency?(i.entries=[e],i.latency=e.duration):e.duration===i.latency&&e.startTime===i.entries[0].startTime&&i.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};Me.set(r.id,r),ke.push(r)}ke.sort((function(e,t){return t.latency-e.latency})),ke.length>10&&ke.splice(10).forEach((function(e){return Me.delete(e.id)}))}}},je=function(e){var t=self.requestIdleCallback||self.setTimeout,i=-1;return e=function(e){var t=!1;return function(){t||(e(),t=!0)}}(e),"hidden"===document.visibilityState?e():(i=t(e),Pe(e)),i},He=[200,500],We=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()}((function(){var i;Ce();var r,n=we("INP"),a=function(e){je((function(){e.forEach(Fe);var t,i=(t=Math.min(ke.length-1,Math.floor(De()/50)),ke[t]);i&&i.latency!==n.value&&(n.value=i.latency,n.entries=i.entries,r())}))},s=Ae("event",a,{durationThreshold:null!==(i=t.durationThreshold)&&void 0!==i?i:40});r=Ie(e,n,He,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Pe((function(){a(s.takeRecords()),r(!0)})),function(e){addEventListener("pageshow",(function(t){t.persisted&&(_e=t.timeStamp,e(t))}),!0)}((function(){Ne=0,ke.length=0,Me.clear(),n=we("INP"),r=Ie(e,n,He,t.reportAllChanges)})))})))},Ue=[],Be=new Map,Ge=[],xe=new WeakMap,Ye=new Map,qe=-1,Ke=function(e){Ue=Ue.concat(e),$e()},$e=function(){qe<0&&(qe=je(ze))},ze=function(){Ye.size>10&&Ye.forEach((function(e,t){Me.has(t)||Ye.delete(t)})),Ge=Ge.slice(-50);var e=new Set(Ge.concat(ke.map((function(e){return xe.get(e.entries[0])}))));Be.forEach((function(t,i){e.has(i)||Be.delete(i)}));var t=new Set;Be.forEach((function(e){Je(e.startTime,e.processingEnd).forEach((function(e){t.add(e)}))}));for(var i=0;i<50;i++){var r=Ue[Ue.length-1-i];if(!r||r.startTime<ve)break;t.add(r)}Ue=Array.from(t),qe=-1};Ve.push((function(e){e.interactionId&&e.target&&!Ye.has(e.interactionId)&&Ye.set(e.interactionId,e.target)}),(function(e){var t,i=e.startTime+e.duration;ve=Math.max(ve,e.processingEnd);for(var r=Ge.length-1;r>=0;r--)if(t=Ge[r],Math.abs(i-t)<=8){var n=Be.get(t);n.startTime=Math.min(e.startTime,n.startTime),n.processingStart=Math.min(e.processingStart,n.processingStart),n.processingEnd=Math.max(e.processingEnd,n.processingEnd),n.entries.push(e),i=t;break}i!==t&&(Ge.push(i),Be.set(i,{startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,entries:[e]})),(e.interactionId||"first-input"===e.entryType)&&xe.set(e,i),$e()}));var Xe,Je=function(e,t){for(var i,r=[],n=0;i=Ue[n];n++)if(!(i.startTime+i.duration<e)){if(i.startTime>t)break;r.push(i)}return r};function Qe(e){if(e)return Number(e.getAttribute("data-widget-id"))||void 0}function Ze(e){if(e)return e.getAttribute("data-state-id")||void 0}function et(e){return{startTime:e.startTime,duration:e.duration,invoker:e.invoker,invokerType:e.invokerType,forcedStyleAndLayoutDuration:e.forcedStyleAndLayoutDuration,pauseDuration:e.pauseDuration,sourceUrl:e.sourceURL,sourceFunctionName:e.sourceFunctionName,sourceCharPosition:e.sourceCharPosition,windowAttribution:e.windowAttribution}}function tt(e){return{startTime:e.startTime,duration:e.duration,blockingDuration:e.blockingDuration,renderStart:e.renderStart,styleAndLayoutStart:e.styleAndLayoutStart,scripts:(e.scripts||[]).map(et)}}function it(e,t){const i=Qe(e),r=Ze(e);let n;if(t){const i=e.__vue__?.$data?.widgetsToMount;let r;i&&Object.prototype.hasOwnProperty.call(i,t)&&(r=i[t]),r&&r.paginationIndex&&(n=r.paginationIndex)}return{paginatorWidgetId:i,paginatorStateId:r,pageIndex:n}}class rt{constructor(){Object.defineProperty(this,"inpMetric",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"htmlElementRelatedAspects",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inpAspectsCache",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.htmlElementRelatedAspects={widgets:[],closestWidgetId:void 0,htmlElementSelector:void 0},function(e,t){Ee||(Ee=Ae("long-animation-frame",Ke)),We((function(t){var i=function(e){var t=e.entries[0],i=xe.get(t),r=Be.get(i),n=t.processingStart,a=r.processingEnd,s=r.entries.sort((function(e,t){return e.processingStart-t.processingStart})),o=Je(t.startTime,a),c=e.entries.find((function(e){return e.target})),l=c&&c.target||Ye.get(t.interactionId),d=[t.startTime+t.duration,a].concat(o.map((function(e){return e.startTime+e.duration}))),u=Math.max.apply(Math,d),m={interactionTarget:ye(l),interactionTargetElement:l,interactionType:t.name.startsWith("key")?"keyboard":"pointer",interactionTime:t.startTime,nextPaintTime:u,processedEventEntries:s,longAnimationFrameEntries:o,inputDelay:n-t.startTime,processingDuration:a-n,presentationDelay:Math.max(u-a,0),loadState:be(t.startTime)};return Object.assign(e,{attribution:m})}(t);e(i)}),t)}((e=>{this.inpMetric=e;const t=function(e){let t=null;return t=e.interactionTargetElement?e.interactionTargetElement:e.processedEventEntries.find((e=>!!e.target))?.target??null,t}(e.attribution);this.htmlElementRelatedAspects=function(e){if(!e)return{widgets:[],closestWidgetId:void 0,htmlElementSelector:void 0};const t=[];let i=null;const r=[];let n=e;for(;n&&n.parentNode&&"BODY"!==n.nodeName;){const e=n.getAttribute("data-widget");if(e){const a={name:e,lmtId:void 0,metaInfo:void 0};if(t.push(a),1===t.length&&(i=n),"paginator"===e){const e=it(n,r.length>0?r[r.length-1].paginatorStateId:Ze(i));e&&(r.push(e),a.lmtId=e.paginatorWidgetId,a.metaInfo={pageIndex:e.pageIndex||-2})}}n=n.parentElement}const a=i?Qe(i):void 0;let s;if(i){const t=function(e,t){let i=[],r=e;for(;r&&r.parentNode&&"BODY"!==r.nodeName&&r!==t;){const e=r.id;let t="";const n=r.nodeName.toLowerCase();if(e)t=`${n}#${e}`;else{const e=r.classList.value.trim();t=`${n}${e.length>0?"."+e.replace(/\s+/g,"."):""}`}i.push(t),r=r.parentNode}return i=i.reverse(),i}(e,i);s=t.join(">")}return a&&(t[0].lmtId=a),{widgets:t,closestWidgetId:a,htmlElementSelector:s}}(t),this.inpAspectsCache=null,j()&&console.warn("inp",this.inpMetric)}),{reportAllChanges:!0})}getINPValue(){const e=this.inpMetric?.value;return e}hasCachedINPAspects(){return!!this.inpAspectsCache}getINPAspects(){if(this.inpAspectsCache)return this.inpAspectsCache;const e=this.inpMetric;if(!e)return;const t=e.entries[0],i=e.attribution,r={...this.htmlElementRelatedAspects,inp:e.value,navigationType:e.navigationType,loadState:i.loadState,eventName:t.name,interactionTime:i.interactionTime,inputDelay:i.inputDelay,processingDuration:i.processingDuration,nextPaintTime:i.nextPaintTime,longAnimationFrames:(i.longAnimationFrameEntries||[]).map(tt)};return this.inpAspectsCache=r,r}}async function nt(){const e=await navigator.permissions.query({name:"notifications"});return"denied"===Notification.permission&&"prompt"===e.state}async function at(e){if(!navigator.permissions)return!1;try{return(e?await async function(){return Promise.race([nt(),h(100,!0)])}():await nt())??!1}catch(e){}return!1}!function(e){e.WEBDRIVER="webdriver",e.HEADLESS="headless"}(Xe||(Xe={}));const st=async({detectHeadless:e})=>{let t;return await at(e)?t=Xe.HEADLESS:window.navigator.webdriver&&(t=Xe.WEBDRIVER),t},ot=async()=>{if(navigator.getBattery)return navigator.getBattery().then((({level:e})=>e)).catch((()=>{}))},ct=async e=>{const[t,i]=await Promise.all([st({detectHeadless:e.detectHeadless}),ot()]),r={deviceBattery:i,deviceCores:window.navigator.hardwareConcurrency,deviceRam:void 0,downlink:void 0,effectiveConnectionType:void 0,fps:e.fps,isPwa:E(),referrer:window.document.referrer,roundTripTime:void 0,screenPixelDensity:window.devicePixelRatio,screenResolutionX:window.screen.width,screenResolutionY:window.screen.height,testingToolName:t,trackerVersion:e.trackerVersion};return void 0!==window.navigator.deviceMemory&&(r.deviceRam=window.navigator.deviceMemory),void 0!==window.navigator.connection?.downlink&&(r.downlink=window.navigator.connection.downlink),void 0!==window.navigator.connection?.effectiveType&&(r.effectiveConnectionType=window.navigator.connection.effectiveType),void 0!==window.navigator.connection?.rtt&&(r.roundTripTime=window.navigator.connection.rtt),r},lt=(e,t,i,r,n)=>{const a={};if(e){e.querySelectorAll("img").forEach((e=>{const t=e.getAttribute("src")??void 0,i=n.find((e=>e.name===t));i&&a.mediaLoadMaxTime&&i.responseEnd>a.mediaLoadMaxTime&&(a.mediaLoadMaxTime=i.responseEnd,a.mediaLoadMaxUrl=t)}))}return{widgetName:t,widgetRenderTime:i,isFirstMount:r.isFirstMount,isComposerAsyncWidget:r.isAsyncWidget,...a}},dt=t=>{const i=performance.getEntriesByType(e.PerformanceEntryType.MARK),n={};i.forEach((e=>{const{name:i,startTime:a,detail:s}=e;if(!(i===r.AFTER_PAINT))return;const o=s?.stateId;if(!o)return;const c=document.querySelector(`[data-mark=${o}]`),l=t.localFetchEntriesStore;if(!c||c.dataset.widget){const e=((e,t,i,r,n)=>{const a=n.find((e=>e.name.includes(t))),s={};a&&(s.requestId=p(a),s.networkTiming=a);const o={...s,...lt(e,t,i,r,n)};return r.beforePaintAt&&(o.nestedWidgets=[{widgetName:"beforePaint",widgetRenderTime:r.beforePaintAt}]),o})(c,o,a,s,l);e&&(n[o]=e)}else{const e=c.closest("[data-widget]");if(!e)return;const t=e.dataset.widget||"";n[t]||(n[t]={widgetName:t});const i=n[t];i.nestedWidgets||(i.nestedWidgets=[]);const r=lt(c,o,a,s,l);i.nestedWidgets.push(r)}}));return Object.values(n).slice(0,30)};class ut{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e}async getBrowserData(e){return await ct({fps:e,trackerVersion:this.config.trackerVersion,detectHeadless:this.config.detectHeadless})}async createCommonBlocks(e){return{browser:await this.getBrowserData(e)}}async createHtmlEvent(e){const{htmlRequestId:t,htmlRequestIdTimestamp:i}=this.config;return{...await this.createCommonBlocks(e.fps),htmlEvent:{requestId:t,requestIdTimestamp:i,navigationTiming:T(),webVitals:e.webVitals,performanceMarks:e.performanceMarks,elements:e.elements}}}async createAssetsEvent(e,t){const{htmlRequestId:i,htmlRequestIdTimestamp:r}=this.config;return{...await this.createCommonBlocks(),htmlEvent:{requestId:i,requestIdTimestamp:r,assets:{[t]:e.map((e=>({networkTiming:e})))}}}}async createPaginationEvent(e){return{...await this.createCommonBlocks(),paginationEvents:e}}async createStatEvent(e){const{htmlRequestId:t,htmlRequestIdTimestamp:i}=this.config;return{...await this.createCommonBlocks(),statEvent:{requestId:t,requestIdTimestamp:i,...se(),inp:e}}}async createStatAndINPAspectsEvents(e){const{htmlRequestId:t,htmlRequestIdTimestamp:i}=this.config,r=await this.createCommonBlocks(),n={...r,statEvent:{requestId:t,requestIdTimestamp:i,...se(),inp:e.inp}},a=(()=>{const e=window.__NUXT__?.state?.browser,t=window.__NUXT__?.state?.pageInfo;return{platform:e?.platform,userAgent:e?.browser,browserFamily:e?.family,browserVersion:e?.majorVersion?String(e?.majorVersion):void 0,url:window.location.href,pageType:t?.pageType}})();return{statEvent:n,inpAspectsEvent:{browser:{...r.browser,...a},inpAspects:{requestId:t,requestIdTimestamp:i,...e}}}}async createComposerActionEvent(e){const{htmlRequestId:t,htmlRequestIdTimestamp:i}=this.config;return{...await this.createCommonBlocks(),asyncActionEvent:{requestId:t,requestIdTimestamp:i,actions:e.map((e=>({requestId:p(e),networkTiming:e})))}}}async createVideoEvent(e){const{htmlRequestId:t}=this.config;return{...await this.createCommonBlocks(),videoEvents:[{requestId:t,...e}]}}async createAsyncWidgetsEvent(e){const t=dt(e);if(!t.length)return null;return{...await this.createCommonBlocks(),asyncWidgetsEvent:{requestId:this.config.htmlRequestId,widgets:t}}}async createComplexActionsEvent(e){const{htmlRequestId:t,trackComposerActions:i}=this.config;return{...await this.createCommonBlocks(),asyncWidgetsEvent:{requestId:t,widgets:e.map((e=>{const t=e.networkTimings?.[0];let r=p(t);return i||(r=""),{widgetName:e.name,widgetRenderTime:e.totalTime,networkTiming:t,requestId:r,isComposerAsyncWidget:!1,isFirstMount:!1}}))}}}}const mt=Object.freeze({GALLERY_VIDEO_SELECT_MANUALLY:"pdpClickGalleryItem",GALLERY_MODAL_VIDEO_SELECT_MANUALLY:"pdpClickModalGalleryItem",GALLERY_OPEN_MODAL:"pdpClickOpenModalGallery",REVIEWS_MODAL_OPEN:"reviewsClickOpenModal",REVIEWS_MODAL_NEXT_VIDEO:"reviewsNextSlideCarousel",REVIEWS_MODAL_PREV_VIDEO:"reviewsPrevSlideCarousel",REVIEW_PREVIEW_HOVER:"reviewsHoverTile",REVIEW_PREVIEW_CLICK:"reviewsClickTile",SEARCH_TILE_IN_VIEWPORT:"naviVideoAddInViewport",SEARCH_TILE_SWIPE:"naviVideoAddInQueueOnSwipe",SEARCH_TILE_RESET_IMAGE:"naviVideoAddInQueueOnResetImage",SEARCH_TILE_PLAYING:"naviVideoIsPlaying"}),ht=Object.freeze({UNSPECIFIED:"",GALLERY_VIDEO_COVER_AUTOPLAY:"gallery_video_cover_autoplay",ADV_VIDEO_AUTOPLAY:"adv_video_autoplay",GALLERY_VIDEO_SELECT_MANUALLY:"gallery_video_select_manually",GALLERY_MODAL_VIDEO_SELECT_MANUALLY:"gallery_modal_video_select_manually",GALLERY_OPEN_MODAL:"gallery_open_modal",REVIEWS_MODAL_OPEN:"reviews_modal_open",REVIEWS_MODAL_NEXT_VIDEO:"reviews_modal_next_video",REVIEWS_MODAL_PREV_VIDEO:"reviews_modal_prev_video",REVIEW_PREVIEW_HOVER:"review_preview_tile_hover",REVIEW_PREVIEW_CLICK:"review_preview_click",SEARCH_TILE_IN_VIEWPORT:"search_tile_in_viewport",SEARCH_TILE_SWIPE:"search_tile_swipe",SEARCH_TILE_RESET_IMAGE:"search_tile_reset_image",SEARCH_TILE_PLAYING_UNSPECIFIED:"search_tile_unspecified"}),pt=Object.freeze({[mt.GALLERY_VIDEO_SELECT_MANUALLY]:ht.GALLERY_VIDEO_SELECT_MANUALLY,[mt.GALLERY_MODAL_VIDEO_SELECT_MANUALLY]:ht.GALLERY_MODAL_VIDEO_SELECT_MANUALLY,[mt.GALLERY_OPEN_MODAL]:ht.GALLERY_OPEN_MODAL,[mt.REVIEWS_MODAL_OPEN]:ht.REVIEWS_MODAL_OPEN,[mt.REVIEWS_MODAL_NEXT_VIDEO]:ht.REVIEWS_MODAL_NEXT_VIDEO,[mt.REVIEWS_MODAL_PREV_VIDEO]:ht.REVIEWS_MODAL_PREV_VIDEO,[mt.SEARCH_TILE_IN_VIEWPORT]:ht.SEARCH_TILE_IN_VIEWPORT,[mt.SEARCH_TILE_SWIPE]:ht.SEARCH_TILE_SWIPE,[mt.SEARCH_TILE_RESET_IMAGE]:ht.SEARCH_TILE_RESET_IMAGE,[mt.SEARCH_TILE_PLAYING]:ht.SEARCH_TILE_PLAYING_UNSPECIFIED,[mt.REVIEW_PREVIEW_HOVER]:ht.REVIEW_PREVIEW_HOVER,[mt.REVIEW_PREVIEW_CLICK]:ht.REVIEW_PREVIEW_CLICK}),ft=12e5;class Et{constructor(e){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loadedVideoTimings",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"_awaitedUrls",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"_deletedVideoTimings",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"stopCollectEntries",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this._observer.disconnect()}}),this._config=e,this._observer=new PerformanceObserver(this._collectEntries.bind(this)),this.startCollectEntries(),setInterval((()=>{"function"==typeof requestIdleCallback?requestIdleCallback((()=>{this._clearOldTimings()})):this._clearOldTimings()}),18e5)}startCollectEntries(){this._observer.observe({type:"resource",buffered:!0})}_collectEntries(e){e.getEntries().forEach(this._collectEntry.bind(this))}_collectEntry(e){if(D(e)&&V(e.name,!!this._config.trackMediaPlayerMetricsForTile,!!this._config.trackMediaPlayerMetrics)){const t=e.name;let i=this._loadedVideoTimings.get(t);i||(i=[],this._loadedVideoTimings.set(t,i)),i.push(e)}}_getResourceTiming(e,t){const i=this._loadedVideoTimings.get(e);if(!i)return null;const r=i.find((e=>e.startTime>=t));return r??null}async waitResourceTiming(e,t,i=6e4){let r=this._awaitedUrls.get(e)??0;this._awaitedUrls.set(e,r+1);const n=await async function(e,{timeout:t=50,attempts:i=10}={}){let r=e();for(i-=1;null===r&&i>0;)await h(t),r=e(),i-=1;return r}((()=>this._getResourceTiming(e,t)),{timeout:i/10,attempts:10});return r=this._awaitedUrls.get(e)??0,this._awaitedUrls.set(e,r-1),n}clearResourceTiming(e){const t=this._loadedVideoTimings.get(e.name);if(!t)return;const i=t.findIndex((t=>t===e));i>=0&&(t.splice(i,1),j()&&this._addDeletedTiming(e))}_clearOldTimings(){const e=[],t=performance.now();this._loadedVideoTimings.forEach(((i,r)=>{if(this._awaitedUrls.has(r))return;const n=i.filter((e=>e.startTime>=t-ft));if(j()){const e=i.filter((e=>e.startTime<t-ft));e.forEach(this._addDeletedTiming)}0===n.length?e.push(r):this._loadedVideoTimings.set(r,n)})),e.length===this._loadedVideoTimings.size?this._loadedVideoTimings.clear():e.forEach((e=>{this._loadedVideoTimings.delete(e)}))}_addDeletedTiming(e){const t=e.name;let i=this._deletedVideoTimings.get(t);i||(i=[],this._deletedVideoTimings.set(t,i)),i.push(e)}}var vt,gt;!function(e){e.OTHER="other",e.REVIEW_PREVIEW="review-preview",e.TILE="tile",e.ADV="advertisement",e.REVIEW="review",e.GALLERY="gallery"}(vt||(vt={})),function(e){e[e.TILE=5]="TILE",e[e.REVIEW=8]="REVIEW",e[e.GALLERY=9]="GALLERY",e[e.REVIEW_PREVIEW=10]="REVIEW_PREVIEW",e[e.ADV=11]="ADV",e[e.OTHER=12]="OTHER",e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.VIDEO=1]="VIDEO",e[e.FEED=2]="FEED",e[e.STREAM=3]="STREAM",e[e.PDP=4]="PDP",e[e.TILE_CATALOG=6]="TILE_CATALOG",e[e.ADVERTISEMENT=7]="ADVERTISEMENT"}(gt||(gt={}));const bt=Object.freeze({INIT:"mediaPlayerInit",LOADED_METADATA:"mediaPlayerLoadedMetadata",LOADED_DATA:"mediaPlayerLoadedData",CAN_PLAY:"mediaPlayerCanPlay",CAN_PLAY_THROUGH:"mediaPlayerCanPlayThrough",FIRST_PLAYBACK_START:"mediaPlayerFirstPlay",FIRST_PLAYBACK_END:"mediaPlayerFirstEnded",METRICS_UPDATE:"mediaPlayerMetricsUpdate",URLS_UPDATE:"mediaPlayerUrlsUpdate",TIMEOUT_ERROR:"mediaPlayerFirstPlayTimeoutError",FATAL_ERROR:"mediaPlayerFatalError"});async function Tt(e,t){const i=[...e.urls],r=e.playerProps?.src;r&&i[0]!==r&&i.splice(0,0,r);const n=await async function(e,t,i){return Promise.all(e.map((async e=>{const r=await i.waitResourceTiming(e,t);return r&&i.clearResourceTiming(r),{url:e,networkTiming:r}})))}(i,e.eventTimings[bt.INIT]??0,t);n.forEach((({url:t,networkTiming:i})=>{e.networkTimings[t]=i}));const a=[],s=[];n.forEach((e=>{const t=function(e){let t={networkTiming:{name:e.url}};e.networkTiming&&(t={networkTiming:e.networkTiming});return t}(e),i=t.networkTiming.name,r=i.endsWith(P),n=i.endsWith(L);r||n?s.push(t):a.push(t)}));const o=e.externalMeta?.productType,c=(e=>e&&{[vt.ADV]:gt.ADV,[vt.GALLERY]:gt.GALLERY,[vt.OTHER]:gt.OTHER,[vt.REVIEW]:gt.REVIEW,[vt.REVIEW_PREVIEW]:gt.REVIEW_PREVIEW,[vt.TILE]:gt.TILE}[e]||gt.UNSPECIFIED)(o);let l=null;const d=`widgetName: ${e.externalMeta?.widgetName}, videoUrl: ${i[0]}`;o?o&&0===c&&(l=new Error(`Неподдерживаемый тип productType: ${o}. ${d}`)):l=new Error(`Не передан productType. ${d}`),l&&window.reportError(l);return{videoRequestId:e.mediaPlayerId,videoProductType:c,widgetName:e.externalMeta?.widgetName,files:a,manifestTiming:s,videoResolution:e.videoResolution,playerLoadTime:e.loadTime,startupTime:e.startupTime,viewTime:e.viewTime,stallCount:e.stallCount,stallDuration:e.stallDuration,initiatorName:e.initiatorName,effectiveStartupTime:e.effectiveStartupTime?Math.round(e.effectiveStartupTime):void 0,videoIndex:e.videoIndex,errorDetails:{count:e.errorsCount,isTimeoutError:e.timeoutError,fatalErrorType:e.fatalError}}}function yt(e){return pt[e]}const _t=[bt.METRICS_UPDATE,bt.URLS_UPDATE];class wt{constructor(){Object.defineProperty(this,"eventsMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}get(e){return this.eventsMap.get(e)}set(e,t){this.eventsMap.set(e,t)}forEach(e){this.eventsMap.forEach(e)}get allEvents(){return Array.from(this.eventsMap.values())}get tiles(){const e=this.allEvents.filter((e=>e.isTile));return e}get notTiles(){const e=this.allEvents.filter((e=>!e.isTile));return e}}e.MediaPlayerEventsAggregator=class{constructor(e){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_timingsStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_mediaPlayerEventsStore",{enumerable:!0,configurable:!0,writable:!0,value:new wt}),Object.defineProperty(this,"initiatorEvents",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"lastMetricsUpdates",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"videoCoverAutoplayDetected",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"advBannerAutoplayDetected",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._config=e,this._timingsStore=new Et({trackMediaPlayerMetrics:e.trackMediaPlayerEvents,trackMediaPlayerMetricsForTile:e.trackMediaPlayerEventsForTile}),this.handleMediaPlayerEvent=this.handleMediaPlayerEvent.bind(this),this.handleInitiatorEvent=this.handleInitiatorEvent.bind(this),Object.values(bt).forEach((e=>{window.addEventListener(e,this.handleMediaPlayerEvent)})),Object.values(mt).forEach((e=>{window.addEventListener(e,this.handleInitiatorEvent)}))}handleMediaPlayerEvent(e){(function(e){return e instanceof CustomEvent&&Object.values(bt).includes(e.type)})(e)&&this.aggregateInfo(e)}aggregateInfo(e){const{type:t,detail:i}=e,r=i.identifier;let n=this._mediaPlayerEventsStore.get(r);if(n||(n={mediaPlayerId:r,urls:[],updates:[],eventTimings:{},networkTimings:{},wasSent:!1,isTile:void 0,initiatorName:ht.UNSPECIFIED,errorsCount:0,timeoutError:!1,fatalError:void 0},this._mediaPlayerEventsStore.set(r,n)),!function(e){return!_t.includes(e)}(t)||!n.eventTimings[t]){if(j())if(e.type===bt.METRICS_UPDATE){(a=this.lastMetricsUpdates.get(r),s=e.detail,!(a&&s&&a.identifier===s.identifier&&a.errorsCount===s.errorsCount&&a.viewTime===s.viewTime&&a.stallCount===s.stallCount&&a.stallDuration===s.stallDuration))&&(n.updates.push(e),this.lastMetricsUpdates.set(r,e.detail))}else n.updates.push(e);var a,s;if(n.eventTimings[t]=e.detail.timestamp,t===bt.INIT){n.externalMeta=e.detail.externalMeta,n.playerProps=e.detail.playerProps;const t=M(e.detail.playerProps?.src),i=e.detail.externalMeta.productType===vt.TILE;n.isTile=t||i}else t===bt.CAN_PLAY?(n.loadTime=e.detail.loadTime,n.startupTime=e.detail.startupTime,n.videoResolution=e.detail.videoResolution):t===bt.FIRST_PLAYBACK_START||(t===bt.METRICS_UPDATE?(n.viewTime=e.detail.viewTime,n.stallCount=e.detail.stallCount,n.stallDuration=e.detail.stallDuration,n.errorsCount=e.detail.errorsCount,n.timeoutError=e.detail.errorsDetails.timeoutError??!1,n.fatalError=e.detail.errorsDetails.fatalError??void 0):t===bt.URLS_UPDATE?n.urls.push(...e.detail.urls):t===bt.FIRST_PLAYBACK_END?this.sendByKey(r):t===bt.TIMEOUT_ERROR?(n.timeoutError=!0,n.errorsCount=e.detail.errorsCount):t===bt.FATAL_ERROR&&(n.fatalError=e.detail.errorsDetails.fatalError,n.errorsCount=e.detail.errorsCount,this.sendByKey(r)))}}handleInitiatorEvent(e){(function(e){return e instanceof CustomEvent&&Object.values(mt).includes(e.type)})(e)&&this.aggregateInitiatorInfo(e)}aggregateInitiatorInfo(e){const{detail:t}=e,i=t.videoIdentifier;let r=this.initiatorEvents.get(i);r||(r=[],this.initiatorEvents.set(i,r)),r.push(e)}async sendByKey(e){const t=this._mediaPlayerEventsStore.get(e);if(!t)throw Error(`Событие с ключом ${e} не зарегистрировано`);if(t.wasSent)return;if(!(t.fatalError||t.timeoutError)&&!t.eventTimings[bt.CAN_PLAY])return;const i=!!t.isTile&&this._config.trackMediaPlayerEventsForTile,r=!t.isTile&&this._config.trackMediaPlayerEvents;if(!i&&!r)return;const n=function(e,t,i,r){const n=e.externalMeta;if(!n)return{initiatorName:"",effectiveStartupTime:void 0,videoIndex:void 0,initiatorEventId:void 0,initiatorEvents:[]};const a=n.productType===vt.GALLERY&&!!n.isVideoCover&&"page"===n.location,s=n.videoIdentifier;if(a&&!s&&!i)return{initiatorName:ht.GALLERY_VIDEO_COVER_AUTOPLAY,effectiveStartupTime:e.eventTimings[bt.CAN_PLAY],videoIndex:void 0,initiatorEventId:void 0,initiatorEvents:[],videoCoverAutoplayDetected:!0};if(n.productType===vt.ADV&&!r)return{initiatorName:ht.ADV_VIDEO_AUTOPLAY,effectiveStartupTime:e.eventTimings[bt.CAN_PLAY],videoIndex:void 0,initiatorEventId:void 0,initiatorEvents:[],advBannerAutoplayDetected:!0};if(!s)return{initiatorName:"",effectiveStartupTime:void 0,videoIndex:void 0,initiatorEventId:void 0,initiatorEvents:[]};if(n.productType===vt.TILE){const i=t.get(s);if(!Array.isArray(i)||0===i.length)return{initiatorName:ht.SEARCH_TILE_PLAYING_UNSPECIFIED,effectiveStartupTime:void 0,videoIndex:void 0,initiatorEventId:s,initiatorEvents:[]};const r=[mt.SEARCH_TILE_IN_VIEWPORT,mt.SEARCH_TILE_SWIPE,mt.SEARCH_TILE_RESET_IMAGE],n=i.find((e=>r.includes(e.type))),a=i.find((e=>e.type===mt.SEARCH_TILE_PLAYING)),o=e.eventTimings[bt.CAN_PLAY];let c,l,d=ht.SEARCH_TILE_PLAYING_UNSPECIFIED;return n&&(d=yt(n.type),l=n.detail.queueLength,a&&o&&(c=Math.max(o-a.detail.timestamp,0))),{initiatorName:d,effectiveStartupTime:c,videoIndex:l,initiatorEventId:s,initiatorEvents:i}}let o,c=ht.UNSPECIFIED;const l=t.get(s);if(Array.isArray(l)&&l.length>0){c=yt(l[0].type);const t=e.eventTimings[bt.CAN_PLAY];t&&(o=t-l[0].detail.timestamp)}return{initiatorName:c,effectiveStartupTime:o,videoIndex:void 0,initiatorEventId:s,initiatorEvents:l??[]}}(t,this.initiatorEvents,this.videoCoverAutoplayDetected,this.advBannerAutoplayDetected);t.initiatorName=n.initiatorName,t.effectiveStartupTime=n.effectiveStartupTime,t.videoIndex=n.videoIndex,t.initiatorEvents=n.initiatorEvents,t.initiatorEventId=n.initiatorEventId,n.videoCoverAutoplayDetected&&(this.videoCoverAutoplayDetected=!0),n.advBannerAutoplayDetected&&(this.advBannerAutoplayDetected=!0);const a=n.initiatorEvents[0];if(a?.type===mt.GALLERY_MODAL_VIDEO_SELECT_MANUALLY&&"page"===t.externalMeta?.location)return;const s=await Tt(t,this._timingsStore);this._config.sendCallback(s),t.wasSent=!0}deactivate(){this._mediaPlayerEventsStore.forEach(((e,t)=>{this.sendByKey(t)}))}},e.PerformanceTracker=class{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"builder",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"paginationObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resourceObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"complexActionsObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fpsCounter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"vitalsObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inpObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"wasSent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lastSentInpAspects",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"$debugSentEventsList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.config=e,this.vitalsObserver=new I({trackLcpAspects:e.trackLcpAspects,prerendering:document.prerendering}),this.inpObserver=new rt,this.fpsCounter=new le,this.fpsCounter.start(),this.builder=new ut(this.config);const t=this.sendPagination.bind(this),i=this.sendBufferedEvent.bind(this),r=this.sendComplexActions.bind(this);this.resourceObserver=new Y({trackJson:e.trackJson,trackFonts:e.trackFonts,trackCss:e.trackCss,trackImages:e.trackImages,trackScripts:e.trackScripts,trackVideos:e.trackVideos,trackVideosForTile:e.trackVideosForTile,trackComposerActions:e.trackComposerActions,trackXhr:e.trackXhr,sendCallback:i}),this.resourceObserver.startCollectEntries(),e.trackPagination&&(this.paginationObserver=new v(t,this.resourceObserver,e),this.paginationObserver.startCollectMarks()),this.complexActionsObserver=new ue(r),this.complexActionsObserver.startCollectMarks(),setTimeout((()=>{ae(),c(this.sendStatAndInpAspects.bind(this))}),0)}async onLoad(){const e=await this.collectHtmlEventData({tabClosing:!1}),t=await this.builder.createHtmlEvent(e);if(this.wasSent){const e=t.htmlEvent.webVitals.lcpAspects;e&&(e.zeroValueReasonExperiment=g.SEND_FULL_DATA_AFTER_BEFORE_UNLOAD)}return this.send(t)}async onBeforeUnload(){const e=await this.collectHtmlEventData({tabClosing:!0}),t=await this.builder.createHtmlEvent(e),i=this.send(t);return i&&(this.wasSent=!0),i}async collectHtmlEventData(e={}){const{tabClosing:t}=e,{trackPerformanceMarks:i}=this.config,r=i&&!t;let n,a,s;if(n=t?this.vitalsObserver.flushWebVitals(t):await this.vitalsObserver.waitWebVitals(),i&&(a=(()=>{const e={htmlHeadStart:0,linkPreloaded:0,metaLoaded:0,linkPreconnected:0,fontsLoaded:0,cssParsed:0,headHtmlParsed:0,bodyHtmlParsed:0,appInitEnd:0};for(const[t,i]of Object.entries(oe)){const r=performance.getEntriesByName(t)[0];r&&(e[i]=r.startTime)}return e})()),r){const e=new de;s=await e.collectData()}delete n.lcpAspects?.cssClassName,this.fpsCounter.stop();return{webVitals:n,performanceMarks:a,elements:s,fps:this.fpsCounter.getResult().avg}}async sendBufferedEvent(e,t){if(t===i.COMPOSER_ACTION){const t=await this.builder.createComposerActionEvent(e);return this.send(t)}const r=await this.builder.createAssetsEvent(e,t);return this.send(r)}async sendPagination(e){const t=await this.builder.createPaginationEvent(e);return this.send(t)}async sendVideoMetrics(e){const t=await this.builder.createVideoEvent(e);return this.send(t)}async sendStatAndInpAspects(){const e=this.inpObserver.getINPAspects();if(this.lastSentInpAspects===e){const e=await this.builder.createStatEvent(void 0);return this.send(e)}if(e){const{statEvent:t,inpAspectsEvent:i}=await this.builder.createStatAndINPAspectsEvents(e);return this.lastSentInpAspects=e,this.send(t)&&this.send(i)}return!1}async sendAsyncWidgets(){const e=await this.builder.createAsyncWidgetsEvent(this.resourceObserver);e&&this.send(e)}async sendComplexActions(e){const t=await this.builder.createComplexActionsEvent(e);return this.send(t)}send(e){const t=JSON.stringify(e);if(j())try{this.$debugSentEventsList.push(JSON.parse(t))}catch(e){window.reportError(e)}return navigator.sendBeacon(this.config.endpoint,t)}getDataForDevTools(){const e=T();return{navigationTiming:e,navigationTimingExt:{ttfb:e.responseStart-e.domainLookupStart,ttlb:e.responseEnd-e.domainLookupStart},webVitals:this.vitalsObserver.flushWebVitals(),performanceMarks:ce()}}trackWidgetRenderEnd(e,t={}){const i=performance.now();pe((n=>{const a={stateId:e,isAsyncWidget:t.isAsyncWidget||!1,isFirstMount:t.isFirstMount||!1,beforePaintAt:i};performance.mark(r.AFTER_PAINT,{startTime:n,detail:a})}))}trackActionStart(e,t){performance.mark(n.START,{detail:{actionName:e,params:t}})}trackActionEnd(e){pe((t=>{performance.mark(n.END,{startTime:t,detail:{actionName:e}})}))}},e.Types=o,e.extractRequestId=p,e.getBrowserData=ct,e.getNavigationTimings=T,e.isDebugModeEnabled=j,e.runAfterFramePaint=pe,e.sleep=h,e.waitFor=f,e.whenActivated=function(e){document.prerendering?window.addEventListener("prerenderingchange",(()=>{e(!0)}),!0):e(!1)}}(e);const t=()=>{const t=e.getNavigationTimings();return e.extractRequestId(t)};class i{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"mediaPlayerEventsAggregator",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.getDataForDevTools=this.getDataForDevTools.bind(this),this.trackActionStart=this.trackActionStart.bind(this),this.trackActionEnd=this.trackActionEnd.bind(this);const i=(()=>{const e=window.__cpmInit__;return{endpoint:`${e.basePath}/perf-metrics-collector/v4/rum/bx/web`,pageViewId:window.$tracker?.pageViewId,requestId:t(),requestIdTimestamp:e.requestIdTimestamp,detectHeadless:!!e.detectHeadless,trackCss:!!e.trackAssets,trackFonts:!!e.trackAssets,trackJson:!!e.trackAssets,trackImages:!!e.trackImages,trackLcpAspects:!!e.trackLcpAspects,trackMediaPlayerMetrics:!!e.trackMediaPlayerMetrics,trackMediaPlayerMetricsForTile:!!e.trackMediaPlayerMetricsForTile,trackPagination:!0,trackPerformanceMarks:!!e.trackPerformanceMarks,trackScripts:!!e.trackScripts,trackVideos:!!e.trackVideos,trackVideosForTile:!!e.trackVideosForTile,trackComposerActions:!!e.trackAsyncActions,trackXhr:!!e.trackFetchXHRRequestsRum4}})();this.config=i;if(!this.config.requestId&&!e.isDebugModeEnabled())return;const r=new e.PerformanceTracker({trackerVersion:"4.24.0",endpoint:i.endpoint,htmlRequestId:i.requestId,htmlRequestIdTimestamp:i.requestIdTimestamp,detectHeadless:i.detectHeadless,pageViewId:i.pageViewId,trackJson:i.trackJson,trackFonts:i.trackFonts,trackCss:i.trackCss,trackImages:i.trackImages,trackLcpAspects:i.trackLcpAspects||i.trackPerformanceMarks,trackPagination:i.trackPagination,trackPerformanceMarks:i.trackPerformanceMarks,trackScripts:i.trackScripts,trackVideos:i.trackVideos,trackVideosForTile:i.trackVideosForTile,trackComposerActions:i.trackComposerActions,trackXhr:i.trackXhr});if(this.tracker=r,i.trackMediaPlayerMetrics||i.trackMediaPlayerMetricsForTile){const t=new e.MediaPlayerEventsAggregator({trackMediaPlayerEvents:!!i.trackMediaPlayerMetrics,trackMediaPlayerEventsForTile:!!i.trackMediaPlayerMetricsForTile,sendCallback:e=>{r.sendVideoMetrics(e)}});this.mediaPlayerEventsAggregator=t,window.addEventListener("pagehide",(()=>{t.deactivate()}))}e.whenActivated((()=>{const e=()=>{r.onBeforeUnload()},t=async()=>{await r.onLoad()&&window.removeEventListener("beforeunload",e)};window.addEventListener("beforeunload",e),window.addEventListener("beforeunload",(()=>{r.sendAsyncWidgets()})),"complete"===document.readyState?setTimeout(t,0):window.addEventListener("load",(()=>setTimeout(t,0)))}))}getDataForDevTools(){return this.tracker&&this.tracker.getDataForDevTools()}runAfterFramePaint(t){e.runAfterFramePaint(t)}trackWidgetRenderEnd(e,t={}){this.tracker?.trackWidgetRenderEnd(e,t)}trackActionStart(e,t){this.tracker?.trackActionStart(e,t)}trackActionEnd(e){this.tracker?.trackActionEnd(e)}}if(window.PerformanceObserver)try{window.$perfTracker=new i}catch{}}();
