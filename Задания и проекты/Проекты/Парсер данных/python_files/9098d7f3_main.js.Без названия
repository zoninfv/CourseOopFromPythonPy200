"use strict";(self.webpackChunkHost=self.webpackChunkHost||[]).push([["main"],{"2312d":(e,t,o)=>{o.d(t,{P:()=>r,t:()=>n});var r={stateId:{type:String,default:""},vertical:{type:String,required:!0},componentName:{type:String,required:!0},version:{type:Number,default:null},root:{type:Boolean,default:!1},placeholders:{type:Array,default:()=>[]},widgetToken:{type:String,default:void 0}},n=Object.assign({},r,{trackingInfoProp:{type:[Object,String],default:()=>({})},trackingName:{type:String,default:""},widgetInitialState:{type:Object,default:()=>({})}})},"9df37":(e,t,o)=>{o.r(t),o.d(t,{default:()=>H});var r=o("812a9"),n=o.n(r),c=o("1409a"),d=o.n(c),l=o("3e315"),m=o("204fc"),h=o("0dbf4"),f=o("f0245"),v=o("8d2e0"),y=o("2312d"),w=o("fedc2"),_=o("2b262"),S={name:"InViewportMixin",created(){this.widgetInViewport=!1,this.viewportEvents=[]},mounted(){this.intersectionObserver=new IntersectionObserver((e=>{var t=e[0];if(!t)return!1;this.viewportEvents=this.viewportEvents.filter((e=>e.params.sendAlways?(e.callback(t.isIntersecting),!0):!t.isIntersecting||(e.callback(!0),!(e.params.once&&!e.params.store))))})),this.reloadObserverSubscription=m.i.use(_.r).listen("GET_LAYOUT",(()=>{this._reloadObserver()})),this.registerViewportEvent((e=>{this.widgetInViewport=e}),{sendAlways:!0}),this._bindViewportEvents()},beforeDestroy(){this._unbindViewportEvents(),this.reloadObserverSubscription&&this.reloadObserverSubscription.unsubscribe()},methods:{registerViewportEvent(e,t={}){var o=((e,t={})=>({params:t,callback:e,viewed:!1}))(e,t);return this.viewportEvents.push(o),o},_reloadObserver(){this.$nextTick((()=>{this.$el instanceof HTMLElement&&(this.intersectionObserver.unobserve(this.$el),this.intersectionObserver.observe(this.$el))}))},_bindViewportEvents(){this.$el instanceof HTMLElement&&this.intersectionObserver.observe(this.$el)},_unbindViewportEvents(){this.intersectionObserver.disconnect()}}},E=o("35eb1"),O=o("a6f82"),R=o("fdced"),T=o("fa6ab"),x=o("1b5cb"),C={mixins:[{data:()=>({hooks:{}}),methods:{hook(e,t,o={}){this.hooks[e]=this.hooks[e]||[],this.hooks[e].push({callback:t,params:o})},async callHook(e,...t){if(this.hooks[e])for(var o=0;o<this.hooks[e].length;o++){var r=this.hooks[e][o];await r.callback.apply(this,t),r.params.once&&(this.hooks[e].splice(o,1),o--)}}},beforeDestroy(){this.hooks=[]}},S],data:()=>({isAsyncLoading:!1,isAsyncLoaded:!1,isAsyncDelay:!1,isAsyncFailed:!1,asyncLoadEvent:null}),props:{asyncType:{type:String,validator:e=>x.ASYNC_TYPES.indexOf(e)>=0||void 0===e},asyncHash:{type:String,default:""}},computed:{showAsyncLoader(){return this.asyncType&&!this.isAsyncLoaded}},created(){if(this.asyncType&&!this.asyncHash){var e=new O.WidgetError(E.LAYOUT.WIDGET_ASYNC_WITHOUT_HASH);return this.$logger.error(e),!1}this._tryToRegisterViewEvent()},async mounted(){this.checkWidgetStateSubscription=m.i.use(_.r).listen(["GET_LAYOUT","SET_COMPOSER_LAYOUT"],(()=>{this.checkWidgetState()})),await this._tryToLoadOnMount()},beforeDestroy(){this.checkWidgetStateSubscription&&this.checkWidgetStateSubscription.unsubscribe()},methods:{preventAsyncFetch(){this.isAsyncDelay=!0},async checkWidgetState(){this.$nextTick((async()=>{this.widgetState&&Object.keys(this.widgetState).length||(this.isAsyncLoaded||this.isAsyncLoading)&&(this.isAsyncLoaded=this.isAsyncLoading=!1,this._tryToRegisterViewEvent(),await this._tryToLoadOnMount())}))},async fetchAsyncState(e=void 0,t=void 0){var o=this._getAsyncWidgetApi(),{asyncHash:r,componentName:n,stateId:c}=this,d={asyncHash:r,componentName:n,stateId:c};void 0!==e&&(d.extraBody=e),void 0!==t&&(d.url=t),this.isAsyncLoading=!0;try{var l=await o(d);await this._replaceAsyncState(l,e)}catch(e){"asyncFailedHandler"in this&&this.asyncFailedHandler(e,t),this.isAsyncLoading=!1,this.isAsyncLoaded=!1,this.isAsyncFailed=!0;var m=new O.WidgetError(E.ASYNC_STATE.FETCH_ASYNC_WIDGET_STATE_ERROR);throw m.setPayloadValue("response",e.response),m}this.isAsyncLoading=!1,this.isAsyncLoaded=!0,this.isAsyncFailed=!1,this.callHook("async::loaded"),this.$emit("state::loaded")},async _replaceAsyncState(e,t=void 0){e.isSkip&&await this.destroyWidget();var{asyncWidgetMapper:o,asyncSharedMapper:r,vertical:n}=this;if(!e||"object"!=typeof e)throw new R.LoggerError(E.LAYOUT.WIDGET_ASYNC_EMPTY_RESPONSE);var{state:c,verticalShared:d}=e;c&&Object.keys(c).length&&(o&&"function"==typeof o&&(c=o(c,t)),this.setWidgetState(c)),d&&Object.keys(d).length&&(r&&"function"==typeof r&&(d=r(d)),(0,v.useComposerStore)(this).replaceSharedStore({vertical:n,verticalShared:d}))},_getAsyncWidgetApi(){var e=m.i.use(T.ComposerService);return e.widget.bind(e)},async _tryToLoadOnMount(){(this._isAsyncByType(x.EAsyncTypes.TYPE_ON_PAGE_LOAD)||this._isAsyncByType(x.EAsyncTypes.TYPE_ON_PREFETCH_PAGE_LOAD))&&await this.fetchAsyncState()},_tryToRegisterViewEvent(){this._isAsyncByType(x.EAsyncTypes.TYPE_ON_VIEWPORT)&&this.registerViewportEvent(this.fetchAsyncState,{once:!0})},_isAsyncByType(e){return this.asyncType===e&&this.asyncHash&&!this.isAsyncDelay}}},A=o("e0225"),I=o("8668f"),k=o("bce84"),N=o("13475"),P=o("632be"),j={mixins:[C,S,(0,v.composerStateMixin)({pageToken:e=>e._get("pageToken",""),userToken:e=>e._get("userToken",""),noTracking:e=>e._get("experimentsConfig.noTracking",!1)})],provide(){return{getWidgetTokenInjection:this.getWidgetToken,trackerSend:this.trackerSend}},props:{trackingInfoProp:{type:[Object,String],default:()=>({})},isTrackingOn:{type:Boolean,default:!1},isTrackView:{type:Boolean,default:!1},root:{type:Boolean,default:!1},widgetsStatisticsTrackerMetrics:{type:[Object,String],default:()=>({})}},computed:{trackingInfo(){var e=this.trackingInfoProp;return"string"==typeof e?JSON.parse(e):e}},mounted(){var e=this.$el,t=(0,v.useComposerStore)(this),o=(t.state._get("o3Params.x-o3-tracker-manager")||"on"===(0,P.getCookie)("tracker_manager"))&&e instanceof HTMLElement,r=(t.state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,P.getCookie)("tracker_metrics"))&&e instanceof HTMLElement,n=d()(this,"trackingInfo.id"),c=e.dataset;if(o&&n&&(c.trackWidgetName=d()(this,"trackingInfo.name"),c.version=d()(this,"version"),c.vertical=d()(this,"vertical"),c.widgetName=d()(this,"componentName"),c.widgetId=n,c.pageType=t.state._get("layoutTrackingInfo.pageType")),r&&o&&n&&(c.widgetsStatisticsTrackerMetrics=d()(this,"widgetsStatisticsTrackerMetrics")),this.isTrackView)return null==this.asyncType?this._registerSendViewEvent():void this.hook("async::loaded",this._delayRegisterViewEvent,{once:!0})},methods:{getWidgetToken(){return this.widgetToken},trackerSend(e,t,o){if(this.noTracking)return!1;if(!(0,I.determineIfIsActionType)(e)&&!(0,I.determineIfIsTrackingInfo)(e))return this._logTrackerError(N.TRACKER.ERROR_WHILE_USING_TRACKER_SEND),!1;if(this.stateId&&!this.isTrackingOn)return this._logTrackerError(N.TRACKER.WIDGET_IS_MISSING_TRACKING_FLAG),!1;var r=(0,v.useComposerStore)(this).state._get(`trackingTokenAliases.${this.stateId}.data`),n=r&&Object.keys(r).length;if((0,I.determineIfIsTrackingInfo)(e)){var c=Object.assign({},e),d=(0,I.determineIfIsCustomObject)(t)?t:{};return n&&(0,I.mapTokens)(c,r),this._sendTrinityWithTrackingInfo(c,d,o)}var l=this._appendWidgetTokenInTrinity((0,I.determineIfIsTrinityContract)(t)?Object.assign({},t):{trinityEvent:{}});return n&&(0,I.mapTokens)(l.trinityEvent,r),(0,k.isObject)(l.trinityEvent)?this.$tracker.send(e,l,o):(this._logTrackerError(N.TRACKER.ERROR_WHILE_SENDING_EVENT),!1)},_sendTrinityWithTrackingInfo(e,t,o){if(this.noTracking)return!1;var r=this._generateTrinityContract(e,t);if((0,k.isObject)(r.trinityEvent)){var{actionType:n,nested:c=[]}=e;if(this.$tracker.send(n,r,o),c&&Array.isArray(c)&&c.length)for(var i=0;i<c.length;i++)this._sendTrinityWithTrackingInfo(c[i],t,o);return!0}return!1},_generateTrinityContract(e,t){return this._appendWidgetTokenInTrinity((0,I.transformToTrinity)(e,t))},_appendWidgetTokenInTrinity(e){return(0,k.isObject)(e.trinityEvent)&&("string"==typeof this.widgetToken&&this.widgetToken?e.trinityEvent=Object.assign({},e.trinityEvent,{widgetToken:this.widgetToken}):this._logTrackerError(N.TRACKER.WIDGET_NOT_FOUND_TRACKER_TOKEN)),e},_delayRegisterViewEvent(){if(!this.noTracking)return this.widgetInViewport?this._sendViewEvent():void this._registerSendViewEvent()},_registerSendViewEvent(){this.noTracking||this.registerViewportEvent(this._sendViewEvent,{once:!0})},_sendViewEvent(){this.noTracking||this._sendAnalyticEvent(A.EActionTypes.WIDGET_VIEW_ACTION)},_sendAnalyticEvent(e){return!this.noTracking&&(!this.root&&this.trackerSend(e))},_logTrackerError(e){var t=d()(this,"trackingInfoProp"),o="string"==typeof t?JSON.parse(t):t,r=new O.WidgetError(e);r.mergePayload({vertical:d()(this,"vertical"),originVertical:d()(o,"originVertical"),component:d()(this,"componentName"),originComponent:d()(o,"originComponent"),widget:d()(this,"widget"),stateId:d()(this,"stateId"),originTrackingInfoName:d()(o,"originName"),version:d()(o,"version")||d()(this,"version"),originVersion:d()(o,"originVersion")}),this.$logger.error(r)}}},L={props:{widgetsStatisticsTrackerMetrics:{type:[Object,String],default:()=>({})}},mounted(){var e=((0,v.useComposerStore)(this).state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,P.getCookie)("tracker_metrics"))&&this.$el instanceof HTMLElement,t=d()(this,"trackingInfo.id");e&&t&&(this.$el.dataset.widgetId=t,this.$el.dataset.widgetsStatisticsTrackerMetrics=d()(this,"widgetsStatisticsTrackerMetrics"))}},M=o("5fa5d"),D={mixins:[(0,v.composerStateMixin)({toolbarFlag:e=>e._get(`o3Params.${M.TOOLBAR_FLAG_NAME}`),widgets:e=>e._get("debug.widgets"),widgetsRT:e=>e._get("debug.widgetsRT",{})})],computed:{_showWidgetInfo(){var e=(0,P.getCookie)("ozon_devtools");return(this.toolbarFlag||"on"===e)&&this.$el instanceof HTMLElement&&this._widgetId},_widgetId(){return d()(this.widgets,`${this.stateId}.id`)}},methods:{handlerLoaderNextPage(e){if(this._showWidgetInfo){var t=document.querySelector("#debug-tool");t&&(t.dispatchEvent(new CustomEvent("loadNextPage",{detail:{widgetId:this._widgetId,value:e}})),this.$el.dataset.layoutId=e.layoutTrackingInfo.layoutId,this.$el.dataset.layoutName=e.layoutTrackingInfo.layoutContainer,this.$el.dataset.layoutVersion=e.layoutTrackingInfo.layoutVersion)}}},mounted(){if(this._showWidgetInfo){if(this.$el.dataset.widgetId=this._widgetId,this.$el.dataset.stateId=this.stateId,this.$el.dataset.widgetName=d()(this,"componentName"),this.$el.dataset.vertical=d()(this,"vertical"),this.$el.dataset.version=d()(this,"version"),"paginator"===d()(this,"componentName")&&this.widgetInitialState.nextPage){var e=this.widgetInitialState.nextPage,t=new URL(e,"https://ozon.ru"),o=Number(t.searchParams.get("layout_page_index"));this.$el.dataset.currentPage=o}"megaPaginator"===d()(this,"componentName")&&this.currentPage&&(this.$el.dataset.currentPage=this.currentPage,this.$el.dataset.totalPages=this.totalPages)}if(this.toolbarFlag){var r=Object.assign({},this.widgetsRT[this.stateId]);document.addEventListener("get-widget-state",(e=>{if(e.detail.id===this.stateId)try{var t=this.widgetState;document.dispatchEvent(new CustomEvent("send-widget-state",{detail:{state:t?JSON.stringify(t):"{}",widgetRT:this.widgetsRT[this.stateId]?this.widgetsRT[this.stateId]:r}}))}catch(e){this.$logger.error({exception:e,zone:"client-widget-states"})}}))}}},B={beforeCreate(){var e=(0,v.useComposerStore)(this);if(e.state._get("o3Params.x-o3-sitespeed-enable")){var t=e.state._get("browser.isDesktop")?"desktop":"mobile",{vertical:o,componentName:r,version:n}=this.$options.propsData,c=[o,r,t,n].join("_").toUpperCase()||"widget";performance.mark(`BEFORE_CREATE:${c}`),this.$once("hook:mounted",(()=>{performance.mark(`MOUNTED:${c}`),performance.measure(`MOUNT:${c}`,`BEFORE_CREATE:${c}`,`MOUNTED:${c}`)}))}}},W=o("30e10"),$={props:{asyncType:{type:String,validator:e=>x.ASYNC_TYPES.indexOf(e)>=0||void 0===e},isRumTrackingOn:{type:Boolean,default:!1}},mounted(){this.isRumTrackingOn&&(this.asyncType?this.hook("async::loaded",(()=>{(0,W.QN)(this.stateId,{isAsyncWidget:!!this.asyncType,isFirstMount:!0})})):(0,W.QN)(this.stateId,{isAsyncWidget:!!this.asyncType,isFirstMount:!0}))}},U={name:"BaseWidget",inheritAttrs:!1,data(){return{widgetState:this.widgetInitialState}},mixins:[S,j,C,L,w.default,B,D,$],props:y.t,inject:{$informPaginatorMounted:{default:null},$countPaginatorWidgets:{default:null},isMobile:{default:!1},isAccessibilityMode:{default:!1},useWidgetRender:{default:!1}},beforeMount(){this.$countPaginatorWidgets&&this.$countPaginatorWidgets(this.stateId)},mounted(){var e=this.$el;e&&"function"==typeof e.setAttribute&&e.setAttribute("data-widget",this.componentName),this.$nextTick((()=>{this.$informPaginatorMounted&&this.$informPaginatorMounted(this.stateId,this.$el)}))},created(){var{widgetInitialState:e,stateId:t,asyncType:o}=this;e&&Object.keys(e).length&&m.i.use(h.ClientWidgetStates).next({[t]:e},{silent:!0}),this.stateSubscription=m.i.use(h.ClientWidgetStates).onNextState((e=>{null!==e&&null!=e[t]&&e[t]!==this.widgetState&&this.setWidgetState(e[t])}));try{(0,l.zQ)(e,t,void 0!==o)}catch(e){this.logError(e)}},beforeDestroy(){this.stateSubscription&&this.stateSubscription.unsubscribe()},computed:{groupStatePath(){return[this.vertical,this.componentName].join(".")}},methods:{async destroyWidget(){await(0,v.useComposerStore)(this).removeWidgetByStateId({stateId:this.stateId})},setWidgetState(e){try{var t=(0,l.V0)(e);m.i.use(h.ClientWidgetStates).next({[this.stateId]:t},{silent:!0}),this.widgetState=t,void 0===this.asyncType&&this.$emit("state::loaded")}catch(e){this.logError(e)}},setWidgetStateValue(path,e){return m.i.use(h.ClientWidgetStates).next({[this.stateId]:this.widgetState},{silent:!0}),(0,f.vueSet)(this.widgetState,path,e)},async setWidgetPlaceholders(e,t){await(0,v.useComposerStore)(this).setWidgetPlaceholderByStateId({stateId:this.stateId,placeholder:{name:e,widgets:t}})},notEmptyPlaceholder(e){var t=(0,l.ph)(this.placeholders,e);return!!t&&Boolean(t.widgets.length)},getLoggerParams(){var{componentName:e,stateId:t,vertical:o}=this;return{widget:e,stateId:t,vertical:o,error:d()(this,"widgetState.error")}},logError(e){var t=this.getLoggerParams();e.mergePayload({widget:t.widget,stateId:t.stateId,error:t.error,vertical:t.vertical}),this.$logger.error(e)}}},H=n().extend(U)},"47b09":(e,t,o)=>{o.r(t),o.d(t,{getFirstBaseInstance:()=>n});var r=o("9df37");function n(e){return e instanceof r.default?e:null!=e.$parent?n(e.$parent):null}},"82cc7":(e,t,o)=>{o.r(t);var r=o("a7ee2"),n=o("8d2e0");t.default={name:"ComposerLoadingMixin",mixins:[(0,n.composerStateMixin)({loading:e=>e._get("shared.loading")})],data:()=>({isMounted:!1}),mounted(){this.isMounted=!0},computed:{isComposerLoading(){return this.loading===r.EComposerLoadingStatus.PENDING&&this.isMounted}}}},fedc2:(e,t,o)=>{o.r(t);var r=o("dafb4");function n(e,t,o){if(o.once)this.composerRouter.once(e,t);else{var r=this.composerRouter.on(e,t);r&&this.unsubscribes.push(r)}}t.default={name:"ComposerRouterMixin",beforeCreate(){this.composerRouter=r.Router.getInstance(),this.unsubscribes=[]},computed:{routeLoading(){return this.composerRouter.loading},routeStatus(){return this.composerRouter.status},routeModalOptions(){return this.composerRouter.contextOptions}},methods:{beforeRouteLeave(e,t={once:!1}){n.call(this,r.EContextHook.BEFORE_ROUTE_LEAVE,e,t)},afterRouteEnter(e,t={once:!1}){n.call(this,r.EContextHook.AFTER_ROUTE_ENTER,e,t)},beforeUrlChange(e,t={once:!1}){n.call(this,r.EContextHook.BEFORE_URL_CHANGE,e,t)},afterUrlChange(e,t={once:!1}){n.call(this,r.EContextHook.AFTER_URL_CHANGE,e,t)},startRouteLoading(e,t={once:!1}){n.call(this,r.EContextHook.START_ROUTE_LOADING,e,t)},endRouteLoading(e,t={once:!1}){n.call(this,r.EContextHook.END_ROUTE_LOADING,e,t)}},beforeDestroy(){if(this.unsubscribes.length){for(var i=0;i<this.unsubscribes.length;i++){var e=this.unsubscribes[i];e&&e()}this.unsubscribes=[]}}}},24836:(e,t,o)=>{function r(e=10){return{data:()=>({displayPriority:0}),mounted(){this.runDisplayPriority()},methods:{runDisplayPriority(){var t=()=>{requestAnimationFrame((()=>{this.displayPriority++,this.displayPriority<e&&t()}))};t()},defer(e){return this.displayPriority>=e}}}}o.r(t),o.d(t,{Defer:()=>r})},99140:(e,t,o)=>{o.r(t);var r=o("1b5cb");t.default={inheritAttrs:!1,computed:{showWidget(){return!this.hasWidgetError&&(Object.keys(this.widgetState).length||this.asyncType===r.EAsyncTypes.TYPE_ON_VIEWPORT)},hasWidgetError(){return this.widgetState.error}},inject:{$isMobile:{from:"isMobile",default:!1}}}},dd0cc:(e,t,o)=>{o.r(t),o.d(t,{default:()=>L});var r=o("a6f82"),n=o("35eb1"),c=o("ad311"),d=o("47b09"),l={name:"ErrorCapture",props:{widget:{type:[Function,String],required:!0},widgetProps:{type:Object,default:()=>({})},platform:{type:String,default:""}},data:()=>({error:!1}),computed:{errorCheckWidget(){return this.error?"div":this.widget}},errorCaptured(e,t){var o=(0,d.getFirstBaseInstance)(t),l=null!==o&&"function"==typeof o.getLoggerParams,m=((e,t)=>{var o=n.LAYOUT.UNKNOWN_WIDGET_ERROR;return t||(o=n.LAYOUT.UNCORRECT_WIDGET),e&&e.message&&(o=n.RENDERING.WIDGET_RENDER_ERROR),e&&e.zone?Object.assign(Object.assign({},o),{},{zone:e.zone}):o})(e,l),h=e instanceof r.WidgetError?e:new r.WidgetError(m);if(h.mergePayload({error:e.message,stack:e.stack,component:t.$options.name}),e instanceof c.b&&h.mergePayload(e.getPayload()),l){var f=o.getLoggerParams();h.mergePayload({widget:f.widget,stateId:f.stateId,vertical:f.vertical})}return this.$logger.error(h),this.error=!0,!1}},m=o("c252e"),h=o.n(m),f=h()(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.errorCheckWidget,e._g(e._b({tag:"component"},"component",e.widgetProps,!1),e.$listeners))}),[],!1,null,null,null).exports,v=o("3c860"),y=o("145a1"),w=o("fdced"),_=(e,t,o,c,d,l,m=!1)=>{var h=e.resolve("ComposerStore"),f=(0,v.R)(o),S=(0,v.R)(c),E=t.content||{},content=E[f]?E[f][S]:void 0,component=content,O=h.state._get("experimentsConfig.enableVersionFallbackLogs"),R=h.state._get("experimentsConfig.disableVersionFallback"),T={payload:{name:c,vertical:o,version:d,platform:l},zone:"composer-components",forceMode:!0};if(!content&&!m&&(0,y.J5)(f,h)&&!(0,y.ds)(f))return function(...o){return(0,y.Kl)(f,h,t).then((()=>_(e,t,f,S,d,l,!0)(...o)))};if("function"==typeof content)return content;if("object"!=typeof content){if((0,y.J5)(f,h)){var x=new r.WidgetError(n.UNFOUND.WIDGET_NOT_FOUND);throw x.setPayloadValue("disallowNames",[S]),x}throw new w.LoggerError(n.LAYOUT.WRONG_WIDGET_CONTENT)}if(content.desktop&&content.mobile&&(component=component[l]),"function"==typeof component)return component;if(!component.versions)throw O&&e.resolve("Logger").info(Object.assign({message:"there is no versions object in platform interface"},T)),new w.LoggerError(n.LAYOUT.WRONG_WIDGET_VERSION);var C=Object.keys(component.versions);if(C.length){if(!component.versions[d]){if(O&&e.resolve("Logger").info(Object.assign({message:"no such widget version in composer-components"},T)),C.includes("1")&&!R)return component.versions[1];throw new w.LoggerError(n.LAYOUT.WRONG_WIDGET_VERSION)}}else O&&e.resolve("Logger").info(Object.assign({message:"versions are not declared for the widget"},T));return component.versions[d]},S=o("1409a"),E=o.n(S),O={};function R(e="",t=""){var o=(0,v.R)(e),r=(0,v.R)(t);return O[o]||(O[o]={}),O[o][r]||(O[o][r]=r),O[o][r]}var T={};var x=o("0dbf4");function C(e,t){var o={};if(t.stateId){var r=document.getElementById(`state-${t.stateId}`),n=r&&r.getAttribute("data-state"),c=E()(e.resolve("SingletonRegistry").use(x.ClientWidgetStates),`value[${t.stateId}]`)||n;"string"==typeof c&&(c=JSON.parse(c)),o=c||{}}return o}var A=o("3a425"),I=o("8d2e0"),k=o("24836"),N={name:"WidgetDisallowMixin",methods:{checkDisallow(e=[]){var t=this.$config.get("useDisallowWidgets");if(e.length&&t&&"true"!==(0,I.useComposerStore)(this).state._get("o3Params.x-o3-disable-placements")){var o=new r.WidgetError(n.RENDERING_PLACEHOLDER.WIDGET_CANT_BE_RENDERED);this.$logger.error(this._enhanceError(o,e,"disallow"))}},checkNonexistent(e=[]){if(e.length){var t=new r.WidgetError(n.UNFOUND.WIDGET_NOT_FOUND);this.$logger.error(this._enhanceError(t,e,"nonexist"))}},_enhanceError(e,t,o){for(var r=[],n=[],i=0;i<t.length;i++){var c=t[i];r.push(c.name),n.push(c.id)}var component=E()(this.$parent,"$vnode.componentOptions.tag");return e.mergePayload({component,[`${o}Names`]:r,[`${o}Ids`]:n,placeholderName:this.placeholderName}),e}}},P={name:"PlaceholderRenderMixin",data:()=>({isServer:Boolean(!1)}),mixins:[(0,k.Defer)(),N,(0,I.composerStateMixin)({platform:e=>e._get("client.platform","undefined"),disableLayoutPath:e=>e._get("experimentsConfig.disableLayoutPath")})],inject:{isMobile:{default:!1},layoutPath:{default:""}},computed:{placeIndex(){var e=this.placeholders,t=this.place;if(!Array.isArray(e))return-1;for(var i=0;i<e.length;i++)if(e[i].name===t)return i;return-1},widgets(){for(var e=[],t=this.placeholders[this.placeIndex]||{},o=t.widgets&&t.widgets.length?t.widgets:[],r=0;r<o.length;r++)e.push(Object.assign({},o[r],{index:r}));return e},placeholderName(){return[this.type,this.place].join(".")},replaceLayoutPath(){if(this.disableLayoutPath)return this.placeholderName;var path=this.layoutPath,e=this.placeIndex;return e<0?path:path+`[${e}]`},renderingComponents(){var{allowed:e,disallowed:t,nonexistent:o}=function(e,t,o=[],r,n){for(var c={allowed:[],disallowed:[],nonexistent:[]},d=e.state._get("o3Params.x-o3-disable-placements"),i=0;i<o.length;i++){var component=Object.assign({},o[i]),l=(0,v.R)(component.vertical),m=R(l,component.component);component.name=m,component.index=i,T[m]||(T[m]={}),!T[m][t]&&n[l]&&(T[m][t]=(n[l][m]||[]).indexOf(t)>-1);var h=void 0;h=d||T[m][t]?"allowed":"disallowed",void 0===E()(r,`${l}.${m}`)&&(h=(0,y.J5)(l,e)&&!(0,y.ds)(l)?"allowed":"nonexistent"),c[h].push(component)}return c}((0,I.useComposerStore)(this),this.placeholderName,this.widgets,A.Z.content||{},A.Z.places||{});return this.checkDisallow(t),this.checkNonexistent(o),e}},methods:{createComponent(component){try{var e=this.isMobile?"mobile":"desktop",t=component.version&&component.version.toString()||"1";return _(this.$container,A.Z,component.vertical,component.name,t,e,!1)}catch(e){return this.$logger.error(e),"div"}},getWidgetProps(e){var{params:t}=e,o=(0,I.useComposerStore)(this),r={};return"string"==typeof t?r=JSON.parse(t):"object"==typeof t&&(r=Object.assign({},t)),Object.assign(r,{componentName:e.component,asyncType:e.asyncType,asyncHash:e.asyncData,isRumTrackingOn:e.isRumTrackingOn,isTrackingOn:e.isTrackingOn,isTrackView:e.isTrackView,vertical:e.vertical,stateId:e.stateId,version:e.version,placeholders:e.placeholders,root:e.root,widgetToken:e.widgetToken,trackingInfoProp:e.widgetTrackingInfo,trackingName:o.state._get(`debug.widgets[${e.stateId}].trackingName`,""),widgetsStatisticsTrackerMetrics:e.widgetsStatisticsTrackerMetrics,widgetInitialState:C(this.$container,e)})}}},j={components:{ErrorCapture:f},mixins:[P],props:{placeholders:{type:Array,default:()=>[]},place:{type:String,default:"default"},tagName:{type:String,default:"div"}}},template=h()(j,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.isServer?e.placeIndex<0?o(e.tagName,{tag:"component",attrs:{"data-widget-disallow":e.replaceLayoutPath}}):o(e.tagName,{tag:"component",attrs:{"data-replace-layout-path":e.replaceLayoutPath}},[e._v("#CONTENT#")]):o(e.tagName,{tag:"component"},[e._l(e.renderingComponents,(function(t){return[e.defer(t.defer||0)?o("ErrorCapture",e._g({key:""+t.stateId,attrs:{widget:e.createComponent(t),"widget-props":e.getWidgetProps(t),platform:e.platform}},e.$listeners)):e._e()]}))],2)}),[],!1,null,null,null).exports,L=e=>({extends:template,data:()=>({type:e})})},"833db":(e,t,o)=>{o.r(t)},"9f069":(e,t,o)=>{o.r(t),o.d(t,{loadIconComponent:()=>m});var r=o("1409a"),n=o.n(r),c=o("080b3"),{ICONS_S3_OBJECT_PREFIX:d,ICONS_LIBRARY_GLOBAL_VAR_NAME:l}=o("fb2ab"),m=(0,c.createLoadIconComponentFn)((e=>{}),(e=>n()(window,`${l}.${e}`)),d)},"8d2e0":(e,t,o)=>{o.r(t),o.d(t,{composerStateMixin:()=>f,useComposerStore:()=>c});var r=o("812a9"),n=o.n(r);function c(e){return e.$composerStore}function d(e,t){e.$logger.error({exception:t,zone:"composer-store"})}var l=e=>Array.isArray(e)?Array.from(e):"object"==typeof e&&e?Object.assign({},e):e,m="__composerStateMixinInstanceInternals",h=e=>e[m];function f(e){var t=Object.entries(e);return{beforeCreate(){this[m]={data:n().observable({}),initializedKeys:new Set,subscription:void 0,subscriberFirstRun:!0}},computed:t.reduce(((e,[t,o])=>(e[t]=function(){var e=h(this);if(!e.initializedKeys.has(t))try{n().set(e.data,t,l(o.call(this,c(this).state))),e.initializedKeys.add(t)}catch(e){d(this,e)}return e.data[t]},e)),{}),created(){var e=h(this);e.subscription=c(this).onNextState((o=>{e.subscriberFirstRun?e.subscriberFirstRun=!1:t.forEach((([t,r])=>{try{n().set(e.data,t,l(r.call(this,o)))}catch(e){d(this,e)}}))}))},beforeDestroy(){var e=h(this);e.subscription&&e.subscription.unsubscribe()}}}},f0245:(e,t,o)=>{o.r(t),o.d(t,{vueSet:()=>d});var r=o("812a9"),n=o.n(r),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,d=(e,path,t)=>{var o=Array.isArray(path)?path:(e=>{if("number"==typeof e)return[e];var t=[];return e.replace(c,((e,o,r,n)=>(t.push(r?n:void 0!==o?Number(o):e),t[t.length-1]))),t})(path),r=o.shift();if(!o.length)return n().set(e,r,t);if(!Object.prototype.hasOwnProperty.call(e,r)||null===e[r]){var l=o.length>=1&&String(o[0]).match(/^\d+$/)?[]:{};n().set(e,r,l)}return d(e[r],o,t)}},"2cb21":(e,t,o)=>{o.r(t);var r=o("a6f82"),n=o("1504d"),c=o("47b09"),d=o("9f069"),l={ic_m_share:"ic_m_share_android",ic_m_delete:"ic_m_trash_bin",ic_m_clock_delivered:"ic_m_confirmed",ic_m_socials_facebook:"ic_m_fb_filled",ic_m_socials_vkontakte:"ic_m_vk_filled",ic_m_socials_twitter:"ic_m_twitter_filled",ic_m_baggage_cabin:"ic_m_baggage_cabin_filled",ic_m_baggage_checked:"ic_m_baggage_checked_filled",ic_s_ozon:"ic_s_ozon_filled",ic_s_flash:"ic_s_flash_filled",ic_m_color_item:"ic_m_color_item_filled",ic_m_danger_outline:"ic_m_danger",ic_m_order_plane:"ic_m_plane",ic_s_question_compact:"ic_s_question_filled_compact"},m={ic_m_car:"ic_m_cart",ic_m_supermarket:"ic_m_express"},h=new Map;t.default={methods:{asyncIconComponent(e){if(e&&"string"==typeof e&&e.startsWith("ic_")){var t=l[e]||e,o=h.get(t);return o||(o=()=>(0,d.loadIconComponent)(t),h.set(t,o)),o}if(this&&this.$logger){var m=new r.WidgetError(n.ASYNC_ICONS.INVALID_ICON_NAME);m.setPayloadValue("invalidValue",String(e));var f=(0,c.getFirstBaseInstance)(this);if(f&&"function"==typeof f.getLoggerParams){var v=f.getLoggerParams();m.setPayloadValue("component",this.$options.name),m.setPayloadValue("vertical",v.vertical),m.setPayloadValue("widget",v.widget)}this.$logger.error(m)}},remapListElementIconsName:e=>m[String(e)]||e}}},"066c5":(e,t,o)=>{o.r(t);var r=o("204fc"),n=o("861af");t.default={methods:{async setCookie(e){await r.i.use(n.CookiesActions).setCookie(e)}}}},67528:(e,t,o)=>{o.r(t),o.d(t,{DefaultPlatformActionsMixin:()=>l});var r=o("1409a"),n=o.n(r),c=o("feb49"),d=o("a6f82"),l={inject:{isMobile:{default:!1},trackerSend:{default:()=>()=>{}},getWidgetTokenInjection:{default:()=>()=>{}}},beforeCreate(){var e=this.$options.propsData||{},t=n()(e,"stateId");if(t){var o=new d.WidgetError(c.COMMON_ERRORS.ERROR_FORBIDDEN_MIXIN_IN_WIDGET);throw o.setPayloadValue("vertical",n()(e,"vertical")),o.setPayloadValue("component",n()(e,"componentName")),o.setPayloadValue("stateId",t),o}}}},"954b4":(e,t,o)=>{o.d(t,{j:()=>m,A:()=>h});var r=o("2ef30"),n=o.n(r),c=["block-horizontal.default","wallpaper.default","block-vertical.default","grid-column.default","container.default","paginator.default","sticky-container.top","sticky-container.middle","sticky-container.bottom","sticky-container.default","shop-in-shop-container.default","pdp.grid.default","pdp.containerFixed.default","pdp.tabs","pdp.default","wrapper.default","freshIsland.default","island.default"],d=o("3c860"),l=["content"];function m(e,t,map){var o=(0,d.R)(e);Object.entries(t).forEach((([e,component])=>{var{content}=component,t=n()(component,l),r=(0,d.R)(e);map.content[o]||(map.content[o]={}),map.params[o]||(map.params[o]={}),map.places[o]||(map.places[o]={}),map.content[o][r]=content,map.params[o][r]=t,map.places[o][r]=function(e){var t=e.places||[];return t.length?e.extendPlaces?[...c,...t]:t:c}(t)}))}function h(e,map){Object.entries(e).forEach((([e,t])=>{var o=t.widgets;m((0,d.R)(e),o,map)}))}},"145a1":(e,t,o)=>{o.d(t,{J5:()=>y,Kl:()=>_,dT:()=>E,ds:()=>w,pm:()=>S,qI:()=>O});var r,n=o("954b4"),c=o("d80e0"),d=o("1c630"),l=o("cfc54"),m={};function h(e,map){var t=l.Z.composerComponents[e];"object"==typeof t&&Object.keys(t).length>0&&((0,n.j)(e,t,map),l.Z.composerComponents[e]={})}function f(e,t){r&&"function"!=typeof r[e]&&(r[e]=function(){return t.publicPath})}function v(e){return e.verticalInfo||{}}function y(e,t){return e in v(t)}function w(e){var t=l.Z.composerComponents[e];return null!=t&&0===Object.keys(t).length}async function _(e,t,map){if(m[e])return m[e];var r=v(t)[e];if(r){if(!r.publicPath){var n=new c.FederationLoggerError(d.FEDERATION.PUBLIC_PATH_IS_MISSING);throw n.setPayloadValue("vertical",e),n}if(!r.initial||!r.initial.length){var l=new c.FederationLoggerError(d.FEDERATION.INITIAL_ASSETS_ARE_MISSING);throw l.setPayloadValue("vertical",e),l}f(e,r);var y=r.initial.map((e=>r.publicPath+e)),w=o.lma(y,"log").then((()=>{h(e,map)})).finally((()=>{delete m[e]}));return m[e]=w,w}}function S(map){Object.keys(l.Z.composerComponents).forEach((e=>{h(e,map)}))}function E(e){Object.entries(v(e)).forEach((([e,t])=>{f(e,t)}))}async function O(e,map){var t=new Set;Object.keys(v(e)).forEach((e=>{w(e)||t.add(e)}));var o=(e,r=new Set)=>(e.forEach((e=>{t.has(e.vertical)&&r.add(e.vertical),e.placeholders&&e.placeholders.length&&e.placeholders.forEach((e=>{e.widgets&&e.widgets.length&&o(e.widgets,r)}))})),r),r=e.state.layout||[],n=o(r);if(n.size){var c=[];n.forEach((t=>{c.push(_(t,e,map))})),await Promise.allSettled(c)}}r=window.__getPublicPath},"432f6":(e,t,o)=>{function r(e){var{shared:t,layoutTrackingInfo:o}=e;t&&"string"==typeof t&&(e.shared=JSON.parse(t)),o&&"string"==typeof o&&(e.layoutTrackingInfo=JSON.parse(o))}o.d(t,{tf:()=>r})},"3e315":(e,t,o)=>{o.d(t,{V0:()=>l,ph:()=>m,zQ:()=>d});var r=o("35eb1"),n=o("fdced"),c=o("a6f82");function d(e,t,o){if((null==e||"object"!=typeof e)&&(t&&!o))throw new n.LoggerError(r.LAYOUT.WIDGET_STATE_NOT_FOUND)}function l(e){switch(typeof e){case"string":return JSON.parse(e);case"object":if(e)return Object.assign({},e);default:throw new n.LoggerError(r.LAYOUT.WIDGET_WRONG_SET_STATE)}}function m(e=[],t){if(!Array.isArray(e)){var o=new c.WidgetError(r.LAYOUT.PLACEHOLDERS_MUST_BE_ARRAY);throw o.mergePayload({invalidType:typeof e,invalidValue:e?JSON.stringify(e):""}),o}return e.find((e=>e.name===t))||{name:"",widgets:[]}}},"0df07":(e,t,o)=>{o.d(t,{w:()=>r});class r{constructor(e){this.__isService=!0,this.container=void 0,this.container=e.container}}},"204fc":(e,t,o)=>{var r;o.d(t,{i:()=>r,n:()=>n});var n=e=>{r=e}},d1f67:(e,t,o)=>{o.d(t,{s:()=>r});class r{constructor(e){this.message=void 0,this.name=void 0,this.stack=void 0,this.message=e,this.name="Error";var t=new Error;this.stack=t.stack||""}toString(){return this.message+this.stack}}},ad311:(e,t,o)=>{o.d(t,{b:()=>n});var r=o("d1f67");class n extends r.s{constructor(...e){super(...e),this.payload={}}setPayloadValue(e,t){void 0!==t&&(this.payload[e]=t)}mergePayload(e){return Object.entries(e).forEach((([e,t])=>{this.setPayloadValue(e,t)})),this}getPayload(){return this.payload}toString(){return this.message+` with payload: ${JSON.stringify(this.getPayload())} `+this.stack}getDebugInfo(){return this.getPayload()}}},"668a9":(e,t,o)=>{o.d(t,{R:()=>c,V:()=>d});var r=o("1409a"),n=o.n(r),c=()=>n()(navigator,"onLine",!0)?n()(navigator,"connection.saveData")?"Save-Data is enabled":/2g/.test(n()(navigator,"connection.effectiveType",""))?"network conditions are poor":null:"device in offline mode",d=(e,t)=>{var o=c();if(o)return Promise.reject(new Error(`Cannot load resource ${e}: ${o}`));var link,r,d=new URL(e,location.href).toString();return link=document.createElement("link"),(r=n()(link,"relList"))&&(r.supports("prerender")||r.supports("prefetch"))&&"xhr"!==t?((e,t)=>new Promise(((o,r)=>{var link=document.createElement("link"),c=n()(link,"relList");link.rel=c&&c.supports("prerender")&&!t?"prerender":"prefetch",link.href=e,link.onload=()=>{document.head.removeChild(link),o(e)},link.onerror=()=>{document.head.removeChild(link),r(new Error(`Failed to load resource ${e}`))},document.head.appendChild(link),"prerender"===link.rel&&o(e)})))(d,Boolean(t)):(e=>new Promise(((t,o)=>{var r=new XMLHttpRequest;r.open("GET",e,r.withCredentials=!0),r.setRequestHeader("x-o3-prefetch","true"),r.onload=()=>{200===r.status?t(e):o(new Error(`Failed to load resource ${e}. Request status: ${r.status}`))},r.onerror=()=>o(new Error(`Failed to load resource ${e}`)),r.send()})))(d)}},"048d1":(e,t,o)=>{o.d(t,{_:()=>P});var r=o("2ef30"),n=o.n(r),c=o("1409a"),d=o.n(c),l=o("a7ee2"),m=o("fdced"),h=o("109b2"),f=o("432f6"),v="\x3c!---json_separator---\x3e",y=["layout","layoutModal"],w=["get","post"];function _(){return l.EComposerLoadingStatus.FAILURE}async function S(e="",t){try{var r=JSON.parse(e),n=[];t&&r.critical&&r.critical.length&&(r.critical.forEach((e=>{n.push(o.e(e))})),await Promise.all(n)),t&&r.assets&&r.assets.length&&r.critical.forEach((e=>{o.e(e)}))}catch(e){console.log(e)}}var E=o("e7db3"),O=o("0dbf4"),R=o("fa6ab"),T=o("4f7de");class x extends T.AbstractApiService{constructor(...e){super(...e),this.serviceName="root",this.servicePath="/",this.serviceVersion=""}default(e,t){return this.fetch({fromRoot:!0,responseType:"stream",method:e,path:t.redirectUrl},t)}}x.__serviceName="AbstractApiService_RootService";var C=o("2b262"),A=o("35eb1"),I=o("7f57f"),k=o("aec1f"),N=["widgetStates"];class P extends E.AbstractActionsService{constructor(...e){super(...e),this.promises={}}async setComposerLayout(e){try{var t={pageData:e.pageData,widgetsData:e.widgetsData};return await this.updateComposerLayout({params:t,replace:!0})}catch(e){return void this.container.resolve("Logger").error({exception:e,zone:"composer-actions"})}finally{this.container.resolve("SingletonRegistry").use(C.r).emit("SET_COMPOSER_LAYOUT")}}async getComposerLayout(e){var t=this.container.resolve("ComposerStore");try{var{url:o,payload:r,method:n,forbidRedirect:c,context:m}=e,data=await this.getParsedApiResponse({url:o,payload:r,method:n,context:m});if(!data||"object"!=typeof data)return!1;var h=d()(data,"pageInfo.url"),f=t.state._get("client.version"),v=d()(data,"client.version"),y=d()(data,"browser.useSpa"),w=d()(data,"client.jsonVersionChanged");return c||!(f&&v&&f!==v)&&!w?data:(y||(0,k.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:l.ECacheNames.PAGINATOR}),void this.container.resolve("ComposerRouter").redirect(h))}catch(e){var S=_();return S!==l.EComposerLoadingStatus.CANCELED&&this.container.resolve("Logger").error({message:A.LAYOUT.COMPOSER_FETCH_LAYOUT,exception:e,zone:"composer-actions"}),t.replaceStateByPath({path:"shared.loading",value:S}),S}}async getParsedApiResponse(e){var{url:t,method:o="get",payload:r={},redirectUrl:n,needRedirect:c=!0,context:d}=e;if(this.cancelPromise({context:d}),!w.includes(o)){var l=new h.ApiLoggerError(I.API.COMPOSER_API_METHOD_NOT_ALLOWED);throw l.setPayloadValue("method",o),l}var m=this.container.resolve("Config"),y=this.container.resolve("ComposerStore"),_=m.get("enableParticleSpa")?"jsonSpa":"json",E=m.get("useSpaPrefetch");if(n){var O={url:t,payload:r,redirectUrl:n};this.promises[d]=this.container.resolve("SingletonRegistry").use(x).default(o,O)}else{var T=_+o[0].toUpperCase()+o.slice(1);this.promises[d]=this.container.resolve("SingletonRegistry").use(R.ComposerService)[T]({url:t,payload:r})}var data=await this.promises[d];return this.promises[d]=null,data instanceof ReadableStream&&(data=await async function(e,t=!1){for(var o=e.getReader(),r=new TextDecoder("utf-8"),n="";;){var{value:c,done:d}=await o.read(),l=r.decode(c),m=l.indexOf(v);if(m>0){var h=n+l.substr(0,m);await S(h,t),n=l.substr(m+23)}else n+=l;if(d)break}return JSON.parse(n)}(data,E)),!(!data||"object"!=typeof data)&&(data.spaRedirect&&"string"==typeof data.spaRedirect?this.getParsedApiResponse({redirectUrl:data.spaRedirect,method:o,needRedirect:c,context:d}):data.redirect&&"string"==typeof data.redirect&&c?(window.location.assign(data.redirect),!1):(void 0===data.nextPage&&(data.nextPage=""),(0,f.tf)(data),y.setVerticalInfo(data.verticalInfo),data))}async fetchComposerLayout(e){var t=this.container.resolve("ComposerStore");try{var{url:o,mapper:r,payload:c,method:d,forbidRedirect:m,context:h}=e;t.replaceStateByPath({path:"shared.loading",value:l.EComposerLoadingStatus.PENDING});var data=await this.getComposerLayout({url:o,payload:c,method:d,forbidRedirect:m,context:h});if(data===l.EComposerLoadingStatus.CANCELED)return l.EComposerLoadingStatus.CANCELED;if(!data||"object"!=typeof data)return!1;t.replaceStateByPath({path:"shared.loading",value:l.EComposerLoadingStatus.SUCCESS}),data.shared=Object.assign({},t.state._get("shared",{}),data.shared),"object"==typeof data.browser&&(data.browser.cspNonce=t.state._get("browser.cspNonce")),r&&"function"==typeof r&&(data=r(data));var{widgetStates:f}=data;return{pageData:n()(data,N),widgetsData:f}}catch(e){return this.container.resolve("Logger").error({exception:e,zone:"composer-actions"}),t.replaceStateByPath({path:"shared.loading",value:_()}),!1}}async updateComposerLayout(e){try{var{params:t,afterMergeState:o,beforeMergeState:r,context:n="page",replace:c=!1}=e,{url:d,mapper:l,payload:h,method:f,pageData:v,widgetsData:w,forbidRedirect:_}=t,data=v,S=w;if(!data){var E=await this.fetchComposerLayout({url:d,mapper:l,payload:h,method:f,forbidRedirect:_,context:n});E&&"object"==typeof E&&(data=E.pageData,S=E.widgetsData)}if(!data||Object.keys(data).length<1){var R=new m.LoggerError(A.LAYOUT.COMPOSER_EMPTY_DATA);throw R.setPayloadValue("invalidType",null===data?"null":typeof data),R}var T=y.reduce(((e,t)=>(e[t]=data[t],e)),{});c||y.forEach((e=>delete data[e])),"function"==typeof r&&r(T,data);var x=this.container.resolve("ComposerStore");if(c){var I=x.state.trackingTokenAliases||{};data.trackingTokenAliases?data.trackingTokenAliases=Object.assign(I,data.trackingTokenAliases):data.trackingTokenAliases=I,x.setRootState(data),window.__NUXT__.state=x.getStateObject()}else x.mergeRootState(data);return null!=S&&this.container.resolve("SingletonRegistry").use(O.ClientWidgetStates).next(S,{replace:c}),"function"==typeof o&&o(T,data),data}catch(e){return this.container.resolve("Logger").error({exception:e,zone:"composer-actions"}),!1}finally{this.container.resolve("SingletonRegistry").use(C.r).emit("UPDATE_COMPOSER_LAYOUT")}}cancelPromise({context:e="page"}={}){var t=this.promises[e];t&&t.cancel()}}P.__serviceName="AbstractActionsService_ComposerLayoutActions"},"2b262":(e,t,o)=>{o.d(t,{r:()=>n});var r=o("6c5ec");class n extends r.EventBus{}n.__serviceName="EventBus_ComposerEvents"},e7db3:(e,t,o)=>{o.r(t),o.d(t,{AbstractActionsService:()=>n});var r=o("6c5ec");o("fdced"),o("6c489");class n extends r.EventBus{constructor(e){super(e)}}},"4f7de":(e,t,o)=>{o.r(t),o.d(t,{AbstractApiService:()=>T});var r=o("1409a"),n=o.n(r),c=o("0df07"),d=o("eddb4");class l{constructor(e={},t){this.defaultConfig=void 0,this.fetchImpl=void 0,this.fetchImpl=t.fetchImpl,this.defaultConfig=Object.assign(Object.assign({},e),{},{headers:Object.assign({Accept:"application/json"},e.headers)})}request(e){var t={credentials:"include",body:e.data,method:e.method,headers:Object.assign(Object.assign({},this.defaultConfig.headers),e.headers)};return e=Object.assign(Object.assign({},e),{},{timeout:e.timeout||this.defaultConfig.timeout}),this.getFetchPromise(t,e)}getFetchPromise(e,t){var o=new AbortController;e.signal=o.signal;return new d.CancelablePromise((async(r,n,c)=>{var d;c((()=>{o.abort()}));try{if((d=await this.fetchImpl(t.url,e)).ok&&"stream"===t.responseType)return r({data:d.body,headers:d.headers});if(d.ok&&"blob"===t.responseType)return r({data:await d.blob(),headers:d.headers});var l=d.headers.get("content-type"),m=!l||l.includes("application/json"),data=await d.text(),h=d.headers instanceof Headers?Object.fromEntries(Array.from(d.headers)):{},f={data,headers:d.headers,status:d.status,aborted:o.signal.aborted,headersObject:h};if(m&&data.length>0)try{f.data=JSON.parse(data),data=f.data}catch(e){return n({error:e,response:f})}return d.ok?r({data,headers:d.headers}):n({response:f})}catch(e){return n({error:e,response:d})}}))}}var m=o("109b2"),h=(o("fdced"),o("6c489")),f=o("7f57f"),v=o("bce84"),y=o("b56fa"),w=o("f5be3"),_=o("b6281"),S=/\/_action(\/)?v2($|\?|\/)/,E=["post","put","delete"],O=(e,path)=>t=>{var o=new m.ApiLoggerError(h.CORE.ACTION_METHOD_FALL);if(o.setPayloadValue("method",e),o.setPayloadValue("requestUrl",path),!(t instanceof m.ApiLoggerError))return Promise.reject(o);var{response:r}=t.getPayload();return r?Promise.reject(r):Promise.reject(o)},R=(e,t)=>{for(var o="",i=0;i<e.length;i++){var code=e.charCodeAt(i)+t;code>255&&(code-=256),o+=String.fromCharCode(code)}return o};class T extends c.w{get requestController(){if(!this._requestController){var e=this.container.resolve("ComposerStore"),t=e.state._get("client.platform"),o=e.state._get("requestID");this._requestController=new l({timeout:this.container.resolve("Config").get("defaultApiTimeout"),headers:(0,y.getHeadersByConvention)(t,o)},{fetchImpl:window.fetch.bind(window)})}return this._requestController}constructor(e,{requestController:t}={}){super(e),this.serviceVersion=void 0,this._requestController=void 0,this.rejectWithResponse=O,this._requestController=t}callApi(e,t){var o=e.overrideServicePath||this.servicePath,r=(0,_.getVersionPath)(this.serviceVersion),n=e.fromRoot?(0,_.getOrigin)():(0,_.getBrowserApiUrl)(this.container.resolve("Config").get("apiGateway")),c=(0,_.prepareServiceBaseUrl)(o,n),d={url:(0,_.prepareRequestUrl)(c,r,e.path),method:e.method,widgetToken:e.widgetToken,serviceName:this.serviceName,headers:{}};if("undefined"!=typeof localStorage){var l=localStorage.getItem("ozonid_auth_tokens");l&&(d.headers["ozonid-auth-tokens"]=l)}var m=new Error;m.stack&&(d.stackTrace=m.stack.split("\n").slice(3).join("\n")),void 0!==e.timeout&&(d.timeout=e.timeout),(0,v.isObjectOrArray)(t)||"text/plain"===e.contentType||(t={}),t instanceof FormData||(d.headers["Content-Type"]=void 0!==e.contentType?e.contentType:"application/json"),void 0!==e.responseType&&(d.responseType=e.responseType),E.includes(d.method.toLowerCase())?d.data=(0,_.formatRequestData)(t,e.contentType):"object"==typeof t&&(d.url=(0,w.addURLParameters)(d.url,t));var h=this.container.resolve("ComposerStore").state._get("browser",{});h.forceDesktop?d.url=(0,w.addURLParameters)(d.url,{force_platform:"desktop"}):h.forceMobile&&(d.url=(0,w.addURLParameters)(d.url,{force_platform:"mobile_theme"}));var f=this.requestController.request(d);return f.then((async e=>{try{this.onRequestSuccess(e,d)}catch(e){this.container.resolve("Logger").error({exception:e,zone:"api"})}})).catch((async e=>{try{this.onRequestError(e,d)}catch(e){this.container.resolve("Logger").error({exception:e,zone:"api"})}})),f}fetch(e,t){return this.callApi(e,t).then((({data})=>data)).catch((t=>{var{error:o,response:r}=t,n=f.API.ERROR_CALL_API;n.value=f.API.ERROR_CALL_API.value+e.path;var c=new m.ApiLoggerError(n);throw c.setPayloadValue("exception",o),c.setPayloadValue("response",r),c}))}async onRequestSuccess(e,t){var o=t.url.match(S);if(o){var r=e.data;e.data=r.data,e.originalData=r}var{data,headers:c}=e;if(n()(data,"browser.useSpa")){var d=n()(data,"pageInfo.url"),l=c.get("x-o3-trace-id");this.container.resolve("ComposerStore").setComposerDebug({pageUrl:d,traceId:l})}if(o&&"object"==typeof e.originalData){var m=n()(e.originalData,"trackingInfo"),h=n()(e.originalData,"pageToken"),f=n()(e.originalData,"userToken");if(e.originalData.error)this.container.resolve("Logger").error({message:e.originalData.error,zone:"api"});else if(m&&"object"==typeof m){var{widgetToken:v}=t;Object.keys(m).forEach((e=>{if(m[e].actionType){var t={widgetToken:v,pageToken:h,userToken:f},{actionType:o,sliceKey:r,key:n,nested:c=[]}=m[e],d=Object.assign({actionType:o,cellToken:n,nested:c},t);"string"==typeof r&&r&&(d.sliceToken=r),this.container.resolve("Tracker").sendTrinityEvent(d)}}))}}}async onRequestError(e,t){var o,r,{response:c}=e,d=f.API.ERROR_GETTING_RESPONSE;if(c)switch(r=Number(c.status),o=n()(c,"headersObject.x-o3-trace-id"),r){case 404:d=f.API.REQUEST_FAIL_NOT_FOUND;break;case 403:d=f.API403.REQUEST_FAIL_ANTIBOT;break;case 401:d=f.API.REQUEST_FAIL_AUTH_ERROR;break;default:Object.assign(d,f.API.REQUEST_FAIL),d.value=`${d.value}${r} error`}var l=new m.ApiLoggerError(d);l.mergePayload({serviceName:t.serviceName,requestUrl:t.url,method:t.method,uuid:window.btoa(R(encodeURIComponent(window.location.host),12)),traceId:o}),r&&l.setPayloadValue("statusCode",r),this.container.resolve("Logger").error(l)}}},"2e332":(e,t,o)=>{o.r(t),o.d(t,{AbstractStoreService:()=>h});var r=o("d34d0"),n=o("1409a"),c=o.n(n),d=o("0df07"),l=(o("6c8a6"),o("fdced"),o("6c489"),{_get(path,e){return c()(this,path,e)}}),m=e=>Object.assign(Object.create(l),e);class h extends d.w{get stateSubject(){return this._stateSubject||(this._stateSubject=new r.BehaviorSubject(this._getInitialState())),this._stateSubject}get state(){return m(this.stateSubject.value)}constructor(e,t={}){super(e),this._stateSubject=void 0,this._noFreezeServerState=!1,this._serverInitialState=void 0,this._noFreezeServerState=t.noFreezeServerState}_getInitialState(){return m(this.getInitialState()||{})}onNextState(e){return this.stateSubject.subscribe({next:t=>{try{var o=e(t);o&&"object"==typeof o&&"function"==typeof o.catch&&o.catch((e=>{this.container.resolve("Logger").error({exception:e,zone:"store"})}))}catch(e){this.container.resolve("Logger").error({exception:e,zone:"store"})}}})}pushState(e){var t=this.state,o=!1,r=e(t,(()=>{o=!0}));o||(r=void 0===r?t:m(r),this.stateSubject.next(r))}}},"0420e":(e,t,o)=>{o.r(t),o.d(t,{AbstractAtomActionsDispatcher:()=>I});var r,n,c,d,l,m,h,f,v,y,w,_=o("1409a"),S=o.n(_),E=o("dafb4"),O=o("0df07"),R=o("7b347"),T=o("fa6ab"),x=o("4bc00"),C=o("d33d8"),A=o("fe091");r=A.EAtomActionBehavior.Redirect,n=A.EAtomActionBehavior.Dismiss,c=A.EAtomActionBehavior.Refresh,d=A.EAtomActionBehavior.DismissAndRedirect,l=A.EAtomActionBehavior.DismissAndRefresh,m=A.EAtomActionBehavior.NestedPage,h=A.EAtomActionBehavior.ComposerNestedPage,f=A.EAtomActionBehavior.ComposerAction,v=A.EAtomActionBehavior.ComposerActionAndRefresh,y=A.EAtomActionBehavior.ComposerActionAndFetchState,w=A.EAtomActionBehavior.ScrollToWidget;class I extends O.w{constructor(...e){super(...e),this[r]=async(e,t,o)=>{var r=o.event||{},{params:n={}}=t,{postBody:c={}}=n,d=n.target;if((r.ctrlKey||r.metaKey||2===r.which)&&(d="_blank"),"string"==typeof c)try{c=JSON.parse(c)}catch(e){this.container.resolve("Logger").error({exception:e,zone:"common-action"})}return d?this.container.resolve("ComposerRouter").redirect(t.link,d):this.container.resolve("ComposerRouter").push(t.link,{postBody:c,force:!0})},this[n]=async()=>{this.container.resolve("SingletonRegistry").use(R.ComposerActions).closeModal()},this[c]=async(e,t)=>{var{params:o={}}=t,{postBody:r={}}=o;if("string"==typeof r)try{r=JSON.parse(r)}catch(e){this.container.resolve("Logger").error({exception:e,zone:"common-action"})}var n=!("false"===o.scroll),c=!("false"===o.saveHistory);t.link?await this.container.resolve("ComposerRouter").replace(t.link,{scroll:n,force:!0,postBody:r,saveHistory:c}):await this.container.resolve("ComposerRouter").refresh({scroll:n,postBody:r})},this[d]=async(e,t,o)=>(await this[A.EAtomActionBehavior.Dismiss](),this[A.EAtomActionBehavior.Redirect](e,t,o)),this[l]=async(e,t)=>{await this[A.EAtomActionBehavior.Dismiss](),this.container.resolve("ComposerRouter").setContext(E.ContextKey.PAGE),await this[A.EAtomActionBehavior.Refresh](e,t)},this[m]=async(e,t)=>{this.container.resolve("Logger").info({message:`NestedPage action is called with link: ${t.link}`,payload:t,zone:"common-action"},{forceMode:!0})},this[h]=async(e,t)=>{if(t.link&&t.link.startsWith("/modal")){var o=t.params&&Object.assign({},t.params);return this.container.resolve("ComposerRouter").push(t.link,{contextOptions:o})}return this.container.resolve("SingletonRegistry").use(R.ComposerActions).getModal({url:t.link,options:t.params})},this[f]=async(e,t)=>{var link=t.version?`/v${t.version}/${t.link}`:t.link,o=e.getWidgetTokenInjection||(()=>{}),r=e.widgetToken||o(),{params:n={}}=t,{postBody:c={}}=n;if("string"==typeof c)try{c=JSON.parse(c)}catch(e){this.container.resolve("Logger").error({exception:e,zone:"common-action"})}return t.params?this.container.resolve("SingletonRegistry").use(T.ComposerService).actionPost({name:link,data:Object.assign({},t.params),widgetToken:r}):this.container.resolve("SingletonRegistry").use(T.ComposerService).actionGet({name:link,widgetToken:r})},this[v]=async(e,t)=>{await this[A.EAtomActionBehavior.ComposerAction](e,t),await this.container.resolve("ComposerRouter").refresh()},this[y]=async(e,t)=>{if(await this[A.EAtomActionBehavior.ComposerAction](e,t),e.asyncHash&&"function"==typeof e.fetchAsyncState)return e.fetchAsyncState()},this[w]=async(e,t)=>{var o=document.querySelector(`#${t.link}`),r=parseInt(S()(t,"params.offsetTop")),n=Number.isInteger(r)?r:100;o?(0,x.scrollTo)(o,500,{offsetTop:n}):function e(){var o=document.querySelector("[data-paginator-loader]");if(o)(0,x.scrollTo)(o,500,{offsetTop:n}),setTimeout(e,1200);else{var r=document.querySelector(`#${t.link}`);r&&(0,x.scrollTo)(r,500,{offsetTop:n})}}()}}sendCustomAnalyticsByKey(e,t={},o="click",r={}){var n=t&&t[o];n&&"function"==typeof e.trackerSend&&e.trackerSend(n,r)}findHandlerForBehaviorType(e){if(e){var t=this[e];if("function"==typeof t)return t.bind(this)}}async handleAtomAction(e,t,o={}){if(!t)return!1;var{trackingInfo:r={},event:n={},silentCatch:c=!1,getCustomHandler:d,onBefore:l,onAfter:m,onError:h}=o,f={},v=t;if("function"==typeof this.beforeEach)try{var y=this.beforeEach(e,t);(0,C.isPromise)(y)&&await y}catch(e){}try{var w,_=this.shouldSendAnalyticsAfterAction(v.behavior);if("function"==typeof l){var E=l(t,r,n),O=(0,C.isPromise)(E)?await E:E;if(!1===O)return{};v=O||t}_||this.sendCustomAnalyticsByKey(e,r),"function"==typeof d&&(w=d(v)),w||(w=this.findHandlerForBehaviorType(v.behavior)),"function"==typeof w&&(f=await w(e,v,{trackingInfo:r,event:n,silentCatch:c,getCustomHandler:d,onBefore:l,onAfter:m,onError:h})),_&&(this.sendCustomAnalyticsByKey(e,r),t.behavior===A.EAtomActionBehavior.ComposerAction&&this.sendCustomAnalyticsByKey(e,r,"composerAction"));var R={res:f,action:v,trackingInfo:r,event:n};if("function"==typeof m){var T=m(R),x=(0,C.isPromise)(T)?await T:T;R.res=void 0!==x?x:f}if(function(e){return Boolean(e&&e.redirectLink)}(f)&&this.container.resolve("ComposerRouter").push(f.redirectLink),"composerActionWithAction"===t.id&&function(e){return Boolean(e&&e.action)}(f)){var I=await this.handleAtomAction(e,f.action,{onBefore:l,onAfter:m,onError:h});R.res=I||f}try{var k=this.afterEach(e,t,f);(0,C.isPromise)(k)&&await k}catch(e){}return R}catch(t){var N=t,P={res:S()(N,"data",{}),error:N,action:v,trackingInfo:r,event:n};if("function"==typeof h){var j=h(P);(0,C.isPromise)(j)&&await j}try{var L=this.catchEach(e,N,c);(0,C.isPromise)(L)&&await L}catch(e){}return this.container.resolve("Logger").error({exception:N,zone:"common-action"}),P}}async handleAtomNextAction(e,t,o={}){var r=await this.handleAtomAction(e,t,o),n=S()(r,"res.nextAction",null);n&&await this.handleAtomNextAction(e,n,Object.assign(Object.assign({},o),{},{trackingInfo:{}}))}}},f9367:(e,t,o)=>{o.r(t),o.d(t,{AbstractAtomActionsDispatcher:()=>n.AbstractAtomActionsDispatcher,EAtomActionBehavior:()=>r.EAtomActionBehavior});var r=o("fe091"),n=o("0420e")},fe091:(e,t,o)=>{o.r(t),o.d(t,{EAtomActionBehavior:()=>r});var r={Invalid:"BEHAVIOR_TYPE_INVALID",Redirect:"BEHAVIOR_TYPE_REDIRECT",Custom:"BEHAVIOR_TYPE_CUSTOM",NestedPage:"BEHAVIOR_TYPE_NESTED_PAGE",ComposerNestedPage:"BEHAVIOR_TYPE_COMPOSER_NESTED_PAGE",Dismiss:"BEHAVIOR_TYPE_DISMISS",DismissAndRefresh:"BEHAVIOR_TYPE_DISMISS_AND_REFRESH",DismissAndRedirect:"BEHAVIOR_TYPE_DISMISS_AND_REDIRECT",ScrollToWidget:"BEHAVIOR_TYPE_SCROLL_TO_WIDGET",ComposerAction:"BEHAVIOR_TYPE_COMPOSER_ACTION",ComposerActionAndRefresh:"BEHAVIOR_TYPE_COMPOSER_ACTION_AND_REFRESH",ComposerActionAndFetchState:"BEHAVIOR_TYPE_COMPOSER_ACTION_AND_FETCH_STATE",Refresh:"BEHAVIOR_TYPE_REFRESH"}},"0dbf4":(e,t,o)=>{o.r(t),o.d(t,{ClientWidgetStates:()=>d});var r=o("2e332"),n=o("35eb1"),c=o("a6f82");class d extends r.AbstractStoreService{getInitialState(){return this.value}constructor(e,t={}){super(e,t),this.value={}}next(e={},t={}){if("object"!=typeof e){var o=new c.WidgetError(n.LAYOUT.CLIENT_WIDGET_STATES_INVALID_TYPE);throw o.setPayloadValue("invalidType",typeof e),o}t.replace?this.value=e:this.value=Object.assign(this.value,e),t.silent||this.pushState((()=>this.value))}}d.__serviceName="AbstractStoreService_ClientWidgetStates"},"6c5ec":(e,t,o)=>{o.r(t),o.d(t,{EventBus:()=>c});var r=o("d34d0"),n=o("0df07");o("fdced"),o("6c8a6"),o("6c489");class c extends n.w{get eventsSubject(){return this._eventsSubject||(this._eventsSubject=this._createSubject()),this._eventsSubject}get events$(){return this.eventsSubject.asObservable()}constructor(e){super(e),this._createSubject=()=>new r.Subject,this._eventsSubject=void 0,this._isDebugToolbarEnabled=!1,this._isDebugToolbarEnabled="true"===this.container.resolve("ComposerStore").state._get("o3Params.x-o3-debug-toolbar"),this._isDebugToolbarEnabled&&(window.$composerToolEvents=window.$composerToolEvents||[])}emit(...e){var t=e.length<2?{name:e[0]}:{name:e[0],payload:e[1]};if(this.eventsSubject.next(t),this._isDebugToolbarEnabled)try{var o=Object.assign({},t,{time:Date.now()});window.$composerToolEvents&&window.$composerToolEvents.push(o),document.dispatchEvent(new CustomEvent("event-bus-emitted",{detail:o}))}catch(e){(this.container.resolve("Logger")||console).error({exception:e,zone:"event-bus"})}return this}listen(e,t){var o=Array.isArray(e)?e:[e],n=this.eventsSubject.pipe((0,r.filter)((e=>o.includes(e.name)))).subscribe({next:e=>{try{var o=t(e,n);o&&"object"==typeof o&&"function"==typeof o.catch&&o.catch((e=>{(this.container.resolve("Logger")||console).error({exception:e,zone:"event-bus"})}))}catch(e){(this.container.resolve("Logger")||console).error({exception:e,zone:"event-bus"})}}});return n}}},"7da90":(e,t,o)=>{o.r(t),o.d(t,{NotificationStore:()=>n});var r=o("2e332");class n extends r.AbstractStoreService{constructor(...e){super(...e),this.collectStickies=[]}getInitialState(){return{marginBottom:0}}addStickyComponent(e){this.collectStickies.push(e),this.pushState((t=>{t.marginBottom=e.offsetHeight}))}removeStickyComponent(e){for(var i=0;i<this.collectStickies.length;i++)if(this.collectStickies[i]===e){this.collectStickies.splice(i,1);break}this.pushState((e=>{if(this.collectStickies.length){var t=this.collectStickies.length-1;e.marginBottom=this.collectStickies[t].offsetHeight}else e.marginBottom=0}))}}n.__serviceName="AbstractStoreService_NotificationStore"},"109b2":(e,t,o)=>{o.r(t),o.d(t,{ApiLoggerError:()=>c});var r=o("fdced"),n=o("7f57f");class c extends r.LoggerError{toLoggerMessage(){var e=this.getPayload();return{message:this.getType(),payload:{exception:e.exception,stack:e.stack,requestUrl:e.requestUrl,method:e.method,serviceName:e.serviceName,response:e.response,uuid:e.uuid,statusCode:e.statusCode,traceId:e.traceId,isStaticLogs:this.zone===n.ANTIBOT_ZONE_NAME}}}}},d80e0:(e,t,o)=>{o.r(t),o.d(t,{FederationLoggerError:()=>n});var r=o("fdced");class n extends r.LoggerError{toLoggerMessage(){var e=this.getPayload();return{message:this.getType(),payload:{stack:e.stack,vertical:e.vertical,assetSrc:e.assetSrc,isStaticLogs:!0}}}}},fdced:(e,t,o)=>{o.r(t),o.d(t,{LoggerError:()=>c});var r=o("ad311"),n=o("13475");class c extends r.b{constructor(e){super(e.value),this.zone=void 0,this.type=e,e.zone&&(this.zone=e.zone),this.zone===n.TRACKER_STATICS_ZONE&&this.setPayloadValue("isStaticLogs",!0)}toLoggerMessage(){return{message:this.type,payload:this.getPayload()}}getType(){return this.type}}},a6f82:(e,t,o)=>{o.r(t),o.d(t,{WidgetError:()=>n});var r=o("fdced");class n extends r.LoggerError{toLoggerMessage(){var e=this.getPayload(),t=this.getNonallowedNames(e);return{message:this.getType(),payload:Object.assign(Object.assign({stack:e.stack,widget:e.widget,placeholderName:e.placeholderName},t),{},{component:e.component,stateId:e.stateId,vertical:e.vertical,error:e.error,layout:e.layout,layoutModal:e.layoutModal,layoutNotify:e.layoutNotify,requestedStateId:e.requestedStateId,triggerMutation:e.triggerMutation,response:e.response,invalidType:e.invalidType,invalidValue:e.invalidValue})}}getNonallowedNames(e){return e.disallowNames?{disallowNames:e.disallowNames,disallowIds:e.disallowIds}:{nonexistNames:e.nonexistNames,nonexistIds:e.nonexistIds}}}},b6281:(e,t,o)=>{o.r(t),o.d(t,{formatRequestData:()=>f,getBrowserApiUrl:()=>d,getOrigin:()=>c,getVersionPath:()=>l,prepareRequestUrl:()=>h,prepareServiceBaseUrl:()=>m});var r=o("f5be3"),n={};function c(){return window.location.origin||function(){var{protocol:e,hostname:t,port:o}=window.location;return`${e}//${t}${o?":"+o:""}`}()}function d(e="api",t=!1){return n[e]&&!t||(n[e]=`${c()}/${e}/`),n[e]}var l=e=>e?`/v${e}`:"",m=(e,t)=>{var o="";return e.startsWith("http")?o+=e:o+=(0,r.addProtocol)(t)+(0,r.addPathDelimeter)(e,r.PATH_DELIMITER),o},h=(e,t,o)=>(e+=(0,r.addPathDelimeter)(t),(e+=(0,r.addPathDelimeter)(o)).replace(/([^:])(\/{2,})/g,"$1/")),f=(data,e="")=>"application/x-www-form-urlencoded"===e.toLowerCase()&&data&&"object"==typeof data?(0,r.joinQueryParams)(data):data instanceof FormData?data:"object"==typeof data?JSON.stringify(data):String(data)},d9852:(e,t,o)=>{o.r(t),o.d(t,{DURATION:()=>d,checkScroll:()=>l});var r=o("dafb4"),n=o("4bc00"),c=o("03282"),d=1e3,l=(e="")=>{if(e){var[t="",o=""]=e.split("#"),{hash:l,offsetTop:m}=(0,c.getHashAndOffset)(e),[,h=""]=l?l.split("="):[];if(t&&o&&(l||h)){var f,v=m?{offsetTop:m}:void 0;try{f=document.querySelector(`#${l}`)||document.querySelector(`[data-widget-id="${h}"]`)}catch(e){f=null}if(f)(0,n.scrollTo)(f,d,v),r.Router.getInstance().replace(t,{silent:!0})}}}},"1b5cb":(e,t,o)=>{o.r(t),o.d(t,{ASYNC_TYPES:()=>n,EAsyncTypes:()=>r});var r=function(e){return e.TYPE_ON_VIEWPORT="onViewport",e.TYPE_ON_PAGE_LOAD="onPageLoad",e.TYPE_ON_PREFETCH_PAGE_LOAD="onPrefetchPageLoad",e}({}),n=Object.values(r)},"7f57f":(e,t,o)=>{o.r(t),o.d(t,{ANTIBOT_ZONE_NAME:()=>c,API:()=>n,API403:()=>d});var r=o("6cd94"),n=(0,r.dictionary)("api",{REQUEST_FAIL_NOT_FOUND:"Request failed with 404",REQUEST_FAIL_AUTH_ERROR:"Request failed with auth error",REQUEST_FAIL:"Request failed with ",ERROR_CALL_API:"Error in callApi with ",ERROR_GETTING_RESPONSE:"Error while getting response",COMPOSER_API_METHOD_NOT_ALLOWED:"Wrong method name passed to getParsedApiResponse"}),c="api-403",d=(0,r.dictionary)(c,{REQUEST_FAIL_ANTIBOT:"Request failed with 403 code"})},"1504d":(e,t,o)=>{o.r(t),o.d(t,{ASYNC_ICONS:()=>r});var r=(0,o("6cd94").dictionary)("async-icons",{ICON_DOES_NOT_EXIST_SERVER:"Icon does not exist",INVALID_ICON_NAME:"Provided value is not a valid icon name",LIBRARY_MISSING_LOADED_ICON:"Icon script loaded but the icon cannot be found in library",LOADING_ERROR:"Icon script failed to load",LOADING_TIMEOUT:"Icon script loading timed out",UNKNOWN:"Icon script loading unknown status"})},feb49:(e,t,o)=>{o.r(t),o.d(t,{COMMON_ERRORS:()=>r});var r=(0,o("6cd94").dictionary)("common",{ERROR_FORBIDDEN_MIXIN_IN_WIDGET:"Do not use DefaultActionsMixin in a widget! Use DefaultAtomActionsMixin instead."})},"6c489":(e,t,o)=>{o.r(t),o.d(t,{CORE:()=>r});var r=(0,o("6cd94").dictionary)("core",{REGISTRY_USEBYNAME_INSTANCE_MISSING:"registry.useByName() could not find a service instance for provided name although it should have been registered.",REGISTRY_USEBYNAME_RECEIVED_NONCONSTRUCTOR:"registry.useByName() received a non-constructor. Make sure you are passing to useByName() a class itself, not an instance.",REGISTRY_USE_RECEIVED_NONCONSTRUCTOR:"registry.use() received a non-constructor. Make sure you are passing to use() a class itself, not an instance.",API_SERVICE_NOT_OPERATIONAL_ON_SERVER:"Api services are not operational on server. Make sure you don't send requests in created() hook, computed properties or immediate watchers.",STORE_SERVICE_NOT_OPERATIONAL_ON_SERVER:"Store services are not operational on server. Make sure you push new states only on client.",EVENT_BUS_NOT_OPERATIONAL_ON_SERVER:"Event bus is not operational on server. Make sure you don't call emit() in created() hook, computed properties or immediate watchers.",ACTIONS_SERVICE_NOT_OPERATIONAL_ON_SERVER:"Actions services are not operational on server. Make sure you don't call actions in created() hook, computed properties or immediate watchers.",ACTION_METHOD_FALL:"Action GET or POST fall with error"})},"1c630":(e,t,o)=>{o.r(t),o.d(t,{FEDERATION:()=>r});var r=(0,o("6cd94").dictionary)("federation",{PUBLIC_PATH_IS_MISSING:"publicPath is missing in vertical info",INITIAL_ASSETS_ARE_MISSING:"Initial assets are missing in vertical info",LOADING_ASSET_ERROR:"Loading asset failed",LOADING_ASSET_TIMEOUT:"Loading asset taimed out"})},"768eb":(e,t,o)=>{o.r(t),o.d(t,{IGNORED_ERRORS_LIST:()=>r});var r={CHROME_RESIZE_OBSERVER_ERROR:"ResizeObserver loop limit exceeded",FIREFOX_RESIZE_OBSERVER_ERROR:"ResizeObserver loop completed with undelivered notifications.",CUSTOM_WEBPACK_ASSETS_ERROR:"Loading asset error",BROWSER_SCRIPT_ERROR:"Script error."}},"35eb1":(e,t,o)=>{o.r(t),o.d(t,{ASYNC_STATE:()=>m,LAYOUT:()=>n,PROMISES:()=>h,RENDERING:()=>d,RENDERING_PLACEHOLDER:()=>l,UNFOUND:()=>c});var r=o("6cd94"),n=(0,r.dictionary)("layout",{COMPOSER_EMPTY_DATA:"Data from composer is empty",COMPOSER_FETCH_LAYOUT:"Error while fetch composer layout",DIRECTIVE_V_HTML_DEPRECATED:'Directive "v-html" deprecated',WIDGET_STATE_NOT_FOUND:"State for widget wasn't found",WIDGET_ASYNC_WITHOUT_HASH:"Error while getting hash of async widget",WIDGET_ASYNC_EMPTY_RESPONSE:"Empty response for async widget",WIDGET_ASYNC_NO_VERTICAL:"Empty vertical in async widget",WIDGET_NO_STATE_ID:"Empty widget state id passed",WRONG_REPLACE_PARAMS:"Wrong params passed to replace state function",WRONG_WIDGET_CONTENT:"Wrong content passed to widget creator",WRONG_WIDGET_VERSION:"Wrong version passed to widget creator",WIDGET_MAP_NO_COMPONENTS:"Need to passed components for generate testing data",WIDGET_MAP_TYPE_ERROR:"Type error while getting node",WIDGET_WRONG_SET_STATE:"Wrong state type passed to update function",UNCORRECT_WIDGET:"Error while recognition widget",UNKNOWN_WIDGET_ERROR:"Unknown type of error",WIDGET_NOT_FOUND_STATE_ID:"Error while try to find widgets layer by state id",PLACEHOLDERS_MUST_BE_ARRAY:"Expected placeholders to be an array",CLIENT_WIDGET_STATES_INVALID_TYPE:"Expected client widget state to be an object"}),c=(0,r.dictionary)("unfound",{WIDGET_NOT_FOUND:"Widget not found in project"}),d=(0,r.dictionary)("rendering",{WIDGET_RENDER_ERROR:"Error while rendering widget"}),l=(0,r.dictionary)("rendering-placeholder",{WIDGET_CANT_BE_RENDERED:"Widget can't be rendered in placeholder"}),m=(0,r.dictionary)("async-state",{FETCH_ASYNC_WIDGET_STATE_ERROR:"Error while fetching async widget state"}),h=(0,r.dictionary)("promises",{UNHANDLED_REJECTION:"Error while handling promise",REJECTION_HANDLED:"Rejection was hanldled after PROMISES.UNHANDLED_REJECTIONS error"})},"22a1a":(e,t,o)=>{o.r(t),o.d(t,{LOGGER:()=>r});var r=(0,o("6cd94").dictionary)("logger",{PARSING_ERROR:"Error while parsing fields to log",PARAMS_ERROR:"Error while adding params",GETTING_STORE_FIELDS_ERROR:"Error while getting user fields from store"})},"36e64":(e,t,o)=>{o.r(t),o.d(t,{SW:()=>r});var r=(0,o("6cd94").dictionary)("sw",{ERROR_SW:"Error while service worker on application init",ERROR_SW_ON_SPA:"Error while service worker on spa redirect",ERROR_REGISTERING_SW:"Error while registering service worker",ERROR_REGISTERING_SW_ON_SPA:"Error while registering service worker on spa redirect",ERROR_FETCH_NEXT_PAGE:"Error while prefetch next page by service worker"})},13475:(e,t,o)=>{o.r(t),o.d(t,{TRACKER:()=>n,TRACKER_LOADING:()=>d,TRACKER_STATICS_ZONE:()=>c});var r=o("6cd94"),n=(0,r.dictionary)("tracker",{ERROR_CALL_TRACKER_ON_SERVER:"Error: analytics sent from server side",ERROR_WHILE_USING_TRACKER_SEND:"Method trackerSend waiting required parameter - actionType or trackingInfo",WIDGET_NOT_FOUND_TRACKER_TOKEN:"Error while try to find tracker widget token",ERROR_WHILE_SENDING_EVENT:"Error while try to send analytics with trackerSend method",WIDGET_IS_MISSING_TRACKING_FLAG:"Widget sends analytics without isTrackingOn flag"}),c="tracker-loading",d=(0,r.dictionary)(c,{NOT_READY:"A non-send* property of tracker was accessed but tracker is not ready",NOT_AVAILABLE:"Tracker functionality is not available"})},"538b7":(e,t,o)=>{o.r(t),o.d(t,{LOGGING_TOKEN_FOR_STATIC:()=>r});var r="aboutStatic"},"5fa5d":(e,t,o)=>{o.r(t),o.d(t,{FORCE_HIDE_MODAL_HEADER:()=>n,TOOLBAR_FLAG_NAME:()=>r});var r="x-o3-debug-toolbar",n="x-o3-auto-modal-off"},eab3a:(e,t,o)=>{o.r(t),o.d(t,{COMPOSER_SERVICE_PATH:()=>n,ENTRYPOINT_SERVICE_PATH:()=>r});var r="entrypoint-api.bx",n="composer-api.bx"},"632be":(e,t,o)=>{o.r(t),o.d(t,{getCookie:()=>c,parseCookie:()=>r,prepareCookiePayload:()=>d,prepareDataForCookies:()=>n});var r=e=>{if("string"!=typeof e||!e)throw new TypeError('The argument "str" cannot be empty and must be of type "string"');var t={key:null,value:null,options:{}},o=e.split(";"),r=n(o[0]);if(!r.key)throw new TypeError("Empty cookie name");if(!r.value)throw new TypeError("Empty cookie value");t.key=r.key,t.value=r.value;for(var i=1;i<o.length;++i)r=n(o[i]),t.options[r.key]=r.value;return t},n=e=>{var t=e.split("=");return{key:decodeURIComponent(t[0]),value:t[1]?decodeURIComponent(t[1]):t[1]}},c=e=>{var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));if(t)return decodeURIComponent(t[1])},d=e=>{var{key:t,value:o,options:r={}}=e,n="path=/;";for(var param in r)n+=`${param}=${r[param]};`;return{cookies:[{name:t,value:o,params:n}]}}},"00c3b":(e,t,o)=>{o.r(t),o.d(t,{addDayjsSetupFn:()=>l,getDatesLocalizedData:()=>v,setDatesLocalizedDataLazyBuilder:()=>f,setupDayjs:()=>m});var r=o("2eef9"),n=o.n(r),c=!1,d=[],l=e=>{d.push(e)},m=e=>{c||(e.extend(n()),c=!0),d.length&&(d.forEach((t=>t(e))),d.length=0)},h={},f=(e,t)=>{h[e]?h[e].lazyBuilder=t:h[e]={lazyBuilder:t}},v=e=>{var data=h[e]||h.default||{};return!data.value&&data.lazyBuilder&&(data.value=data.lazyBuilder()),data.value||{}}},f4e50:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_DETECT_VIEWPORT_SETTINGS:()=>r,detectViewportError:()=>m,getDetectViewportObserver:()=>c,getDetectViewportSettings:()=>d,getInitMargins:()=>n});var r={track:!0,once:!1,unbind:!1,detectHalf:!1,emitInvisible:!1,top:"0px",left:"0px",bottom:"0px",right:"0px",callback:null,offset:0},n=e=>{var t=e.offset?e.offset+"px":e.bottom;return`${e.top} ${e.right} ${t} ${e.left}`},c=(e,t)=>new IntersectionObserver((e=>{e.forEach((({isIntersecting:e,intersectionRatio:o})=>{t&&t(e,o)}))}),e),d=e=>Object.assign(Object.assign({},r),e||{}),l="DetectViewportError",m={create:(e,t)=>{var o=new Error(e);return o.name=l,o.description=t,o},is:e=>e instanceof Error&&e.name===l}},"6cd94":(e,t,o)=>{function r(e,t){var o={};return Object.keys(t).forEach((r=>{o[r]={value:t[r],zone:e,errorCode:r}})),Object.freeze(o)}o.r(t),o.d(t,{dictionary:()=>r})},"03282":(e,t,o)=>{function r(e=""){var[,t=""]=e.split("#"),[o,r]=t.split("--offset-");return{hash:o,offsetTop:Number(r)}}o.r(t),o.d(t,{getHashAndOffset:()=>r})},b56fa:(e,t,o)=>{o.r(t),o.d(t,{getHeadersByConvention:()=>l});var r=function(e){return e.mWebClient="mweb_client",e.dWebClient="dweb_client",e}(r||{}),n=function(e){return e.name="x-o3-app-name",e.version="x-o3-app-version",e.manifest="x-o3-manifest-version",e.requestId="x-o3-parent-requestid",e}(n||{}),c=(e="desktop")=>"desktop"===e?r.dWebClient:r.mWebClient,d={},l=(e="desktop",t="",o=!1)=>{return d[e]&&!o||(d[e]={[n.name]:c(e),[n.version]:(r=[],l="release/megadraw/20240711-0",/release/.test(l)&&r.push("release"),/hotfix/.test(l)&&r.push("hotfix"),r.push("6-8-2024"),r.push("9098d7f3"),r.join("_")),[n.manifest]:"9098d7f3383f550489104fbe8d962d12b31cc4fa",[n.requestId]:t}),d[e];var r,l}},"70df8":(e,t,o)=>{o.r(t),o.d(t,{isPWA:()=>c});var r=o("1409a"),n=o.n(r),c=()=>n()(window,"navigator.standalone")||window.matchMedia("(display-mode: standalone)").matches||window.Telegram},"080b3":(e,t,o)=>{o.r(t),o.d(t,{createLoadIconComponentFn:()=>c});var r=o("a6f82"),n=o("1504d"),c=(e,t,c)=>function(e){var d=String(e);return new Promise(((l,m)=>{var h=t(d);if(h)return l(h);var f="https://st.ozone.ru";try{f=new URL(o.p).origin}catch(e){}var v=`${f}/s3/${c}/${d}.js`;o.l(v,(e=>{var o;switch(e.type){case"load":var c=t(d);if(c)return l(c);o=n.ASYNC_ICONS.LIBRARY_MISSING_LOADED_ICON;break;case"error":o=n.ASYNC_ICONS.LOADING_ERROR;break;case"timeout":o=n.ASYNC_ICONS.LOADING_TIMEOUT;break;default:o=n.ASYNC_ICONS.UNKNOWN}if(o){var h=new r.WidgetError(o);return h.setPayloadValue("invalidValue",v),m(h)}}),e)}))}},bce84:(e,t,o)=>{o.r(t),o.d(t,{deepFreeze:()=>l,isEmpty:()=>d,isObject:()=>r,isObjectOrArray:()=>n,isPlainObject:()=>c});var r=e=>null!==e&&"object"==typeof e&&!1===Array.isArray(e),n=e=>Array.isArray(e)||"object"==typeof e&&null!==e,c=e=>{if(!r(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t},d=e=>{var t=typeof e;return"number"===t||"boolean"===t||null==e||("string"===t||Array.isArray(e)?!e.length:e instanceof Map||e instanceof Set?!e.size:"function"!=typeof e&&"object"!=typeof e||!Object.keys(e).length)},l=e=>(null!=e&&"object"==typeof e&&(Object.isFrozen(e)||Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{l(e[t])}))),e)},"6c8a6":(e,t,o)=>{o.r(t),o.d(t,{createObservableStub:()=>n,unsubscribableStub:()=>r});var r={unsubscribe(){}},n=()=>({subscribe:()=>r,pipe:()=>n()})},"009bb":(e,t,o)=>{o.r(t),o.d(t,{prerenderAll:()=>n});var r=o("668a9"),n=(e,t)=>{if(!Array.isArray(e)||!e.length)return Promise.reject(new Error("Cannot load resources: no links provided"));var o=(0,r.R)();if(o)return Promise.reject(new Error(`Cannot load resources: ${o}`));var n=e.map((e=>(0,r.V)(e,t).catch((e=>e))));return Promise.all(n)}},d33d8:(e,t,o)=>{function r(e){return!!e&&"function"==typeof e.then}o.r(t),o.d(t,{isPromise:()=>r})},"4bc00":(e,t,o)=>{o.r(t),o.d(t,{scrollTo:()=>d,scrollToPosition:()=>c});var r=e=>e===window,n=(e,t)=>r(e)?{x:(e.scrollX||e.pageXOffset||0)+t.x,y:(e.scrollY||e.pageYOffset||0)+t.y}:{x:(e.scrollLeft||0)+t.x,y:(e.scrollTop||0)+t.y},c=(e,t,o)=>{if("undefined"!=typeof window){var c=performance.now(),d=o||{},l=d.container?document.querySelector(d.container):window,m=(e=>r(e)?{x:0,y:0}:{x:e.offsetLeft-(window.scrollX||window.pageXOffset),y:e.offsetTop-(window.scrollY||window.pageYOffset)})(l),h=n(l,m),f={x:e.x||0,y:e.y||0},v=((e,t)=>({x:e.x<t.x?1:-1,y:e.y<t.y?1:-1}))(h,f),y=0,animate=time=>{var o=time-c,r={x:0,y:0};if(o>0){var w=t-o,_=((e,t)=>e?t-e:t)(y,o),S=((e,t)=>({x:t.x-e.x,y:t.y-e.y}))(h,f);r=((e,t,o)=>({x:e*t.x/o,y:e*t.y/o}))(_,S,w),y=o}var E=((e,t)=>({x:e.x+t.x,y:e.y+t.y}))(h,r);((e,t,o,r,n)=>!(o<r)||1===n.x&&e.x>t.x||-1===n.x&&e.x<t.x||1===n.y&&e.y>t.y||-1===n.y&&e.y<t.y)(E,e,o,t,v)?(l.scrollTo(f.x-m.x,f.y-m.y),d.onAfter&&d.onAfter()):(l.scrollBy(r.x,r.y),h=n(l,m),requestAnimationFrame(animate))};requestAnimationFrame(animate)}},d=(e,t,o={})=>{if("undefined"!=typeof window){var r="string"==typeof e?document.querySelector(e):e;if(r){var n=((e,t,{offsetLeft:o=0,offsetTop:r=0}={})=>{if(t===window){var n=document.body.getBoundingClientRect(),c=e.getBoundingClientRect();return{x:c.left-n.left-o||0,y:c.top-n.top-r||0}}return{x:(e.offsetLeft||0)-(window.scrollX||window.pageXOffset)-o,y:(e.offsetTop||0)-(window.scrollY||window.pageYOffset)-r}})(r,o.container?document.querySelector(o.container):window,{offsetLeft:o.offsetLeft||0,offsetTop:o.offsetTop||0});c(n,t,o)}}}},"8e54f":(e,t,o)=>{o.r(t),o.d(t,{cacheCartPageSW:()=>c,cacheHomePageSW:()=>d,cacheManifestAssets:()=>l});var r=o("a7ee2"),n=o("7ef8f");function c(e){var t=e.resolve("ComposerStore"),o=t.state._get("experimentsConfig.prerenderCartPageSW",!1),c=t.state._get("experimentsConfig.enableSWCaching",!1),d=t.state._get("layoutTrackingInfo.pageType");o||(0,n.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:r.ECacheNames.CART}),"cart"!==d&&"checkout"!==d&&c&&o&&(0,n.sendMessageToSW)({action:"CACHE_CART_PAGE"})}function d(e){var t=e.resolve("ComposerStore"),o=t.state._get("experimentsConfig.prerenderHomePageSW",!1),c=t.state._get("experimentsConfig.enableSWCaching",!1);o||(0,n.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:r.ECacheNames.HOME_PAGE}),c&&o&&(0,n.sendMessageToSW)({action:"CACHE_HOME_PAGE"})}function l(e){var t=e.resolve("ComposerStore").state._get("experimentsConfig.prerenderManifestAssetsSW",!1),o=e.resolve("ComposerStore").state._get("experimentsConfig.enableSWCaching",!1);t||(0,n.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:r.ECacheNames.MANIFEST_ASSETS}),t&&o&&(0,n.sendMessageToSW)({action:"CACHE_MANIFEST_ASSETS"})}},e958e:(e,t,o)=>{o.r(t),o.d(t,{ESWStatus:()=>n,isServiceWorkerAvailable:()=>r});var r="object"==typeof window&&window.navigator&&"serviceWorker"in window.navigator,n=function(e){return e.ALIVE="ALIVE",e.REGISTER="REGISTER",e.UNREGISTER="UNREGISTER",e}({})},"063fb":(e,t,o)=>{o.r(t),o.d(t,{checkIsServiceWorkerAlive:()=>m});var r=o("1409a"),n=o.n(r),c=o("7ef8f"),d=o("e958e");async function l(e){indexedDB&&indexedDB.deleteDatabase("workbox-expiration"),(0,c.sendMessageToSW)({action:"UNREGISTER"}),e&&await e.unregister()}async function m(e){if(d.isServiceWorkerAvailable&&(!d.isServiceWorkerAvailable||navigator.serviceWorker.getRegistration)){var t=e.resolve("ComposerStore"),o=e.resolve("Config"),r=o.get("hostname");if(!t.state._get("browser.isBot",!1)&&r===location.hostname){var c;try{c=await navigator.serviceWorker.getRegistration(window.location.origin)}catch(e){return}var m=t.state._get("experimentsConfig.disallowSW"),h=o.get("disableSW"),f=o.get("swVersion"),v=t.state._get("browser.useSW"),y=o.get("enableSW")&&v&&!h&&!m;if(!y)return await l(c),d.ESWStatus.UNREGISTER;var w=c&&n()(c,"active.scriptURL"),_=c&&n()(c,"active.state"),S=window.location.origin+`/st/service-worker/${f}.js`;return y&&w!==S?(await l(c),d.ESWStatus.REGISTER):y&&!window.$workbox?d.ESWStatus.REGISTER:y&&window.$workbox&&w===S&&"activated"===_?d.ESWStatus.ALIVE:void 0}}}},aec1f:(e,t,o)=>{o.r(t),o.d(t,{ESWStatus:()=>c.ESWStatus,cacheCartPageSW:()=>l.cacheCartPageSW,cacheHomePageSW:()=>l.cacheHomePageSW,cacheManifestAssets:()=>l.cacheManifestAssets,checkIsServiceWorkerAlive:()=>n.checkIsServiceWorkerAlive,isServiceWorkerAvailable:()=>c.isServiceWorkerAvailable,prefetchNextPage:()=>d.prefetchNextPage,sendMessageToSW:()=>r.sendMessageToSW});var r=o("7ef8f"),n=o("063fb"),c=o("e958e"),d=o("b8f2f"),l=o("8e54f")},b8f2f:(e,t,o)=>{o.r(t),o.d(t,{prefetchNextPage:()=>f});var r=o("1409a"),n=o.n(r),c=o("b6281"),d=o("b56fa"),l=o("36e64"),m=o("eab3a"),h=o("7ef8f");function f(e,t){if(e)try{var{nextPage:o}=e,r=n()(e,"browser.useSW"),f=n()(e,"client.platform"),v=document.cookie||"",y=(0,c.getBrowserApiUrl)(t.resolve("Config").get("apiGateway"));if(r&&window.$workbox&&o){var w=Object.assign(Object.assign({Accept:"application/json","Content-Type":"application/json"},(0,d.getHeadersByConvention)(f)),{},{cookie:v});(0,h.sendMessageToSW)({action:"PREFETCH_NEXT_PAGE",API_URL_BROWSER:y,servicePath:m.ENTRYPOINT_SERVICE_PATH,headers:w,nextPage:o})}}catch(e){t.resolve("Logger").error({exception:e,message:l.SW.ERROR_FETCH_NEXT_PAGE})}}},"7ef8f":(e,t,o)=>{o.r(t),o.d(t,{sendMessageToSW:()=>n});var r=o("e958e");function n(e){r.isServiceWorkerAvailable&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage&&navigator.serviceWorker.controller.postMessage(e)}},"060e1":(e,t,o)=>{o.r(t),o.d(t,{getSupportsPassive:()=>r});var r=()=>{var e=!1;if("undefined"!=typeof window){e=!1;try{var t=Object.defineProperty({},"passive",{get:()=>{e=!0}});window.addEventListener("__supportPassive",(()=>{}),t)}catch(e){console.warn("Browser doesn't support passive listeners")}}return e}},"8668f":(e,t,o)=>{o.r(t),o.d(t,{determineIfIsActionType:()=>c,determineIfIsCustomObject:()=>m,determineIfIsTrackingInfo:()=>d,determineIfIsTrinityContract:()=>l,mapTokens:()=>h,transformToTrinity:()=>n});var r=o("bce84");function n(e,t){var{key:o,sliceKey:n}=e,c={trinityEvent:{}};return o&&"string"==typeof o&&(c.trinityEvent.cellToken=o),n&&"string"==typeof n&&(c.trinityEvent.sliceToken=n),t&&(0,r.isObject)(t)&&(e.custom&&(0,r.isObject)(t)?c.trinityEvent.custom=Object.assign(Object.assign({},e.custom),t):c.trinityEvent.custom=t),c}function c(e){return"string"==typeof e}function d(e){return(0,r.isObject)(e)&&Boolean(e.actionType)&&Boolean(e.key)}function l(e){return(0,r.isObject)(e)&&Boolean(e.trinityEvent)}function m(e){return(0,r.isObject)(e)&&!l(e)}function h(e,t){if(e&&"object"==typeof e&&!1===Array.isArray(e)){for(var o in e){var r=t[e[o]];r&&(e[o]=r)}var n=e.nested;n&&Array.isArray(n)&&n.forEach((e=>{h(e,t)}))}}},f5be3:(e,t,o)=>{o.r(t),o.d(t,{PATH_DELIMITER:()=>r,addPathDelimeter:()=>c,addProtocol:()=>d,addURLParameters:()=>m,joinQueryParams:()=>n,removeURLParameters:()=>l});var r="/",n=e=>{if(!e||"object"!=typeof e)return"";var t=Object.keys(e);return 0===t.length?"":t.map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")},c=(path,e=r)=>path.startsWith(e)?path:`${e}${path}`,d=e=>e&&!e.startsWith("http")?`https:${c(e,r.repeat(2))}`:e;function l(e,t){var[o,r]=e.split("?"),n=r?r.split(/[&]/g):[],c=[];return n.forEach((e=>{var o=e.indexOf("=");if(-1!==o){var r=e.substring(0,o);t.includes(r)||c.push(e)}})),c.length?`${o}?${c.join("&")}`:o}function m(e,t){if("object"!=typeof t)return e;var o=Object.keys(t);if(!o.length)return e;e=l(e,o);var r=n(t),c=e.includes("?");return`${e}${c?"&":"?"}${r}`}},b3a19:(e,t,o)=>{o.r(t),o.d(t,{getConfig:()=>c,setConfig:()=>n});var r={wsdUrl:"",requestUrl:""};function n(e){Object.assign(r,e)}function c(){return Object.assign({},r)}},"22a63":(e,t,o)=>{o.r(t),o.d(t,{getConfig:()=>l,setConfigProp:()=>d,setDisableWebSocket:()=>c});var r={},n=!1;function c(e){n=e}function d(e,t){r[e]=t}function l(){return{config:r,reconnectionAttempts:4,disableWebSocket:n,isInfiniteReconnect:!1}}},"7b347":(e,t,o)=>{o.r(t),o.d(t,{ComposerActions:()=>S});var r=o("2ef30"),n=o.n(r),c=o("1409a"),d=o.n(c),l=o("e0225"),m=o("dafb4"),h=o("a7ee2"),f=o("0dbf4"),v=o("048d1"),y=o("2b262"),w=o("aec1f"),_=["replaceUrl","routerMethod"];class S extends v._{emit(...e){return this.container.resolve("SingletonRegistry").use(y.r).emit(...e),this}listen(e,t){return this.container.resolve("SingletonRegistry").use(y.r).listen(e,t)}async refreshLayout(){await this.getLayout({url:window.location.href})}async getLayout(e={}){try{var{replaceUrl:t=!1,routerMethod:o="push"}=e,r=n()(e,_);return await this.updateComposerLayout({params:r,beforeMergeState:({layout:e},data)=>{var r=d()(data,"pageInfo.url");this.container.resolve("ComposerStore").replaceStateByPath({path:"layout",value:e}),t&&r&&window.location.pathname!==r&&this.container.resolve("ComposerRouter")[o](r,{silent:!0})},replace:!0})}catch(e){return this.container.resolve("Logger").error({exception:e,zone:"composer-actions"}),!1}finally{this.container.resolve("SingletonRegistry").use(y.r).emit("GET_LAYOUT")}}async getModal(e){try{var{url:t="",mapper:o,options:r={},customLayout:n,method:c,payload:d,useUpdateComposerLayout:m=!1}=e;if(/\/modal\//.test(t)&&!m){var f="post"===c?d:void 0;return this.container.resolve("Tracker").sendEvent({actionType:l.EActionTypes.OPEN,custom:{type:"popup",url:t}}),void this.container.resolve("ComposerRouter").push(t,{contextOptions:r,postBody:f})}var v=this.container.resolve("ComposerStore"),_=this.container.resolve("ComposerRouter"),S=({layout:e,layoutModal:o},data)=>{var{showModal:n}=r;"function"==typeof n&&(r.showModal=n(data)),void 0===n&&(r.showModal=!0),_.setContextOptions(r),v.setLayoutModalOptions({isShown:r.showModal,url:t}),v.setLayoutModal(o&&o.length?o:e)};if(n)return void S({layoutModal:n,layout:null},{});_.setContextOptions(r),v.setLayoutModalOptions({isShown:!0,url:t}),this.container.resolve("Tracker").sendEvent({actionType:l.EActionTypes.OPEN,custom:{type:"popup",url:t}}),(0,w.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:h.ECacheNames.PAGINATOR});return await this.updateComposerLayout({params:{url:t,mapper:o,forbidRedirect:!0,method:c,payload:d},afterMergeState:S,context:"modal"})}catch(e){return this.container.resolve("Logger").error({exception:e,zone:"composer-actions"}),!1}finally{this.container.resolve("SingletonRegistry").use(y.r).emit("GET_MODAL",e)}}async getNotify(e){try{var{url:t="",options:o={showNotify:!0,atoms:[]}}=e,r=await this.getParsedApiResponse({url:t,needRedirect:!1,context:"notifications"}),n=this.container.resolve("ComposerStore"),c=n.state.layoutNotify||[],d=r&&r.layout?r.layout:[];n.setLayoutNotifyOptions({options:o}),n.setLayoutNotify(c.concat(d)),r&&r.widgetStates&&this.container.resolve("SingletonRegistry").use(f.ClientWidgetStates).next(r.widgetStates,{silent:!0})}catch(e){return this.container.resolve("Logger").error({exception:e,zone:"composer-actions"}),!1}}closeModal(){var e=this.container.resolve("ComposerStore"),t=e.state._get("layoutModal.length")||0,o=e.state._get("layoutModalOptions.url")||"";t&&(this.container.resolve("Tracker").sendEvent({actionType:l.EActionTypes.CLOSE_ACTION,custom:{type:"popup",url:o}}),(0,w.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:h.ECacheNames.PAGINATOR}),e.setLayoutModal([]));var r=this.container.resolve("ComposerRouter");e.setLayoutModalOptions({isShown:!1}),r.setContextOptions(null),r.setContext(m.ContextKey.PAGE),this.container.resolve("SingletonRegistry").use(y.r).emit("CLOSE_MODAL")}closeNotify(){var e=this.container.resolve("ComposerStore"),t=e.state.layoutNotify;t.shift(),e.setLayoutNotify(t),e.setLayoutNotifyOptions({options:{showNotify:Boolean(t.length)}})}}S.__serviceName="ComposerActions"},"861af":(e,t,o)=>{o.r(t),o.d(t,{CookiesActions:()=>d});var r=o("e7db3"),n=o("fa6ab"),c=o("632be");class d extends r.AbstractActionsService{getCookie(e){return(0,c.getCookie)(e)}async setCookie(e){await this.container.resolve("SingletonRegistry").use(n.ComposerService).actionPost({name:"setUserCookies",data:(0,c.prepareCookiePayload)(e)})}}d.__serviceName="AbstractActionsService_CookiesActions"},fa6ab:(e,t,o)=>{o.r(t),o.d(t,{ComposerService:()=>d});var r=o("4f7de"),n=o("eab3a"),c=e=>2===e?n.ENTRYPOINT_SERVICE_PATH:n.COMPOSER_SERVICE_PATH;class d extends r.AbstractApiService{constructor(...e){super(...e),this.serviceName="composer",this.servicePath=n.COMPOSER_SERVICE_PATH}jsonGet({url:e,version:t=2,payload:o}){return this.fetch({overrideServicePath:c(t),method:"get",path:`/page/json/v${t}?url=${encodeURIComponent(e)}`},o)}jsonPost({url:e,version:t=2,payload:o}){return this.fetch({overrideServicePath:c(t),method:"post",path:`/page/json/v${t}?url=${encodeURIComponent(e)}`},o)}jsonSpaGet({url:e,payload:t}){return this.fetch({responseType:"stream",method:"get",path:`/page/json/spa?url=${encodeURIComponent(e)}`},t)}jsonSpaPost({url:e,payload:t}){return this.fetch({responseType:"stream",method:"post",path:`/page/json/spa?url=${encodeURIComponent(e)}`},t)}widget(e){var path="/widget/json/v2";return e.stateId&&(path+=`?widgetStateId=${e.stateId}`),this.fetch({method:"post",path},{asyncData:e.asyncHash,extraBody:e.extraBody,url:e.url,componentName:e.url})}actionPost({name:e,data,widgetToken:t}){var path=`/_action/${e}`;return this.fetch({method:"post",path,widgetToken:t},data).catch(this.rejectWithResponse("post",path))}actionGet({name:e,query:t,widgetToken:o}){var path=`/_action/${e}`;return this.fetch({method:"get",path,widgetToken:o},t).catch(this.rejectWithResponse("get",path))}}d.__serviceName="AbstractApiService_ComposerService"},f7897:(e,t,o)=>{o.r(t),o.d(t,{registry:()=>r.i});var r=o("204fc")},"27f27":(e,t,o)=>{o("f3a4c"),o("661dd"),o("2ef30");var r=o("1409a"),n=o.n(r),c=(o("3a98a"),o("123d6"),o("2a675"),o("f212c"),o("0c604"),o("172b1"),o("f26df"),[]),d=e=>{c.push(e)};window.onAppReadyCbs=c,window.onAppReady=d;var l=o("cfc54"),m=o("686e1");l.Z.containers.host=new m.E("host"),o("ba93a");var h=o("812a9"),f=o.n(h),v=o("00c3b");if(window.__i18n__){var{dayjsLocaleData:y,buildDatesData:w}=window.__i18n__;(0,v.addDayjsSetupFn)((e=>{e.locale(y(),void 0,!0)})),(0,v.setDatesLocalizedDataLazyBuilder)("default",(()=>w(y)))}var _=o("3a425"),S=o("dd6aa"),E=o("145a1"),O=o("432f6"),R=["chrome-extension://","chrome://","@moz-extension://","global code@","@https://yastatic.net/","at <anonymous>:","injectedScript"],T=["window.yandex."],x=(e,t)=>{if(!e)return!1;for(var o of t)if(e.includes(o))return!0;return!1},C=(e,t)=>{var{message:o,exception:r,zone:n,level:c="error",isStaticLogs:d=!1}=t;if(!((l=r)&&l instanceof Error&&(x(l.stack,R)||x(l.message,T)))){var l,m=e.resolve("ComposerStore").state._get("browser.isBot");e.resolve("Logger")[c]({message:o||(r?r.message:"Unhandled error"),url:document.location.toString(),exception:r,isBot:m,zone:n},{isStaticLogs:d})}},A=o("35eb1"),I=o("1c630"),k=o("d80e0"),N=o("768eb"),P=o("632be"),j=o("fa6ab"),L=async e=>{var t=e.resolve("ComposerStore"),o=e.resolve("Config"),r=t.state.experimentsConfig||{};if(t.state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,P.getCookie)("tracker_metrics")){var n=e.resolve("Tracker");await n.prepare(),n.setPageStatisticsTrackerMetrics(t.state.pageStatisticsTrackerMetrics)}var c=Boolean(r.otmBlock),l=o.get("otmDelay");d((()=>{var e=t.getStateObject();window.otm&&"init"in window.otm?window.otm.init(e):window.otmState=e,window.setTimeout((()=>{c||(()=>{if("local"!==o.get("env")){var e=t.state._get("o3Params.x-o3-otm-version")||o.get("otmVersion"),r=t.state._get("browser.cdnStaticHostname")||"st.ozone.ru",n=document.createElement("script"),c=t.state._get("browser.cspNonce");c&&n.setAttribute("nonce",c),n.setAttribute("internal",""),n.setAttribute("id","ozonTagManagerApp"),n.setAttribute("src",`https://${r}/s3/ozon-tag-manager/${e}/sdk.js`),n.setAttribute("defer",""),document.body.appendChild(n)}})()}),l)}))};var M=o("dafb4"),D=o("d9852"),B=/^(\/product)|(^\/context\/detail\/id)/i,W="tryToAppTime",$=o("a7ee2"),U=o("36e64"),H=o("aec1f"),G=o("22a63"),V={[$.ESocketNamespaces.COMMUNICATION]:{namespace:$.ESocketNamespaces.COMMUNICATION,url:"/v3/buyer"}},z=o("b3a19"),F=async(e,t)=>{var r;(e=>{var t=window.onerror;window.onerror=(...o)=>{var r=o[0],n=o[4],c=r||(n?n.message:"");if(c!==N.IGNORED_ERRORS_LIST.CHROME_RESIZE_OBSERVER_ERROR&&c!==N.IGNORED_ERRORS_LIST.FIREFOX_RESIZE_OBSERVER_ERROR){if(c===N.IGNORED_ERRORS_LIST.CUSTOM_WEBPACK_ASSETS_ERROR){var d=n,l="ASSET_LOAD_TIMEOUT"===d.errorCode?I.FEDERATION.LOADING_ASSET_TIMEOUT:I.FEDERATION.LOADING_ASSET_ERROR,m=new k.FederationLoggerError(l);return m.setPayloadValue("assetSrc",d.assetSrc),t&&t(...o),void e.resolve("Logger").error(m)}if(c===N.IGNORED_ERRORS_LIST.BROWSER_SCRIPT_ERROR)return t&&t(...o),void C(e,{message:r,exception:n,isStaticLogs:!0,zone:"cramped-script-error"});t&&t(...o),C(e,{message:r,exception:n})}},document.addEventListener("hydrationError",(()=>{C(e,{message:"hydration error",zone:"hydration"})})),window.addEventListener("unhandledrejection",(t=>{var{value:o,zone:r}=A.PROMISES.UNHANDLED_REJECTION;C(e,{message:o,exception:t.reason,zone:r})})),window.addEventListener("rejectionhandled",(t=>{var{value:o,zone:r}=A.PROMISES.REJECTION_HANDLED;C(e,{message:o,exception:t.reason,zone:r})}))})(e),function(e){window.$ComposerRouter=e.resolve("ComposerRouter")}(e),await(async e=>{if(H.isServiceWorkerAvailable){try{if(await(0,H.checkIsServiceWorkerAlive)(e)!==H.ESWStatus.REGISTER)return;var t=e.resolve("ComposerStore").state,r=e.resolve("Config"),c=r.get("swVersion"),l=r.get("manifestPrerenderDelay"),m=t.experimentsConfig||{},h={swCachesLifetime:JSON.parse(r.get("swCachesLifetime")),assetsOptions:JSON.parse(r.get("assetsOptions")),manifestAssetsChunkSize:n()(JSON.parse(r.get("prerenderLimits")),"manifestAssetsChunkSize"),assetsChunkPrerenderDelay:r.get("assetsChunkPrerenderDelay")},f=n()(window,"devicePixelRatio"),v=o.p;d((()=>{window.setTimeout((async()=>{try{var{Workbox:t}=await o._e("vendor-workbox").then(o.bind(o,"efe75")),r=new t(`/st/service-worker/${c}.js`,{scope:"/"});window.$workbox=await r.register()||{}}catch(t){e.resolve("Logger").error({exception:t,message:U.SW.ERROR_REGISTERING_SW},{isStaticLogs:!0})}(0,H.sendMessageToSW)({action:"SET_CONFIGURATION",experimentsConfig:m,runtimeConfig:h,devicePixelRatio:f,publicPath:v}),(0,H.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:$.ECacheNames.PAGINATOR}),(0,H.sendMessageToSW)({action:"CLEAR_SW_CACHE"}),(0,H.cacheHomePageSW)(e),(0,H.cacheCartPageSW)(e),window.requestIdleCallback((()=>{window.setTimeout((()=>{(0,H.cacheManifestAssets)(e)}),l)}))}),1e3)}))}catch(t){e.resolve("Logger").error({exception:t,message:U.SW.ERROR_SW})}navigator.serviceWorker.onmessage=t=>{"EXCEPTION"===t.data.action&&e.resolve("Logger").error({exception:t.data.exception,message:t.data.message||U.SW.ERROR_SW,zone:"sw"})}}})(e),(e=>{M.Router.getInstance().getContext(M.ContextKey.MODAL).on(M.EContextHook.BEFORE_ROUTE_LEAVE,(t=>{t&&/\/modal\//.test(t.to)&&e.resolve("ComposerStore").setLayoutModalOptions({isShown:!0,url:t.to})}))})(e),(e=>{M.Router.getInstance().getContext(M.ContextKey.PAGE).on(M.EContextHook.BEFORE_ROUTE_LEAVE,(t=>{if(t){var{to:o,postBody:r,modeSPA:n}=t,c=e.resolve("ComposerStore").state._get("browser.useSpa"),d=r&&Object.keys(r).length;return c||n||d?void 0:(window.location.assign(o),{status:M.EComposerRouterStatus.LOADING_CANCELLED,href:o})}}))})(e),(r=M.Router.getInstance().getContext(M.ContextKey.PAGE)).on(M.EContextHook.BEFORE_ROUTE_LEAVE,(e=>{if(e){var{to:t}=e;return!/\/_action\//.test(t)&&(t.indexOf("://")>0||0===t.indexOf("//"))?(window.location.assign(t),{status:M.EComposerRouterStatus.LOADING_CANCELLED}):void 0}})),r.on(M.EContextHook.END_ROUTE_LOADING,(()=>{window.dispatchEvent(new Event("initCustomHtmlLandings"))})),(()=>{if(window.Telegram){var e=window.Telegram.WebApp;e.enableClosingConfirmation(),e.expand(),e.ready(),e.BackButton.isVisible=!0,e.BackButton.onClick((()=>{window.history.back()}))}})(),((e,t)=>{var o=M.Router.getInstance().getContext(M.ContextKey.PAGE);o.on(M.EContextHook.BEFORE_ROUTE_LEAVE,(()=>{e.resolve("Tracker").sendPageClose()})),o.on(M.EContextHook.AFTER_ROUTE_ENTER,(async o=>{if(o){await t();var r=e.resolve("ComposerStore"),n=e.resolve("Tracker");await n.prepare();var c=r.state._get("layoutTrackingInfo",{}),d=r.state._get("browser",{}),l=r.state.pageToken,m=r.state.userToken;n.stateMemory.setData({pageInfo:c,browser:d,pageToken:l,userToken:m}),n.sendPageView({page:{currentUrl:o.to}}),e.resolve("Config").get("otmOn")&&window.otm&&"setTrigger"in window.otm&&window.otm.setTrigger("APP_PAGE_CHANGED")}}))})(e,t),(e=>{var t=M.Router.getInstance().getContext(M.ContextKey.PAGE),o=document.querySelector("html");o&&null!==o.getAttribute("data-n-head-ssr")&&o.removeAttribute("data-n-head-ssr"),t.on(M.EContextHook.END_ROUTE_LOADING,(()=>{var t=e.resolve("ComposerStore").state.seo||{},{title="OZON.ru"}=t;title&&(document.title=title)}))})(e),(()=>{var e=M.Router.getInstance(),t=e.getContext(M.ContextKey.PAGE);function o(){var{fullPath:t}=e.getParams()||{};(0,D.checkScroll)(t)}function r(e){e&&(0,D.checkScroll)(e.to)}t.on(M.EContextHook.AFTER_ROUTE_ENTER,r),t.on(M.EContextHook.AFTER_URL_CHANGE,r),"complete"===document.readyState?o():window.addEventListener("load",o)})(),(e=>{M.Router.getInstance().getContext(M.ContextKey.PAGE).on(M.EContextHook.BEFORE_ROUTE_LEAVE,(async t=>{if(t){var o=e.resolve("ComposerStore"),r=o.state._get("browser"),c=o.state._get("experimentsConfig"),d=localStorage.getItem(W);d||localStorage.setItem(W,String(Date.now()));var l=!d||Date.now()-Number(d)>18e5,m=Boolean((0,P.getCookie)("toApp")||0),h=n()(r,"isMobile",!1),f=n()(c,"forceToApp",!1),v=new URL(t.to,"https://m.ozon.ru"),y=B.test(v.pathname);if(l&&localStorage.removeItem(W),h&&l&&!m&&f&&y){var w=e.resolve("Tracker");return await w.prepare(),v.searchParams.set("from","WebToApp2"),v.searchParams.set("mwId",`${w.pageViewId}`),window.location.href=v.toString(),{status:M.EComposerRouterStatus.LOADING_CANCELLED}}}}))})(e),L(e),(e=>{var t=(0,P.getCookie)("ap_visited");if(t){var o=location.hostname.split(".");e.resolve("SingletonRegistry").use(j.ComposerService).actionPost({name:"setUserCookies",data:(0,P.prepareCookiePayload)({key:"ap_visited",value:t,options:{domain:`.${o.slice(-2).join(".")}`}})})}var r=e.resolve("ComposerStore"),n=r.state._get("debug")||{};console.log("--DEBUG_INFO--",JSON.parse(JSON.stringify(n)));var c=r.state._get("jsCookie")||[];try{c.forEach((t=>{e.resolve("SingletonRegistry").use(j.ComposerService).actionPost({name:"setUserCookies",data:(0,P.prepareCookiePayload)((0,P.parseCookie)(t))})}))}catch(t){e.resolve("Logger").error({exception:t,zone:"cookie"})}window.history&&(window.history.scrollRestoration="auto"),performance&&performance.mark&&d((()=>performance.mark("HYDRATION_TIME")))})(e),(e=>{var t,o=e.resolve("ComposerStore"),r=o.state._get("client.marketplaceDomain","ozon.ru"),n=!!o.state._get("browser.disableWebSocket");t="ozon.by"===r?"wss://ws.ozon.by/chat-notification.bx/ws":"ozon.kz"===r?"wss://ws.ozon.kz/chat-notification.bx/ws":e.resolve("Config").get("chatNotificationWS"),Object.keys(V).forEach((e=>{(0,G.setConfigProp)(e,Object.assign(Object.assign({},V[e]),{},{url:t+V[e].url}))})),(0,G.setDisableWebSocket)(n)})(e),(e=>{var t=e.resolve("Config");(0,z.setConfig)({wsdUrl:t.get("videoUploadWS"),requestUrl:t.get("videoUploadXHR")})})(e)};class Y{constructor(){this.singletons={},this.servicesInits={}}register(e,t,...o){this.servicesInits[e]=[t,...o]}registerEager(e,t,...o){return this.register(e,t,...o),this.resolve(e)}resolve(e){if(!this.singletons[e]){var t=this.servicesInits[e];if(t){var[o,...r]=t;delete this.servicesInits[e],this.singletons[e]=new o({container:this},...r)}}return this.singletons[e]}}var J=o("0df07");class K extends J.w{constructor(e,t){super(e),this.configurationObj=void 0,this.configurationObj=Object.assign({},t)}get(e){return n()(this.configurationObj,e)}}var X=o("1738d");class Q extends J.w{requests(data={},e={}){this.log(data,e,X.y.requests)}debug(data={},e={}){this.log(data,e,X.y.debug)}info(data={},e={}){this.log(data,e,X.y.info)}warning(data={},e={}){this.log(data,e,X.y.warning)}error(data={},e={}){this.log(data,e,X.y.error)}critical(data={},e={}){this.log(data,e,X.y.critical)}}var Z=o("538b7");class ee extends Q{constructor(...e){super(...e),this._logger=void 0,this._deferredUtils=void 0}async getLogger(){if(!this._logger){var e=this.container.resolve("ComposerStore"),t=this.container.resolve("Config"),{ClientLogger:r}=await o._e("vendor-bxfelgr").then(o.t.bind(o,"433e3",19)),n=e.state._get("browser.isBot"),c=`${t.get("xapiDomain")}/api/logs-gateway/input`,d=t.get("gatewayKey"),l=t.get("gatewayStaticsKey"),m=l?{default:d,[Z.LOGGING_TOKEN_FOR_STATIC]:l}:d;this._logger=new r({apiUrl:c,level:t.get("logLevel"),token:m,isBot:n,serverTime:e.state._get('resolveParams["current.time"]')})}return this._logger}async getDeferredUtils(){return this._deferredUtils||(this._deferredUtils=await o._e("vendor-bxfelgr").then(o.bind(o,"3ce74"))),this._deferredUtils}async addChunkNameInData(data){var e=await this.getDeferredUtils();e&&e.addChunkNameInData(this.container.resolve("Config").get("env"),data)}log(data,e,t){this.getDeferredUtils().then((o=>{o&&o.log.call(this,data,e,t)})).catch((e=>{console.error(e)}))}platformLog(data){this.addChunkNameInData(data).then((()=>this.getLogger())).then((e=>{e&&e.log(data)})).catch((e=>{console.error(e)}))}}var te=!1,oe=o("048d1"),re=e=>{var t={log:(data,t)=>{e.log(data,{},t)}};return Object.keys(X.y).forEach((o=>{t[o]=data=>{e[o](data)}})),t};var ae=o("861af"),ie=o("7b347");class ne extends J.w{get translations(){return this._translations||(this._translations=new Map(Object.entries(this._translationsSource()||{})),this._translationsSource=null),this._translations}constructor(e,{language:t,translations:o,pluralizer:r}){super(e),this.language=void 0,this.pluralizer=void 0,this._translationsSource=void 0,this._translations=void 0,this.language=t,this.pluralizer=r,this._translationsSource=o}getCurrentLanguage(){return this.language}t(e,t={}){var o=this.translations.get(e)||t.fallback||e;return this.f(o,t.substitutions||{})}p(e,t){return t[this.pluralizer(e)]}f(e,t){return e.replace(ne.placeholderRegex,((e,o)=>{if("'"===e.charAt(0))return e.substring(1);var r=t[o];return null!=r?String(r):""}))}}ne.placeholderRegex=/'?{(.*?)}/g;var se=o("6c489"),ce=o("fdced");class de extends J.w{constructor(...e){super(...e),this.services=new Map,this.namesMapping=new Map}use(e){var t=this.getServiceIdentity(e),o=this.services.get(t);if(!o){if("function"!=typeof e||!e.prototype)throw new ce.LoggerError(se.CORE.REGISTRY_USE_RECEIVED_NONCONSTRUCTOR);o=new e({container:this.container}),this.services.set(t,o)}return o}useByName(e,t){var o=this.namesMapping.get(e);if(void 0!==o){var r=this.services.get(o);if(!r)throw new ce.LoggerError(se.CORE.REGISTRY_USEBYNAME_INSTANCE_MISSING);return r}if(!t||"function"!=typeof t||!t.prototype)throw new ce.LoggerError(se.CORE.REGISTRY_USEBYNAME_RECEIVED_NONCONSTRUCTOR);o=this.getServiceIdentity(t);var n=this.services.get(o);return n||(n=new t({container:this.container}),this.services.set(o,n)),this.namesMapping.set(e,o),n}getServiceIdentity(e){return Object.prototype.hasOwnProperty.call(e,"__serviceName")?e.__serviceName:e}}class le extends J.w{constructor(e,t){super(e);var o=new M.Router(t);return Object.assign(o,this)}}var pe=o("13475"),ue=["sendPageView","sendPageClose","send","sendTrinityEvent","sendEvent"];class me extends J.w{constructor(e){return super(e),this.trackerInstance=void 0,this._trackerLoadingPromise=void 0,this._trackerLoadingFailed=!1,new Proxy(this,{get(e,t){if(t in e)return Reflect.get(e,t);if(null!=e.trackerInstance)return Reflect.get(e.trackerInstance,t);if(ue.includes(t))return async function(...o){await e.prepare();var r=e.trackerInstance;if(r)return r[t](...o);throw new ce.LoggerError(pe.TRACKER_LOADING.NOT_AVAILABLE)};throw e.prepare(),new ce.LoggerError(pe.TRACKER_LOADING.NOT_READY)}})}prepare(){return this.trackerInstance||this._trackerLoadingFailed?Promise.resolve():(this._trackerLoadingPromise||(this._trackerLoadingPromise=o._e("libs-core").then(o.bind(o,"e113c")).then((e=>{if(e&&!this.trackerInstance){var{TrackerSDK:t,SHOW_MANAGER_COOKIE_NAME:o,SHOW_METRICS_COOKIE_NAME:r,TM_NEED_LOCALHOST_COOKIE_NAME:n,TM_LOCAL_HOST:c}=e,d=function(e,t){var o=e.resolve("ComposerStore"),r=e.resolve("Config");return{namespace:r.get("namespace"),dev:!("prod"===r.get("env")),manager:{enable:Boolean(o.state._get("o3Params.x-o3-tracker-manager"))||Boolean((0,P.getCookie)(t.showManagerCookieName)),host:(0,P.getCookie)(t.tmNeedLocalhostCookieName)?t.tmLocalHost:void 0},metrics:{enable:Boolean(o.state._get("o3Params.x-o3-tracker-metrics"))||Boolean((0,P.getCookie)(t.showMetricsCookieName))},cspNonce:o.state._get("browser.cspNonce"),host:`${r.get("xapiDomain")}/dlte/multi`}}(this.container,{showManagerCookieName:o,showMetricsCookieName:r,tmNeedLocalhostCookieName:n,tmLocalHost:c}),l=function(e){var t=e.resolve("ComposerStore");return{pageInfo:t.state.layoutTrackingInfo||{},browser:t.state.browser||{},pageToken:t.state.pageToken||"",userToken:t.state.userToken||""}}(this.container);this.trackerInstance=new t(d,l)}})).catch((e=>{this._trackerLoadingFailed=!0,this.container.resolve("Logger").error({exception:e,zone:pe.TRACKER_STATICS_ZONE},{isStaticLogs:!0})}))),this._trackerLoadingPromise)}}async function he(e){e.register("ComposerRouter",le,function(e){var t=e.resolve("ComposerStore");return{baseUrl:"/",referrer:t.state._get("pageInfo.referrer"),useSpa:t.state._get("browser.useSpa"),app:{get $logger(){return re(e.resolve("Logger"))},setComposerLayout:async t=>await e.resolve("SingletonRegistry").use(oe._).setComposerLayout(t),fetchComposerLayout:async t=>await e.resolve("SingletonRegistry").use(oe._).fetchComposerLayout(t)}}}(e)),await async function(e){var t=e.resolve("ComposerStore"),o=e.resolve("ComposerRouter"),r=t.state._get("pageInfo.url"),n={currentUrl:o.current,newerUrl:r};if(t.state._get("experimentsConfig",{}).useComposerUrl)await o.replace(r,{silent:!0});else{var c=(0,M.mergeUrl)(n);await o.replace(c,{silent:!0})}}(e),e.registerEager("Tracker",me),e.register("Internationalization",ne,function(e){var t=window.__i18n__||{};return{language:e.resolve("ComposerStore").state.language||"ru",pluralizer:t.pluralizer||(e=>e),translations:t.translations||(()=>({}))}}(e)),function(e){e.useByName("CookiesActions",ae.CookiesActions),e.useByName("ComposerActions",ie.ComposerActions),e.useByName("ComposerService",j.ComposerService)}(e.registerEager("SingletonRegistry",de))}var fe=o("204fc"),ve=o("8d2e0"),ge={components:{LayoutBlockVertical:o("7d54e").default,LayoutNoSsr:()=>new Promise((e=>{try{e(o("32d48").Z)}catch(t){e(o("4bd08").Z)}}))},mixins:[(0,ve.composerStateMixin)({isMobile:({browser:e={}})=>Boolean(e.forceMobile||!e.forceDesktop&&e.isMobile),isAccessibilityMode:e=>e._get("browser.accessibilityMode"),layout:e=>e.layout,imgPixelatedRender:e=>e._get("experimentsConfig.imgPixelatedRender")||!1,optimizeTextRender:e=>e._get("experimentsConfig.optimizeTextRender")||!1,isVkMiniApp:e=>e._get('resolveParams["ozon_id.header.external_source"]')||!1})],data:()=>({fdRenderImageIsOn:!1,fdRenderTextIsOn:!1}),computed:{placeholders(){return[{name:"default",widgets:this.layout}]}},created(){this.fdRenderImageIsOn=this.imgPixelatedRender,this.fdRenderTextIsOn=this.optimizeTextRender},mounted(){this.fdRenderImageIsOn=!1,this.fdRenderTextIsOn=!1}},be={layoutPage:"a0",desktop:"a1",vkApp:"a2",mobile:"a3",testRenderImage:"a4",testRenderText:"a5"},ye={modAlly:"a"},we=o("c252e");var _e=o.n(we)()(ge,(function(){var e,t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:[t.$style.layoutPage,(e={},e[t.$style.mobile]=t.isMobile,e[t.$style.desktop]=!t.isMobile&&!t.isVkMiniApp,e[t.$ally.modAlly]=t.isAccessibilityMode,e[t.$style.testRenderImage]=t.fdRenderImageIsOn,e[t.$style.testRenderText]=t.fdRenderTextIsOn,e[t.$style.vkApp]=t.isVkMiniApp,e)],attrs:{id:"layoutPage"}},[r("LayoutBlockVertical",{attrs:{placeholders:t.placeholders,"component-name":"blockVertical",vertical:"layout",root:""}}),t._v(" "),r("LayoutNoSsr")],1)}),[],!1,(function(e){this.$style=be.locals||be,this.$ally=ye.locals||ye}),null,null).exports,Se=o("5fa5d"),Ee=o("2cb21"),Oe=o("1b5cb"),Re=o("2312d"),Te=Object.assign({},{asyncType:{type:String,validator:e=>Oe.ASYNC_TYPES.indexOf(e)>=0||void 0===e},asyncHash:{type:String,default:""},isRumTrackingOn:{type:Boolean,default:!1},isTrackingOn:{type:Boolean,default:!1},isTrackView:{type:Boolean,default:!1},layoutPath:{type:String,default:""},index:{type:Number,default:0},platform:{type:String,default:""},widgetState:{type:String,default:"{}"},params:{type:String,default:"{}"},widgetTrackingInfo:Re.t.trackingInfoProp},Re.P,{componentName:{type:String,default:""},vertical:{type:String,default:""}}),xe=o("da83d"),Ce=o.n(xe),Ae=Object.assign(Object.assign({},Ce()),{},{name:"NoSsr"});f().component(Ae.name,Ae);var Ie={props:Object.assign({useWidgetRender:{type:Boolean,default:!1},useBlockRender:{type:Boolean,default:!1}},Te),provide(){var e=(0,ve.useComposerStore)(this),t=e.state._get("browser",{}),o=e.state._get("experimentsConfig",{}),r=e.state._get("resolveParams",{});return{useWidgetRender:this.useWidgetRender,useBlockRender:this.useBlockRender,layoutPath:this.layoutPath,useWebP:Boolean(t.webp),useAvif:Boolean(t.avif)&&Boolean(o.enableAVIF),disableGalleryImage:Boolean(o.disableGalleryImage),disableMobileGalleryImage:Boolean(o.disableMobileGalleryImage),cdnImgHostname:t.cdnImgHostname,cdnOriginalImgHostname:t.cdnOriginalImgHostname,cdnVideoHostname:t.cdnVideoHostname,cdnVideoPDPHostname:r.cdn_video_pdp_hostname,cdnVideoTileHostname:r.cdn_video_tile_hostname,cdnVideoReviewHostname:r.cdn_video_review_hostname,isDisableSrcSet:Boolean(o.disableSrcSet),alternativeHost1200:Boolean(o.alternativeHost1200),ignoreLazy:Boolean(t.ignoreLazy),isMobile:Boolean(t.forceMobile||!t.forceDesktop&&t.isMobile)||Boolean(t.accessibilityMode),isTesting:Boolean(e.state._get("o3Params.x-o3-ui-tests")),isAccessibilityMode:Boolean(t.accessibilityMode),disableImages:Boolean(t.disableImages),sizeMode:t.sizeMode,colorMode:t.colorMode,pageType:e.state._get("layoutTrackingInfo.pageType",""),experimentsNoBlank:Boolean(o.experimentsNoBlank),locale:e.state._get("language","ru"),forceHideModal:e.state._get(`o3Params.${Se.FORCE_HIDE_MODAL_HEADER}`,!1),asyncIconComponent:Ee.default.methods.asyncIconComponent}}},{props:ke,provide:Ne}=Ie;function Pe(e){var t="__plugin_"+e+"_installed__";f()[t]||(f()[t]=!0,f().use((()=>{f().prototype.hasOwnProperty(e)||Object.defineProperty(f().prototype,e,{get(){return this.$root.$options[e]}})})))}var je=Object.entries({$composerStore:"ComposerStore",$composerRouter:"ComposerRouter",$config:"Config",$logger:"Logger",$tracker:"Tracker",$i18n:"Internationalization",$registry:"SingletonRegistry"});var Le=o("2e332"),Me=o("bce84"),De=o("a6f82");function Be(...e){var t=Array.isArray(e[0])?[]:{};return e.forEach((e=>{Object.entries(e).forEach((([e,o])=>{var r=t[e],n=o;(0,Me.isObject)(r)&&(0,Me.isObject)(n)?t[e]=Be(r,n):void 0===n?t[e]=(0,Me.isObjectOrArray)(r)?Be(r):r:(0,Me.isObjectOrArray)(n)?t[e]=Be(n):t[e]=n}))})),t}function We(e,t,o){if(t instanceof De.WidgetError){var{layout:r,layoutModal:n,layoutNotify:c,triggerMutation:d,stateId:l}=o;t.mergePayload({layout:JSON.stringify(r),layoutModal:JSON.stringify(n),layoutNotify:JSON.stringify(c),requestedStateId:l,triggerMutation:d})}e.error(t)}var $e=(e,t,o)=>{for(var i=0;i<e.length;i++){var r=e[i];if(r.stateId===t)return{layer:e,widgetIndex:i,layoutName:o};if(r.placeholders&&r.placeholders.length)for(var n=0;n<r.placeholders.length;n++){var c=$e(r.placeholders[n].widgets,t,o);if(c)return c}}return!1},Ue=["layout","layoutModal"];function He(e,t){if(!t)return!1;for(var i=0;i<Ue.length;i++){var o=Ue[i],r=e._get(o);if(r&&r.length){var n=$e(r,t,o);if(n)return n}}return!1}class Ge extends Le.AbstractStoreService{constructor(e,t){super(e,{noFreezeServerState:!0}),this._composerData=void 0,this.verticalInfo={},this._composerData=t,Object.assign(this.verticalInfo,t.verticalInfo||{})}getInitialState(){var e=this._composerData;return this._composerData=null,e}setRootState(body){Object.assign(this.verticalInfo,Be({},this.verticalInfo,body.verticalInfo||{})),this.pushState((()=>Object.assign({},this.state,body,{verticalInfo:Be({},this.state.verticalInfo||{},body.verticalInfo||{})})))}mergeRootState(body){Object.assign(this.verticalInfo,Be({},this.verticalInfo,body.verticalInfo||{})),this.pushState((e=>{Object.assign(e,Be({},e,body))}))}setComposerDebug(data){this.pushState((e=>{e.debug||(e.debug={}),Object.assign(e.debug,data)}))}}Ge.__serviceName="AbstractStoreService_AbstractComposerStore";var Ve=o("f0245"),ze=o("3e315");class Fe extends Ge{deepSet(e){this.pushState((t=>{e.map&&"function"==typeof e.map&&(e.value=e.map(e.value),delete e.map),(0,Ve.vueSet)(t,e.path,e.value)}))}getStateObject(){return this.state}removeWidgetByStateId({stateId:e}){if(!e)throw new ce.LoggerError(A.LAYOUT.WIDGET_NO_STATE_ID);this.pushState(((t,o)=>{try{var r=He(t,e);if(r)return void f().delete(r.layer,r.widgetIndex);throw new De.WidgetError(A.LAYOUT.WIDGET_NOT_FOUND_STATE_ID)}catch(r){o(),We(this.container.resolve("Logger"),r,{layout:t.layout,stateId:e,triggerMutation:"removeWidgetByStateId",layoutModal:t.layoutModal||"none",layoutNotify:t.layoutNotify||"none"})}}))}setWidgetPlaceholderByStateId({stateId:e,placeholder:t}){if(!e)throw new ce.LoggerError(A.LAYOUT.WIDGET_NO_STATE_ID);this.pushState(((o,r)=>{try{var n=He(o,e);if(n)return void function(e,t,o){if(e[t].placeholders){var r=(0,ze.ph)(e[t].placeholders,o.name);if(!r.name){var n=e[t].placeholders.length;return void f().set(e[t].placeholders,n,o)}for(var c=e[t].placeholders.indexOf(r),i=0;i<o.widgets.length;i++){var d=e[t].placeholders[c].widgets.length;f().set(e[t].placeholders[c].widgets,d,o.widgets[i])}}else f().set(e[t],"placeholders",[o])}(n.layer,n.widgetIndex,t);throw new De.WidgetError(A.LAYOUT.WIDGET_NOT_FOUND_STATE_ID)}catch(t){r(),We(this.container.resolve("Logger"),t,{layout:o.layout,stateId:e,triggerMutation:"setWidgetPlaceholderByStateId",layoutModal:o.layoutModal||"none",layoutNotify:o.layoutNotify||"none"})}}))}setLayoutModal(e){this.pushState((t=>{f().set(t,"layoutModal",e)}))}setLayoutModalOptions({isShown:e,url:t}){this.pushState((o=>{f().set(o,"layoutModalOptions",{isShown:e,url:t})}))}setLayoutNotify(e){this.pushState((t=>{f().set(t,"layoutNotify",e)}))}setLayoutNotifyOptions({options:e={},data}){this.pushState((t=>{var o=void 0===e.showNotify||e.showNotify,r=Object.assign(Object.assign({},e),{},{showNotify:o});"function"==typeof o&&(r.showNotify=o(data)),r.atoms&&r.atoms.length&&(r.nuclear=!0,delete r.atoms),f().set(t.shared,"layoutNotifyOptions",r)}))}setSharedState(e={}){this.pushState((t=>{f().set(t,"shared",Object.assign({},t.shared,e))}))}setLocationState(e={}){this.pushState((t=>{f().set(t,"location",Object.assign({},t.location,e))}))}setVerticalInfo(e={}){Object.assign(this.verticalInfo,Be({},this.verticalInfo,e)),this.pushState((t=>{t.verticalInfo=Object.assign(t.verticalInfo||{},e)}))}setTrackingTokenAliases(e){this.pushState((t=>{f().set(t,"trackingTokenAliases",Object.assign({},t.trackingTokenAliases,e))}))}setDebugWidgetsState(e={}){this.pushState((t=>{f().set(t.debug,"widgets",Object.assign({},t.debug.widgets,e))}))}replaceStateByPath(e={}){var{path,value:t}=e;if(!path||void 0===t)throw new ce.LoggerError(A.LAYOUT.WRONG_REPLACE_PARAMS);this.deepSet({path,value:t})}replaceSharedStore(e={}){var{vertical:t,verticalShared:o={}}=e;if(!t||!o)throw new ce.LoggerError(A.LAYOUT.WIDGET_ASYNC_NO_VERTICAL);Object.keys(o).forEach((e=>{var r={path:[t,"shared",e].join("."),value:o[e]},n={path:["shared",e].join("."),value:o[e]};this.replaceStateByPath(r),this.replaceStateByPath(n)}))}}var Ye=o("cb79f");var qe=new Map,Je=(element,e)=>{qe.set(element,e)},Ke=element=>qe.get(element),Xe=o("f4e50"),Qe=e=>e.elm,Ze={bind(element,e){var t=Object.assign(Object.assign({},Xe.DEFAULT_DETECT_VIEWPORT_SETTINGS),e.value),o=e.value.callback,r=e.value.threshold||[0,.5];if(t.track){if("function"!=typeof o)throw Xe.detectViewportError.create(" callback    function.",`   callback  "${typeof o}".`);var n=((element,e)=>(t,o)=>{var r=Ke(element);if(r){var n=r.settings.detectHalf?o>=.5:t;if((n||r.settings.emitInvisible)&&n!==r.isVisible&&(r.callback(n),r.settings.once))e(element);else{var c=Object.assign(Object.assign({},r),{},{isVisible:n});Je(element,c)}}})(element,(e=>Ze.unbind(e,null,null,null))),c=(0,Xe.getDetectViewportObserver)({threshold:r,rootMargin:(0,Xe.getInitMargins)(t)},n);Je(element,{settings:t,callback:o,handler:n,observer:c,isVisible:!1}),c.observe(element)}},componentUpdated(e,t,o,r){var n=(0,Xe.getDetectViewportSettings)(t.value),c=(0,Xe.getDetectViewportSettings)(t.oldValue);if(o.elm!==r.elm||n.track!==c.track||t.value.subscriptionRenewal)return Ze.unbind(Qe(r),t,o,r),void Ze.bind(Qe(o),t,o,r);n.unbind!==c.unbind&&(n.unbind?Ze.unbind(Qe(r),t,o,r):Ze.bind(Qe(o),t,o,r))},unbind(element){var e=Ke(element);e&&(e.observer.unobserve(element),(element=>{qe.delete(element)})(element))}};f().directive("detect-viewport",Ze);var et=o("060e1"),tt=10,ot=40,at=400;function it(e){return e.touches[0].clientX}function nt(e){return e.touches[0].clientY}function st(e,t,o,param=null){var r=t.$$touchObj.callbacks[o]||[];if(0===r.length)return null;for(var i=0;i<r.length;i++){var n=r[i];n.modifiers.stop&&e.stopPropagation(),n.modifiers.prevent&&e.preventDefault(),n.modifiers.self&&e.target!==e.currentTarget||"function"==typeof n.value&&(param?n.value(param,e):n.value(e))}}function ct(e){var t=this.$$touchObj;e.type.indexOf("touch")>=0&&(t.lastTouchStartTime=e.timeStamp),t.touchStarted||(t.touchStarted=!0,t.touchMoved=!1,t.swipeOutBounded=!1,t.startX=it(e),t.startY=nt(e),t.currentX=0,t.currentY=0,t.touchStartTime=e.timeStamp,st(e,this,"start"))}function lt(e){var t=this.$$touchObj;if(t.currentX=it(e),t.currentY=nt(e),t.touchMoved){if(!t.swipeOutBounded){var o=ot;t.swipeOutBounded=Math.abs(t.startX-t.currentX)>o&&Math.abs(t.startY-t.currentY)>o}}else{var r=tt;t.touchMoved=Math.abs(t.startX-t.currentX)>r||Math.abs(t.startY-t.currentY)>r,t.touchMoved&&st(e,this,"moved")}t.touchMoved&&st(e,this,"moving")}function pt(){var e=this.$$touchObj;e.touchStarted=e.touchMoved=!1,e.startX=e.startY=0}function ut(e){var t=this.$$touchObj;if(e.type.indexOf("touch")>=0&&(t.lastTouchEndTime=e.timeStamp),t.touchStarted=!1,st(e,this,"end"),t.touchMoved){if(!t.swipeOutBounded){var o,r=ot;o=Math.abs(t.startX-t.currentX)<r?t.startY>t.currentY?"top":"bottom":t.startX>t.currentX?"left":"right",t.callbacks["swipe."+o]?st(e,this,"swipe."+o,o):st(e,this,"swipe",o)}}else t.callbacks.longtap&&e.timeStamp-t.touchStartTime>at?(e.preventDefault(),st(e,this,"longtap")):st(e,this,"tap")}var mt={bind(e,t){if("boolean"!=typeof t||t){e.$$touchObj=e.$$touchObj||{callbacks:{},hasBindTouchEvents:!1};var o=t.arg||"tap";if("swipe"===o){var r=t.modifiers;if(r.left||r.right||r.top||r.bottom){for(var i in t.modifiers)if(["left","right","top","bottom"].indexOf(i)>=0){var n="swipe."+i;e.$$touchObj.callbacks[n]=e.$$touchObj.callbacks[n]||[],e.$$touchObj.callbacks[n].push(t)}}else e.$$touchObj.callbacks.swipe=e.$$touchObj.callbacks.swipe||[],e.$$touchObj.callbacks.swipe.push(t)}else e.$$touchObj.callbacks[o]=e.$$touchObj.callbacks[o]||[],e.$$touchObj.callbacks[o].push(t);if(!e.$$touchObj.hasBindTouchEvents){var c=!!(0,et.getSupportsPassive)()&&{passive:!0};e.addEventListener("touchstart",ct,c),e.addEventListener("touchmove",lt,c),e.addEventListener("touchcancel",pt),e.addEventListener("touchend",ut),e.$$touchObj.hasBindTouchEvents=!0}}},unbind(e){e.removeEventListener("touchstart",ct),e.removeEventListener("touchmove",lt),e.removeEventListener("touchcancel",pt),e.removeEventListener("touchend",ut),delete e.$$touchObj}};f().directive("touch",mt);var ht=o("47b09"),ft=(e,t)=>{t.value&&(e.innerHTML=t.value)},vt={bind(e,t,o){ft(e,t),n()(o,"context.$config.configurationObj.vHtmlLog")&&(e=>{var t=(0,ht.getFirstBaseInstance)(e);if(t&&"function"==typeof t.getLoggerParams){var o=t.getLoggerParams(),r=new De.WidgetError(A.LAYOUT.DIRECTIVE_V_HTML_DEPRECATED);r.mergePayload({widget:o.widget,stateId:o.stateId,vertical:o.vertical,error:A.LAYOUT.DIRECTIVE_V_HTML_DEPRECATED.value,component:e.$options.name}),e.$logger.info(r,{forceMode:!0})}})(o.context)},update(e,t){ft(e,t)}};f().directive("html-deprecated",vt);var gt=window.__NUXT__=window.__NUXT__||{};async function bt(e){(e=>{window.addEventListener("beforeinstallprompt",(()=>{e.resolve("Tracker").sendEvent({actionType:"pwa_installation_prompt"})})),window.addEventListener("appinstalled",(()=>{e.resolve("Tracker").sendEvent({actionType:"pwa_installed"})}))})(e),(e=>{var t=f().config.errorHandler;f().config.errorHandler=(...o)=>{var[r]=o;t&&t(...o),C(e,{exception:r})}})(e),function(e){var t=e.resolve("ComposerStore").state._get("o3Params.x-o3-ui-tests");Ye._3.install(f(),{store:{state:{o3Params:void 0===t?{}:{"x-o3-ui-tests":t}}}})}(e),await F(e,f().nextTick)}f().config.devtools=("string"==typeof gt.state?gt.state.indexOf('"x-o3-vue-devtools":"true"')>=0:n()(gt.state,["o3Params","x-o3-vue-devtools"]))||te;var yt=async e=>{"string"==typeof gt.state&&(gt.state=JSON.parse(gt.state)),f().config.silent=true,f().config.performance=te,(0,S.B)(_.Z),(0,E.pm)(_.Z);try{var t={};gt.state&&Object.assign(t,gt.state),(0,O.tf)(t);var o=e.registerEager("ComposerStore",Fe,t);e.register("Logger",ee),(0,E.dT)(o);var r=(0,E.qI)(o,_.Z).catch((e=>{console.error(e)}));await he(e),(0,fe.n)(e.resolve("SingletonRegistry"));var n={props:ke,provide:Ne,render:e=>e("div",{domProps:{id:"__ozon"}},[e(_e)])};!function(e,t){je.forEach((([o,r])=>{Object.defineProperty(t,o,{enumerable:!0,get:()=>e.resolve(r)}),Pe(o)}))}(e,n);var d=function(e){return function(t,o){if(!t)throw new Error("inject(key, value) has no key provided");if(void 0===o)throw new Error("inject(key, value) has no value provided");t.startsWith("$")||(t="$"+t),e[t]=o,Pe(t)}}(n);d("$container",e),await bt(e),await r;var l=new(f())(n);l.$mount("#__ozon"),f().nextTick((()=>{c.forEach((e=>{"function"==typeof e&&e(l)}))}))}catch(e){(f().config.errorHandler||console.error)(e)}};try{"string"==typeof gt.__CONFIG__&&(gt.__CONFIG__=JSON.parse(gt.__CONFIG__));var wt=Object.preventExtensions(new Y),_t=wt.registerEager("Config",K,gt.__CONFIG__||{}).get("invokeClientEntryDelay")||0;window.setTimeout((()=>{yt(wt).catch((e=>console.error(e)))}),_t)}catch(e){console.error(e)}},ba93a:(e,t,o)=>{o.r(t);var r=window.__federation__.containers.host;r.set("application/exposed/composer/base-widget",(()=>o("9df37"))),r.set("application/exposed/composer/base-widget/utils/get-first-base-instance",(()=>o("47b09"))),r.set("application/exposed/composer/link",(()=>o("f1a87"))),r.set("application/exposed/composer/links-stub",(()=>o("d2b74"))),r.set("application/exposed/composer/mixins/composer-loading",(()=>o("82cc7"))),r.set("application/exposed/composer/mixins/composer-router",(()=>o("fedc2"))),r.set("application/exposed/composer/mixins/defer.mixin",(()=>o("24836"))),r.set("application/exposed/composer/mixins/widget",(()=>o("99140"))),r.set("application/exposed/composer/placeholder-render",(()=>o("dd0cc"))),r.set("application/exposed/core/load-icons/clone-fe-icons-types",(()=>o("833db"))),r.set("application/exposed/core/load-icons/load-icon-component",(()=>o("9f069"))),r.set("application/exposed/directives/body-scroll-lock",(()=>o._e("exposed-directives").then(o.bind(o,"fcca7")))),r.set("application/exposed/directives/body-scroll-lock/utils",(()=>o._e("exposed-directives").then(o.bind(o,"e6d1c")))),r.set("application/exposed/directives/click-outside",(()=>o._e("exposed-directives").then(o.bind(o,"54b08")))),r.set("application/exposed/directives/no-body-scroll-anchoring",(()=>o._e("exposed-directives").then(o.bind(o,"31d02")))),r.set("application/exposed/directives/prerender",(()=>o._e("exposed-directives").then(o.bind(o,"57703")))),r.set("application/exposed/directives/sticky",(()=>o._e("exposed-directives").then(o.bind(o,"f0fd2")))),r.set("application/exposed/helpers/composer-store",(()=>o("8d2e0"))),r.set("application/exposed/helpers/vue-deepset",(()=>o("f0245"))),r.set("application/exposed/mixins/async-icons.mixin",(()=>o("2cb21"))),r.set("application/exposed/mixins/cookie.mixin",(()=>o("066c5"))),r.set("application/exposed/mixins/default-platform-actions",(()=>o("67528"))),r.set("application/exposed/core/abstract-actions-service",(()=>o("e7db3"))),r.set("application/exposed/core/abstract-api-service",(()=>o("4f7de"))),r.set("application/exposed/core/abstract-store-service",(()=>o("2e332"))),r.set("application/exposed/core/action/dispatcher",(()=>o("0420e"))),r.set("application/exposed/core/action",(()=>o("f9367"))),r.set("application/exposed/core/action/types",(()=>o("fe091"))),r.set("application/exposed/core/client-widget-states",(()=>o("0dbf4"))),r.set("application/exposed/core/event-bus",(()=>o("6c5ec"))),r.set("application/exposed/core/notification-store",(()=>o("7da90"))),r.set("application/exposed/entity/error/api-logger-error",(()=>o("109b2"))),r.set("application/exposed/entity/error/federation-logger-error",(()=>o("d80e0"))),r.set("application/exposed/entity/error/logger-error",(()=>o("fdced"))),r.set("application/exposed/entity/error/widget-error",(()=>o("a6f82"))),r.set("application/exposed/helpers/api-url",(()=>o("b6281"))),r.set("application/exposed/helpers/check-scroll",(()=>o("d9852"))),r.set("application/exposed/helpers/constants/async-types",(()=>o("1b5cb"))),r.set("application/exposed/helpers/constants/errors/api",(()=>o("7f57f"))),r.set("application/exposed/helpers/constants/errors/async-icons",(()=>o("1504d"))),r.set("application/exposed/helpers/constants/errors/common",(()=>o("feb49"))),r.set("application/exposed/helpers/constants/errors/core",(()=>o("6c489"))),r.set("application/exposed/helpers/constants/errors/federation",(()=>o("1c630"))),r.set("application/exposed/helpers/constants/errors/ignore-list",(()=>o("768eb"))),r.set("application/exposed/helpers/constants/errors/layout",(()=>o("35eb1"))),r.set("application/exposed/helpers/constants/errors/logger",(()=>o("22a1a"))),r.set("application/exposed/helpers/constants/errors/sw",(()=>o("36e64"))),r.set("application/exposed/helpers/constants/errors/tracker",(()=>o("13475"))),r.set("application/exposed/helpers/constants/logger",(()=>o("538b7"))),r.set("application/exposed/helpers/constants/o3-params",(()=>o("5fa5d"))),r.set("application/exposed/helpers/constants/services",(()=>o("eab3a"))),r.set("application/exposed/helpers/cookie",(()=>o("632be"))),r.set("application/exposed/helpers/dates",(()=>o("00c3b"))),r.set("application/exposed/helpers/detect-viewport",(()=>o("f4e50"))),r.set("application/exposed/helpers/errors",(()=>o("6cd94"))),r.set("application/exposed/helpers/get-hash-and-offset",(()=>o("03282"))),r.set("application/exposed/helpers/headers",(()=>o("b56fa"))),r.set("application/exposed/helpers/is-pwa",(()=>o("70df8"))),r.set("application/exposed/helpers/load-icon-component",(()=>o("080b3"))),r.set("application/exposed/helpers/objects",(()=>o("bce84"))),r.set("application/exposed/helpers/observables",(()=>o("6c8a6"))),r.set("application/exposed/helpers/prerender-all",(()=>o("009bb"))),r.set("application/exposed/helpers/promise",(()=>o("d33d8"))),r.set("application/exposed/helpers/scroll-to",(()=>o("4bc00"))),r.set("application/exposed/helpers/service-worker/cache-pages",(()=>o("8e54f"))),r.set("application/exposed/helpers/service-worker/constants",(()=>o("e958e"))),r.set("application/exposed/helpers/service-worker/health-check",(()=>o("063fb"))),r.set("application/exposed/helpers/service-worker",(()=>o("aec1f"))),r.set("application/exposed/helpers/service-worker/prefetch",(()=>o("b8f2f"))),r.set("application/exposed/helpers/service-worker/send-message",(()=>o("7ef8f"))),r.set("application/exposed/helpers/supports-passive",(()=>o("060e1"))),r.set("application/exposed/helpers/trinity",(()=>o("8668f"))),r.set("application/exposed/helpers/url",(()=>o("f5be3"))),r.set("application/exposed/helpers/video-upload-config",(()=>o("b3a19"))),r.set("application/exposed/helpers/web-socket-config",(()=>o("22a63"))),r.set("application/exposed/services/actions/composer",(()=>o("7b347"))),r.set("application/exposed/services/actions/cookies",(()=>o("861af"))),r.set("application/exposed/services/api/composer",(()=>o("fa6ab"))),r.set("application/exposed/services/client-registry",(()=>o("f7897"))),r.set("common/core/action/default-actions",(()=>o("006cd"))),r.set("common/core/action/default-atom-actions",(()=>o("b78a9"))),r.set("common/core/action",(()=>o("0eb62"))),r.set("common/atoms/add-to-cart-button-with-quantity",(()=>Promise.all([o.e("atoms-button"),o._e("services-cart-global"),o.e("atoms-add-to-cart-button-with-quantity")]).then(o.bind(o,"a6100")))),r.set("common/atoms/add-to-cart-button",(()=>Promise.all([o.e("atoms-button"),o._e("services-cart-global"),o._e("atoms-add-to-cart-button")]).then(o.bind(o,"d3b2e")))),r.set("common/atoms/annotation-new",(()=>o.e("atoms-annotation-new").then(o.bind(o,"6caf3")))),r.set("common/atoms/annotation",(()=>Promise.all([o.e("atoms-button"),o.e("components-button"),o.e("atoms-annotation")]).then(o.bind(o,"a4931")))),r.set("common/atoms/avatar",(()=>o.e("atoms-avatar").then(o.bind(o,"3eb0e")))),r.set("common/atoms/badge/badge",(()=>o.e("atoms-badge").then(o.bind(o,"17598")))),r.set("common/atoms/bullet-elements",(()=>o.e("atoms-bullet-elements").then(o.bind(o,"0396f")))),r.set("common/atoms/bullet-list",(()=>o.e("atoms-bullet-list").then(o.bind(o,"68e51")))),r.set("common/atoms/button/icon-button",(()=>o.e("atoms-button").then(o.bind(o,"43075")))),r.set("common/atoms/button/large-borderless-button",(()=>o.e("atoms-button").then(o.bind(o,"cdfbf")))),r.set("common/atoms/button/large-button",(()=>o.e("atoms-button").then(o.bind(o,"6fb46")))),r.set("common/atoms/button/large-gradient-button",(()=>o.e("atoms-button").then(o.bind(o,"6be17")))),r.set("common/atoms/button/resizable-button",(()=>o.e("atoms-button").then(o.bind(o,"481cf")))),r.set("common/atoms/button/small-borderless-button-with-icon",(()=>o.e("atoms-button").then(o.bind(o,"05cbc")))),r.set("common/atoms/button/small-borderless-button",(()=>o.e("atoms-button").then(o.bind(o,"da608")))),r.set("common/atoms/button/small-button-with-icon",(()=>o.e("atoms-button").then(o.bind(o,"c3aaa")))),r.set("common/atoms/button/small-button",(()=>o.e("atoms-button").then(o.bind(o,"99a88")))),r.set("common/atoms/button/web-button",(()=>o.e("atoms-button").then(o.bind(o,"7b8f1")))),r.set("common/atoms/cells/cell",(()=>Promise.all([o.e("atoms-badge"),o.e("atoms-cells")]).then(o.bind(o,"01f5c")))),r.set("common/atoms/circular-countdown/circular-countdown",(()=>o.e("atoms-circular-countdown").then(o.bind(o,"4eb7f")))),r.set("common/atoms/color",(()=>o.e("atoms-color").then(o.bind(o,"06fe2")))),r.set("common/atoms/disclosure/disclosure",(()=>o.e("atoms-disclosure").then(o.bind(o,"a9948")))),r.set("common/atoms/ds-aspect",(()=>o._e("atoms-ds-aspect").then(o.bind(o,"98120")))),r.set("common/atoms/ds-badge/badge",(()=>o._e("atoms-ds-badge").then(o.bind(o,"b6599")))),r.set("common/atoms/ds-button/button",(()=>o._e("atoms-ds-button").then(o.bind(o,"2c927")))),r.set("common/atoms/ds-button/icon",(()=>o._e("atoms-ds-button").then(o.bind(o,"c3662")))),r.set("common/atoms/ds-button/link",(()=>o._e("atoms-ds-button").then(o.bind(o,"856e5")))),r.set("common/atoms/ds-button/tag",(()=>o._e("atoms-ds-button").then(o.bind(o,"3b576")))),r.set("common/atoms/ds-cell/cell",(()=>o._e("atoms-ds-cell").then(o.bind(o,"81333")))),r.set("common/atoms/ds-input-select-button",(()=>o._e("atoms-ds-input-select-button").then(o.bind(o,"14d2e")))),r.set("common/atoms/ds-notification-bar/notification",(()=>o._e("atoms-ds-notification-bar").then(o.bind(o,"47e3f")))),r.set("common/atoms/ds-price",(()=>o._e("atoms-ds-price").then(o.bind(o,"32d2b")))),r.set("common/atoms/header",(()=>Promise.all([o.e("atoms-button"),o.e("atoms-text"),o.e("components-button"),o._e("atoms-ds-badge"),o.e("atoms-header")]).then(o.bind(o,"8ce6a")))),r.set("common/atoms/icon",(()=>o._e("atoms-icon").then(o.bind(o,"4c8e0")))),r.set("common/atoms/image",(()=>o._e("atoms-image").then(o.bind(o,"2f7e4")))),r.set("common/atoms/indicator",(()=>o._e("atoms-indicator").then(o.bind(o,"331df")))),r.set("common/atoms/label-list",(()=>o.e("atoms-label-list").then(o.bind(o,"eb93d")))),r.set("common/atoms/label",(()=>o.e("atoms-label").then(o.bind(o,"b3aab")))),r.set("common/atoms/list",(()=>o.e("atoms-list").then(o.bind(o,"6b354")))),r.set("common/atoms/notification/notification",(()=>Promise.all([o.e("atoms-button"),o.e("atoms-circular-countdown"),o.e("atoms-notification")]).then(o.bind(o,"f871f")))),r.set("common/atoms/numbered-list",(()=>o.e("atoms-numbered-list").then(o.bind(o,"9567c")))),r.set("common/atoms/price-v2",(()=>o._e("atoms-price-v2").then(o.bind(o,"5feef")))),r.set("common/atoms/price-with-points",(()=>o.e("atoms-price-with-points").then(o.bind(o,"1a734")))),r.set("common/atoms/product-media",(()=>o._e("atoms-product-media").then(o.bind(o,"cfa15")))),r.set("common/atoms/progress-bar-signed",(()=>o.e("atoms-progress-bar-signed").then(o.bind(o,"2c729")))),r.set("common/atoms/rating",(()=>o.e("atoms-rating").then(o.bind(o,"fdf57")))),r.set("common/atoms/tabs/tabs",(()=>o._e("atoms-tabs").then(o.bind(o,"9429f")))),r.set("common/atoms/tag",(()=>o.e("atoms-tag").then(o.bind(o,"d30a9")))),r.set("common/atoms/text-medium",(()=>Promise.all([o.e("atoms-button"),o.e("components-button"),o.e("atoms-text-medium")]).then(o.bind(o,"fa45b")))),r.set("common/atoms/text-small",(()=>o.e("atoms-text-small").then(o.bind(o,"28c78")))),r.set("common/atoms/text-subtext",(()=>o.e("atoms-text-subtext").then(o.bind(o,"c5e67")))),r.set("common/atoms/text/text-atom",(()=>o.e("atoms-text").then(o.bind(o,"9c9a0")))),r.set("common/atoms/timer",(()=>o.e("atoms-timer").then(o.bind(o,"b7fa3")))),r.set("common/components/action-sheet",(()=>Promise.all([o.e("atoms-badge"),o.e("atoms-cells"),o.e("components-action-sheet")]).then(o.bind(o,"970d5")))),r.set("common/components/add-to-list-modal",(()=>o.e("components-add-to-list-modal").then(o.bind(o,"cdd02")))),r.set("common/components/adult-text",(()=>o.e("components-adult-text").then(o.bind(o,"d8f13")))),r.set("common/components/adv-badge",(()=>Promise.all([o._e("atoms-ds-badge"),o.e("components-adv-badge")]).then(o.bind(o,"4e2da")))),r.set("common/components/badges",(()=>Promise.all([o.e("atoms-badge"),o._e("atoms-ds-badge"),o.e("components-badges")]).then(o.bind(o,"10d73")))),r.set("common/components/blocking-loader",(()=>Promise.all([o.e("components-preloader-five-dots"),o.e("components-blocking-loader")]).then(o.bind(o,"92abe")))),r.set("common/components/button",(()=>Promise.all([o.e("atoms-button"),o.e("components-button")]).then(o.bind(o,"ffbeb")))),r.set("common/components/city-selector",(()=>o._e("components-city-selector").then(o.bind(o,"e7be4")))),r.set("common/components/common-cell-list-v2",(()=>Promise.all([o.e("atoms-text"),o._e("atoms-icon"),o._e("atoms-ds-cell"),o.e("components-common-cell-list-v2"),o._e("node_modules_uuid_v4_js")]).then(o.bind(o,"5e60d")))),r.set("common/components/common-header-v1",(()=>Promise.all([o.e("atoms-text"),o._e("atoms-ds-badge"),o.e("components-common-header-v1")]).then(o.bind(o,"4bfb6")))),r.set("common/components/common-plain-text-v1",(()=>Promise.all([o.e("atoms-text"),o._e("components-common-plain-text-v1")]).then(o.bind(o,"b23e0")))),r.set("common/components/confirm-modal",(()=>Promise.all([o.e("atoms-button"),o.e("components-confirm-modal")]).then(o.bind(o,"f29e6")))),r.set("common/components/curtain-nav-bar",(()=>o.e("components-curtain-nav-bar").then(o.bind(o,"c1e6e")))),r.set("common/components/edit-list-modal",(()=>o.e("components-edit-list-modal").then(o.bind(o,"b162f")))),r.set("common/components/favorite-button",(()=>Promise.all([o.e("atoms-button"),o.e("components-favorite-button")]).then(o.bind(o,"a4db1")))),r.set("common/components/form-builder",(()=>Promise.all([o.e("atoms-button"),o.e("atoms-text"),o.e("components-button"),o.e("atoms-badge"),o._e("atoms-ds-badge"),o.e("atoms-cells"),o._e("atoms-ds-cell"),o.e("atoms-text-medium"),o.e("atoms-header"),o.e("atoms-annotation-new"),o.e("atoms-annotation"),o.e("atoms-list"),o.e("components-form-builder"),o.e("services_api_checkout-composer_ts-services_store_address-book-map_ts-teams_checkout_component-63dcf2")]).then(o.bind(o,"beaaf")))),r.set("common/components/info",(()=>o.e("components-info").then(o.bind(o,"40cf8")))),r.set("common/components/map-sdk",(()=>Promise.all([o._e("vendor-lodash"),o.e("components-map-sdk"),o._e("services_store_address-book-map_ts")]).then(o.bind(o,"b18b3")))),r.set("common/components/mob-hint-modal",(()=>Promise.all([o.e("components-rich-string"),o.e("components-mob-hint-modal")]).then(o.bind(o,"18033")))),r.set("common/components/preloader-five-dots",(()=>o.e("components-preloader-five-dots").then(o.bind(o,"f6cb3")))),r.set("common/components/preloader-spinner",(()=>o.e("components-preloader-spinner").then(o.bind(o,"6c203")))),r.set("common/components/price/price",(()=>o.e("components-price").then(o.bind(o,"c9193")))),r.set("common/components/results-header",(()=>Promise.all([o.e("atoms-button"),o.e("atoms-badge"),o.e("components-results-header")]).then(o.bind(o,"e4d3c")))),r.set("common/components/rich-string",(()=>o.e("components-rich-string").then(o.bind(o,"2a99e")))),r.set("common/components/single-review",(()=>Promise.all([o._e("exposed-directives"),o.e("atoms-text"),o._e("atoms-ds-button"),o._e("atoms-icon"),o.e("components-single-review")]).then(o.bind(o,"2eef5")))),r.set("common/components/thin-scroll",(()=>Promise.all([o.e("atoms-text"),o._e("atoms-ds-button"),o._e("atoms-icon"),o._e("services-cart-global"),o.e("components-adult-text"),o._e("atoms-ds-price"),o.e("components-thin-scroll")]).then(o.bind(o,"173a8")))),r.set("common/components/y-map-multi-dragger",(()=>o.e("components-y-map-multi-dragger").then(o.bind(o,"6bbec")))),r.set("common/components/y-map-multi",(()=>o.e("components-y-map-multi").then(o.bind(o,"da2f2")))),r.set("common/mixins/add-to-cart-with-modal.mixin",(()=>o("7b9c8"))),r.set("common/mixins/authorization-service.mixin",(()=>o("a3536"))),r.set("common/mixins/get-atom-by-type",(()=>o("90853"))),r.set("common/mixins/location.mixin",(()=>o("2ad88"))),r.set("common/mixins/service-worker.mixin",(()=>o("e51fe"))),r.set("common/mixins/tile-selector-service",(()=>o("9c7f8")))},"4bd08":(e,t,o)=>{o.d(t,{Z:()=>c});var r={render:()=>null},n=o("c252e"),c=o.n(n)()(r,undefined,undefined,!1,null,null,null).exports},f1a87:(e,t,o)=>{o.r(t),o.d(t,{default:()=>_});var r=o("dafb4"),n=o("03282"),c=o("4bc00"),d=o("70df8"),l={UNSET:"",SELF:"_self",BLANK:"_blank",PARENT:"_parent",TOP:"_top"},m=["push","replace"],h="noopener",f=async(e,t,o)=>{if(!e||3!==e.which){var m=r.Router.getInstance(),h=()=>{"function"==typeof o&&o(e)};if((0,d.isPWA)()||!t.target&&t.href||!o){var f=((e,t)=>!(!e||!e.ctrlKey&&!e.metaKey&&2!==e.which&&((0,d.isPWA)()||t.target!==l.BLANK&&"auxclick"!==e.type)))(e,t);if(h(),!e.defaultPrevented)if(t.href&&"#"===t.href[0]){var{hash:v,offsetTop:y}=(0,n.getHashAndOffset)(t.href),w=y?{offsetTop:y}:void 0;(0,c.scrollTo)(`#${v}`,300,w)}else e.preventDefault(),t.href&&t.href.startsWith("http")?m.redirect(t.href,f?"_blank":"_self"):t.href&&(f?m.redirect(t.href,"_blank"):t.method&&await m[t.method](t.href,{silent:t.silent,scroll:t.scroll}))}else h()}},v=Object.values(l),y={name:"ComposerLink",functional:!0,inject:{pageType:{default:""},experimentsNoBlank:{default:!1}},props:{href:{type:String},target:{type:String,default:l.UNSET,validator:e=>v.includes(e)},rel:{type:String},method:{type:String,default:"push",validator:e=>m.includes(e)},silent:{type:Boolean,default:!1},scroll:{type:Boolean,default:!0},noBlank:{type:Boolean,default:!1}},render(e,{data,props:t,listeners:o,children:r,injections:n}){data.attrs=data.attrs||{};var c=((e,t)=>{var o=!e.noBlank&&!(0,d.isPWA)()&&!t.experimentsNoBlank;return"home"===t.pageType&&o&&(e.target=l.BLANK),e.target===l.BLANK&&-1===(e.rel||"").indexOf(h)&&(e.rel=e.rel?`${e.rel} ${h}`:h),e})(Object.assign({},t),n),m=e=>{f(e,c,o.click)};return e("a",Object.assign(Object.assign({},data),{},{attrs:Object.assign(Object.assign({},data.attrs),{},{target:c.target||!1,href:c.href||!1,rel:c.rel||!1}),on:Object.assign(Object.assign({},o),{},{click:m,auxclick:m})}),r)}},w=o("c252e"),_=o.n(w)()(y,undefined,undefined,!1,null,null,null).exports},d2b74:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var r=o("dafb4"),n=o("f1a87");async function c(e,t,o){if(!e.href||!t.click||e.target||e.withAtomAction){var n=r.Router.getInstance();if(t.click&&t.click(o),e.withAtomAction)return o.preventDefault(),void o.stopPropagation();if(e.target)return n.redirect(e.href,"_blank"),void o.preventDefault();if(e.fakeLink){if(e.target)return void n.redirect(e.href,"_blank");!!o&&(o.ctrlKey||o.metaKey||2===o.which)?n.redirect(e.href,"_blank"):n.push(e.href)}}else t.click(o)}var d={name:"LinksStub",functional:!0,props:{type:{type:String,default:"div"},href:{type:[String,Boolean],default:""},target:{type:Boolean,default:!1},fakeLink:{type:Boolean,default:!1},theme:{type:String,default:""},withAtomAction:{type:Boolean,default:!1}},render(e,{data,$style:t,props:o,listeners:r,children:d}){data.attrs=data.attrs||{};var{type:l,href:m,theme:h}=o,{target:f}=o;return f=f?"_blank":"_self",e(m?n.default:l,Object.assign(Object.assign({},data),{},{class:[t.link,{[t[h]]:h},data.class],attrs:Object.assign({},data.attrs),props:{href:m,target:f},on:Object.assign(Object.assign({},r),{},{click:c.bind(this,o,r)})}),d)}},l={link:"a6",dark:"a7",light:"a8"},m=o("c252e");var h=o.n(m)()(d,undefined,undefined,!1,(function(e){this.$style=l.locals||l}),null,null).exports}}]);