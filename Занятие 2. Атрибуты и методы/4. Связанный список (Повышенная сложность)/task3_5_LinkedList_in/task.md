Чтобы объект поддерживал оператор in, нужно реализовать метод `__contains__`. Этот метод отвечает за проверку наличия элемента в коллекции. 
Когда используется оператор `in`, Python вызывает метод `__contains__`, чтобы определить, присутствует ли элемент в объекте.
Однако если не объявлен метод `__contains__`, то Python проверяет есть ли метод `__getitem__` и если он есть, то использует его.

Использование оператора in с методами `__getitem__` и `__contains__` связано с тем, как Python обрабатывает запросы на 
проверку членства (оператор in) в объектах.


## Как работает оператор in?

1. Проверка наличия метода `__contains__`:

> Когда вы используете оператор in для проверки наличия элемента в объекте, Python сначала проверяет, реализован ли метод `__contains__` в этом объекте. Этот метод должен возвращать `True` или `False`, указывая на наличие или отсутствие элемента.

2. Отсутствие метода `__contains__`:

> Если метод `__contains__` отсутствует, Python пытается использовать метод `__getitem__`. Но в `__getitem__` обязательно должен быть
> вызов `IndexError` если вышли за допустимый диапазон, так как именно так Python понимает, что цикл завершается.

3. Работа `__getitem__` в контексте оператора `in`:

> Когда используется `__getitem__`, Python перебирает элементы, начиная с индекса 0 и увеличивая его на 1 при каждом вызове. Это продолжается до тех пор, пока не возникнет исключение `IndexError`, которое сигнализирует о том, что элементы закончились.
> На каждом шаге Python сравнивает возвращаемый элемент с искомым значением. Если на каком-то этапе возвращаемый элемент совпадает с искомым, оператор `in` возвращает `True`.

4. Действия по завершению цикла:

> Если цикл проходит через все индексы и не находит соответствующего элемента, то оператор `in` возвращает `False`.


## Что нужно сделать?

1. Запустите код, посмотрите, что используется `__getitem__`. Подумайте почему для значения 0 `__getitem__` вызывается 3 раза?
2. Найдите место, где в `__getitem__` вызывается `IndexError`, закомментируйте его, запустите код и посмотрите, что изменится
3. Добавьте метод `__contains__`, проанализируйте код, запустите код и проверку. Обратите внимание сколько раз теперь вызывается метод.

```python
def __contains__(self, value: Any) -> bool:
    """Метод для поддержки оператора in."""
    print(f"Вызов метода __contains__, запросили сравнение с value={value}")

    current = self.head
    while current is not None:
        if current.value == value:
            return True
        current = current.next
    return False
```


## Выводы

Оператор `in` проверяет вхождение элемента в последовательность. Работает через метод `__contains__`, но если он не реализован,
то работает через метод `__getitem__` (если он реализован), однако происходит излишние вызовы методов.